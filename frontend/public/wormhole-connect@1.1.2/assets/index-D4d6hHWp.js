var uu=Object.defineProperty;var du=(e,t,n)=>t in e?uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ct=(e,t,n)=>du(e,typeof t!="symbol"?t+"":t,n);import{w as h,y as Ur,x as lu,i as tt,z as ia,A as aa,bb as fi,b5 as hi,aZ as pi,aE as mu,b9 as gi,aF as fu,dg as hu,b7 as yi,dh as Qo,di as bi,dj as vi,dk as wi,dl as ki,dm as _i,dn as Si,dp as pu,dq as gu,dr as yu,cb as bu,ba as vu}from"../main.js";import{t as jt,l as wu,c as qr,f as Rs,i as ca,m as ku}from"./index-BJd0Ft1W.js";import{b as _u,r as Su,a as ua,c as Pu,d as Au,e as Tu,x as Bt,f as Eu,g as Cu}from"./pako.esm-BmRJ7v9o.js";import{k as Mu,a as Ou,c as ju,d as da,e as Bu,v as Ru,p as Iu,q as $u,f as Nu,g as Du,h as xu,i as la,j as Uu,l as qu,m as Hu,n as Vu,o as Fu,r as Wu,s as Ju,u as Gu,w as Hr,x as Lu,y as zu,z as Ku,A as Qu,B as Zu,D as Xu,E as Yu,F as ed,H as td,I as nd,J as rd,K as ma,L as od,M as sd,N as id,O as ad,P as cd,G as Nt,C as Zo}from"./cosmwasm-CyUc9Vh-.js";import{CosmwasmWormholeCore as ud}from"./index-D4Qh5oxX.js";import{c as dd,C as ld}from"./unsignedTransaction-CU1N6MiT.js";import"./keccak-D5KiXXoh.js";import"./index-38TDOvlh.js";import"./pbkdf2-hgtI6hs6.js";import"./sha3-BCR3lxOA.js";import"./index-kXg7_kw1.js";function md(e){return e.id!==void 0&&e.pending!==void 0&&e.data!==void 0}var fa={},Ln={},ee={},Vr={},fd=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.Decimal=void 0;const Ue=fd(Ur),Pi=100;class K{static fromUserInput(t,n){K.verifyFractionalDigits(n);const r=t.match(/[^0-9.]/);if(r)throw new Error(`Invalid character at position ${r.index+1}`);let o,s;if(t==="")o="0",s="";else if(t.search(/\./)===-1)o=t,s="";else{const c=t.split(".");switch(c.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!c[1])throw new Error("Fractional part missing");o=c[0],s=c[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(s.length>n)throw new Error("Got more fractional digits than supported");const i=`${o}${s.padEnd(n,"0")}`;return new K(i,n)}static fromAtomics(t,n){return K.verifyFractionalDigits(n),new K(t,n)}static zero(t){return K.verifyFractionalDigits(t),new K("0",t)}static one(t){return K.verifyFractionalDigits(t),new K("1"+"0".repeat(t),t)}static verifyFractionalDigits(t){if(!Number.isInteger(t))throw new Error("Fractional digits is not an integer");if(t<0)throw new Error("Fractional digits must not be negative");if(t>Pi)throw new Error(`Fractional digits must not exceed ${Pi}`)}static compare(t,n){if(t.fractionalDigits!==n.fractionalDigits)throw new Error("Fractional digits do not match");return t.data.atomics.cmp(new Ue.default(n.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(t,n){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format. Only non-negative integers in decimal representation supported.");this.data={atomics:new Ue.default(t),fractionalDigits:n}}clone(){return new K(this.atomics,this.fractionalDigits)}floor(){const t=new Ue.default(10).pow(new Ue.default(this.data.fractionalDigits)),n=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():K.fromAtomics(n.mul(t).toString(),this.fractionalDigits)}ceil(){const t=new Ue.default(10).pow(new Ue.default(this.data.fractionalDigits)),n=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():K.fromAtomics(n.addn(1).mul(t).toString(),this.fractionalDigits)}toString(){const t=new Ue.default(10).pow(new Ue.default(this.data.fractionalDigits)),n=this.data.atomics.div(t),r=this.data.atomics.mod(t);if(r.isZero())return n.toString();{const s=r.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${n.toString()}.${s}`}}toFloatApproximation(){const t=Number(this.toString());if(Number.isNaN(t))throw new Error("Conversion to number failed");return t}plus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const n=this.data.atomics.add(new Ue.default(t.atomics));return new K(n.toString(),this.fractionalDigits)}minus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const n=this.data.atomics.sub(new Ue.default(t.atomics));if(n.ltn(0))throw new Error("Difference must not be negative");return new K(n.toString(),this.fractionalDigits)}multiply(t){const n=this.data.atomics.mul(new Ue.default(t.toString()));return new K(n.toString(),this.fractionalDigits)}equals(t){return K.compare(this,t)===0}isLessThan(t){return K.compare(this,t)<0}isLessThanOrEqual(t){return K.compare(this,t)<=0}isGreaterThan(t){return K.compare(this,t)>0}isGreaterThanOrEqual(t){return K.compare(this,t)>=0}}Vr.Decimal=K;var Je={},hd=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.Uint64=Je.Uint53=Je.Int53=Je.Uint32=void 0;const Ar=hd(Ur),pd=new Ar.default("18446744073709551615",10,"be");class xn{static fromBigEndianBytes(t){return xn.fromBytes(t)}static fromBytes(t,n="be"){if(t.length!==4)throw new Error("Invalid input length. Expected 4 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const r=n==="be"?t:Array.from(t).reverse();return new xn(r[0]*2**24+r[1]*2**16+r[2]*2**8+r[3])}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new xn(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<0||t>4294967295)throw new Error("Input not in uint32 range: "+t.toString());this.data=t}toBytesBigEndian(){return new Uint8Array([Math.floor(this.data/2**24)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**0)&255])}toBytesLittleEndian(){return new Uint8Array([Math.floor(this.data/2**0)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**24)&255])}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint32=xn;class Hn{static fromString(t){if(!t.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new Hn(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+t.toString());this.data=t}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Int53=Hn;class Is{static fromString(t){const n=Hn.fromString(t);return new Is(n.toNumber())}constructor(t){const n=new Hn(t);if(n.toNumber()<0)throw new Error("Input is negative");this.data=n}toNumber(){return this.data.toNumber()}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint53=Is;class Ht{static fromBytesBigEndian(t){return Ht.fromBytes(t)}static fromBytes(t,n="be"){if(t.length!==8)throw new Error("Invalid input length. Expected 8 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const r=n==="be"?Array.from(t):Array.from(t).reverse();return new Ht(new Ar.default(r))}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new Ht(new Ar.default(t,10,"be"))}static fromNumber(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");let n;try{n=new Ar.default(t)}catch{throw new Error("Input is not a safe integer")}return new Ht(n)}constructor(t){if(t.isNeg())throw new Error("Input is negative");if(t.gt(pd))throw new Error("Input exceeds uint64 range");this.data=t}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toBigInt(){return BigInt(this.toString())}toNumber(){return this.data.toNumber()}}Je.Uint64=Ht;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var t=Vr;Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return t.Decimal}});var n=Je;Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return n.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return n.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return n.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return n.Uint64}})})(ee);var vt={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.decodeTxRaw=void 0;const Xo=jt;function gd(e){const t=Xo.TxRaw.decode(e);return{authInfo:Xo.AuthInfo.decode(t.authInfoBytes),body:Xo.TxBody.decode(t.bodyBytes),signatures:t.signatures}}Fr.decodeTxRaw=gd;var Jt={},st={},Pe={},ke={},Ge={},N={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromAscii=Gt.toAscii=void 0;function yd(e){const t=n=>n.split("").map(r=>{const o=r.charCodeAt(0);if(o<32||o>126)throw new Error("Cannot encode character that is out of printable ASCII range: "+o);return o});return Uint8Array.from(t(e))}Gt.toAscii=yd;function bd(e){return(n=>n.map(r=>{if(r<32||r>126)throw new Error("Cannot decode character that is out of printable ASCII range: "+r);return String.fromCharCode(r)}))(Array.from(e)).join("")}Gt.fromAscii=bd;var Lt={},vd=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),wd=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&vd(t,e,n);return wd(t,e),t};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.fromBase64=Lt.toBase64=void 0;const ha=kd(lu);function _d(e){return ha.fromByteArray(e)}Lt.toBase64=_d;function Sd(e){if(!e.match(/^[a-zA-Z0-9+/]*={0,2}$/))throw new Error("Invalid base64 string format");return ha.toByteArray(e)}Lt.fromBase64=Sd;var dt={},Pd=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ad=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Td=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Pd(t,e,n);return Ad(t,e),t};Object.defineProperty(dt,"__esModule",{value:!0});dt.normalizeBech32=dt.fromBech32=dt.toBech32=void 0;const Cr=Td(_u);function pa(e,t,n){return Cr.encode(e,Cr.toWords(t),n)}dt.toBech32=pa;function ga(e,t=1/0){const n=Cr.decode(e,t);return{prefix:n.prefix,data:new Uint8Array(Cr.fromWords(n.words))}}dt.fromBech32=ga;function Ed(e){const{prefix:t,data:n}=ga(e);return pa(t,n)}dt.normalizeBech32=Ed;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.fromHex=zt.toHex=void 0;function Cd(e){let t="";for(const n of e)t+=("0"+n.toString(16)).slice(-2);return t}zt.toHex=Cd;function Md(e){if(e.length%2!==0)throw new Error("hex string length must be a multiple of 2");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2);if(!o.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t[n]=parseInt(o,16)}return t}zt.fromHex=Md;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.toRfc3339=Kt.fromRfc3339=void 0;const Od=/^(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(\.\d{1,9})?((?:[+-]\d{2}:\d{2})|Z)$/;function Dt(e,t=2){return e.toString().padStart(t,"0")}function jd(e){const t=Od.exec(e);if(!t)throw new Error("Date string is not in RFC3339 format");const n=+t[1],r=+t[2],o=+t[3],s=+t[4],i=+t[5],c=+t[6],a=t[7]?Math.floor(+t[7]*1e3):0;let u,d,g;t[8]==="Z"?(u=1,d=0,g=0):(u=t[8].substring(0,1)==="-"?-1:1,d=+t[8].substring(1,3),g=+t[8].substring(4,6));const M=u*(d*60+g)*60,k=new Date;return k.setUTCFullYear(n,r-1,o),k.setUTCHours(s,i,c,a),new Date(k.getTime()-M*1e3)}Kt.fromRfc3339=jd;function Bd(e){const t=e.getUTCFullYear(),n=Dt(e.getUTCMonth()+1),r=Dt(e.getUTCDate()),o=Dt(e.getUTCHours()),s=Dt(e.getUTCMinutes()),i=Dt(e.getUTCSeconds()),c=Dt(e.getUTCMilliseconds(),3);return`${t}-${n}-${r}T${o}:${s}:${i}.${c}Z`}Kt.toRfc3339=Bd;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.fromUtf8=Qt.toUtf8=void 0;function Rd(e){return new TextEncoder().encode(e)}Qt.toUtf8=Rd;function Id(e,t=!1){const n=!t;return new TextDecoder("utf-8",{fatal:n}).decode(e)}Qt.fromUtf8=Id;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8=e.fromUtf8=e.toRfc3339=e.fromRfc3339=e.toHex=e.fromHex=e.toBech32=e.normalizeBech32=e.fromBech32=e.toBase64=e.fromBase64=e.toAscii=e.fromAscii=void 0;var t=Gt;Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return t.fromAscii}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return t.toAscii}});var n=Lt;Object.defineProperty(e,"fromBase64",{enumerable:!0,get:function(){return n.fromBase64}}),Object.defineProperty(e,"toBase64",{enumerable:!0,get:function(){return n.toBase64}});var r=dt;Object.defineProperty(e,"fromBech32",{enumerable:!0,get:function(){return r.fromBech32}}),Object.defineProperty(e,"normalizeBech32",{enumerable:!0,get:function(){return r.normalizeBech32}}),Object.defineProperty(e,"toBech32",{enumerable:!0,get:function(){return r.toBech32}});var o=zt;Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return o.fromHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return o.toHex}});var s=Kt;Object.defineProperty(e,"fromRfc3339",{enumerable:!0,get:function(){return s.fromRfc3339}}),Object.defineProperty(e,"toRfc3339",{enumerable:!0,get:function(){return s.toRfc3339}});var i=Qt;Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return i.fromUtf8}}),Object.defineProperty(e,"toUtf8",{enumerable:!0,get:function(){return i.toUtf8}})})(N);var he={},Z={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.arrayContentStartsWith=Zt.arrayContentEquals=void 0;function $d(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}Zt.arrayContentEquals=$d;function Nd(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;++n)if(e[n]!==t[n])return!1;return!0}Zt.arrayContentStartsWith=Nd;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.assertDefinedAndNotNull=lt.assertDefined=lt.assert=void 0;function Dd(e,t){if(!e)throw new Error(t||"condition is not truthy")}lt.assert=Dd;function xd(e,t){if(e===void 0)throw new Error(t??"value is undefined")}lt.assertDefined=xd;function Ud(e,t){if(e==null)throw new Error(t??"value is undefined or null")}lt.assertDefinedAndNotNull=Ud;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.sleep=void 0;async function qd(e){return new Promise(t=>setTimeout(t,e))}Wr.sleep=qd;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.isDefined=mt.isUint8Array=mt.isNonNullObject=void 0;function ya(e){return typeof e=="object"&&e!==null}mt.isNonNullObject=ya;function Hd(e){return!(!ya(e)||Object.prototype.toString.call(e)!=="[object Uint8Array]"||typeof tt.Buffer<"u"&&typeof tt.Buffer.isBuffer<"u"&&tt.Buffer.isBuffer(e))}mt.isUint8Array=Hd;function Vd(e){return e!==void 0}mt.isDefined=Vd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUint8Array=e.isNonNullObject=e.isDefined=e.sleep=e.assertDefinedAndNotNull=e.assertDefined=e.assert=e.arrayContentStartsWith=e.arrayContentEquals=void 0;var t=Zt;Object.defineProperty(e,"arrayContentEquals",{enumerable:!0,get:function(){return t.arrayContentEquals}}),Object.defineProperty(e,"arrayContentStartsWith",{enumerable:!0,get:function(){return t.arrayContentStartsWith}});var n=lt;Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return n.assert}}),Object.defineProperty(e,"assertDefined",{enumerable:!0,get:function(){return n.assertDefined}}),Object.defineProperty(e,"assertDefinedAndNotNull",{enumerable:!0,get:function(){return n.assertDefinedAndNotNull}});var r=Wr;Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return r.sleep}});var o=mt;Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return o.isDefined}}),Object.defineProperty(e,"isNonNullObject",{enumerable:!0,get:function(){return o.isNonNullObject}}),Object.defineProperty(e,"isUint8Array",{enumerable:!0,get:function(){return o.isUint8Array}})})(Z);var Fd=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Wd=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Fd(t,e,n);return Wd(t,e),t};Object.defineProperty(he,"__esModule",{value:!0});he.pbkdf2Sha512=he.pbkdf2Sha512Noble=he.pbkdf2Sha512NodeCrypto=he.pbkdf2Sha512Subtle=he.getSubtle=he.getNodeCrypto=void 0;const Et=Z,Gd=Su,Ld=ua;async function ba(){try{const e=await Promise.resolve().then(()=>Jd(ia()));return typeof e=="object"&&Object.keys(e).length<=1?void 0:e}catch{return}}he.getNodeCrypto=ba;async function va(){var t,n,r;let e=(t=globalThis==null?void 0:globalThis.crypto)==null?void 0:t.subtle;return e||(e=(r=(n=globalThis==null?void 0:globalThis.crypto)==null?void 0:n.webcrypto)==null?void 0:r.subtle),e}he.getSubtle=va;async function wa(e,t,n,r,o){return(0,Et.assert)(e,"Argument subtle is falsy"),(0,Et.assert)(typeof e=="object","Argument subtle is not of type object"),(0,Et.assert)(typeof e.importKey=="function","subtle.importKey is not a function"),(0,Et.assert)(typeof e.deriveBits=="function","subtle.deriveBits is not a function"),e.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(s=>e.deriveBits({name:"PBKDF2",salt:n,iterations:r,hash:{name:"SHA-512"}},s,o*8).then(i=>new Uint8Array(i)))}he.pbkdf2Sha512Subtle=wa;async function ka(e,t,n,r,o){return(0,Et.assert)(e,"Argument nodeCrypto is falsy"),(0,Et.assert)(typeof e=="object","Argument nodeCrypto is not of type object"),(0,Et.assert)(typeof e.pbkdf2=="function","nodeCrypto.pbkdf2 is not a function"),new Promise((s,i)=>{e.pbkdf2(t,n,r,o,"sha512",(c,a)=>{c?i(c):s(Uint8Array.from(a))})})}he.pbkdf2Sha512NodeCrypto=ka;async function _a(e,t,n,r){return(0,Gd.pbkdf2Async)(Ld.sha512,e,t,{c:n,dkLen:r})}he.pbkdf2Sha512Noble=_a;async function zd(e,t,n,r){const o=await va();if(o)return wa(o,e,t,n,r);{const s=await ba();return s?ka(s,e,t,n,r):_a(e,t,n,r)}}he.pbkdf2Sha512=zd;var De={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.toRealUint8Array=void 0;function Kd(e){return e instanceof Uint8Array?e:Uint8Array.from(e)}kn.toRealUint8Array=Kd;Object.defineProperty(De,"__esModule",{value:!0});De.sha512=De.Sha512=De.sha256=De.Sha256=void 0;const Qd=Pu,Zd=ua,Sa=kn;class Pa{constructor(t){this.blockSize=512/8,this.impl=Qd.sha256.create(),t&&this.update(t)}update(t){return this.impl.update((0,Sa.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha256=Pa;function Xd(e){return new Pa(e).digest()}De.sha256=Xd;class Aa{constructor(t){this.blockSize=1024/8,this.impl=Zd.sha512.create(),t&&this.update(t)}update(t){return this.impl.update((0,Sa.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha512=Aa;function Yd(e){return new Aa(e).digest()}De.sha512=Yd;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Bip39=Ge.EnglishMnemonic=Ge.mnemonicToEntropy=Ge.entropyToMnemonic=void 0;const Ai=N,el=he,tl=De,$s=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function Ta(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function Ea(e){const n=e.length*8/32,r=(0,tl.sha256)(e);return Ta(r).slice(0,n)}function Ca(e){return parseInt(e,2)}const nl=[16,20,24,28,32],rl=[12,15,18,21,24];function Ma(e){if(nl.indexOf(e.length)===-1)throw new Error("invalid input length");const t=Ta(e),n=Ea(e);return(t+n).match(/(.{11})/g).map(i=>{const c=Ca(i);return $s[c]}).join(" ")}Ge.entropyToMnemonic=Ma;const ol="Invalid number of words",sl="Found word that is not in the wordlist",il="Invalid entropy",al="Invalid mnemonic checksum";function ms(e){return e.normalize("NFKD")}function Ns(e){const t=ms(e).split(" ");if(!rl.includes(t.length))throw new Error(ol);const n=t.map(u=>{const d=$s.indexOf(u);if(d===-1)throw new Error(sl);return d.toString(2).padStart(11,"0")}).join(""),r=Math.floor(n.length/33)*32,o=n.slice(0,r),s=n.slice(r),i=o.match(/(.{1,8})/g).map(Ca);if(i.length<16||i.length>32||i.length%4!==0)throw new Error(il);const c=Uint8Array.from(i);if(Ea(c)!==s)throw new Error(al);return c}Ge.mnemonicToEntropy=Ns;class Ct{constructor(t){if(!Ct.mnemonicMatcher.test(t))throw new Error("Invalid mnemonic format");const n=t.split(" "),r=[12,15,18,21,24];if(r.indexOf(n.length)===-1)throw new Error(`Invalid word count in mnemonic (allowed: ${r} got: ${n.length})`);for(const o of n)if(Ct.wordlist.indexOf(o)===-1)throw new Error("Mnemonic contains invalid word");Ns(t),this.data=t}toString(){return this.data}}Ge.EnglishMnemonic=Ct;Ct.wordlist=$s;Ct.mnemonicMatcher=/^[a-z]+( [a-z]+)*$/;class cl{static encode(t){return new Ct(Ma(t))}static decode(t){return Ns(t.toString())}static async mnemonicToSeed(t,n){const r=(0,Ai.toUtf8)(ms(t.toString())),o="mnemonic"+(n?ms(n):""),s=(0,Ai.toUtf8)(o);return(0,el.pbkdf2Sha512)(r,s,2048,64)}}Ge.Bip39=cl;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.Hmac=void 0;class ul{constructor(t,n){const r=new t().blockSize;this.hash=s=>new t().update(s).digest();let o=n;if(o.length>r&&(o=this.hash(o)),o.length<r){const s=new Uint8Array(r-o.length);o=new Uint8Array([...o,...s])}this.oKeyPad=o.map(s=>s^92),this.iKeyPad=o.map(s=>s^54),this.messageHasher=new t,this.blockSize=r,this.update(this.iKeyPad)}update(t){return this.messageHasher.update(t),this}digest(){const t=this.messageHasher.digest();return this.hash(new Uint8Array([...this.oKeyPad,...t]))}}zn.Hmac=ul;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.keccak256=Xt.Keccak256=void 0;const dl=Au,ll=kn;class Oa{constructor(t){this.blockSize=512/8,this.impl=dl.keccak_256.create(),t&&this.update(t)}update(t){return this.impl.update((0,ll.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Xt.Keccak256=Oa;function ml(e){return new Oa(e).digest()}Xt.keccak256=ml;var pe={},fl=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});pe.Xchacha20poly1305Ietf=pe.xchacha20NonceLength=pe.Ed25519=pe.Ed25519Keypair=pe.Argon2id=pe.isArgon2idOptions=void 0;const hl=Z,Se=fl(wu);function pl(e){return!(!(0,hl.isNonNullObject)(e)||typeof e.outputLength!="number"||typeof e.opsLimit!="number"||typeof e.memLimitKib!="number")}pe.isArgon2idOptions=pl;class gl{static async execute(t,n,r){return await Se.default.ready,Se.default.crypto_pwhash(r.outputLength,t,n,r.opsLimit,r.memLimitKib*1024,Se.default.crypto_pwhash_ALG_ARGON2ID13)}}pe.Argon2id=gl;class Jr{static fromLibsodiumPrivkey(t){if(t.length!==64)throw new Error(`Unexpected key length ${t.length}. Must be 64.`);return new Jr(t.slice(0,32),t.slice(32,64))}constructor(t,n){this.privkey=t,this.pubkey=n}toLibsodiumPrivkey(){return new Uint8Array([...this.privkey,...this.pubkey])}}pe.Ed25519Keypair=Jr;class yl{static async makeKeypair(t){await Se.default.ready;const n=Se.default.crypto_sign_seed_keypair(t);return Jr.fromLibsodiumPrivkey(n.privateKey)}static async createSignature(t,n){return await Se.default.ready,Se.default.crypto_sign_detached(t,n.toLibsodiumPrivkey())}static async verifySignature(t,n,r){return await Se.default.ready,Se.default.crypto_sign_verify_detached(t,n,r)}}pe.Ed25519=yl;pe.xchacha20NonceLength=24;class bl{static async encrypt(t,n,r){return await Se.default.ready,Se.default.crypto_aead_xchacha20poly1305_ietf_encrypt(t,null,null,r,n)}static async decrypt(t,n,r){return await Se.default.ready,Se.default.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,null,r,n)}}pe.Xchacha20poly1305Ietf=bl;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Random=void 0;class vl{static getBytes(t){try{const n=typeof window=="object"?window:self,r=typeof n.crypto<"u"?n.crypto:n.msCrypto,o=new Uint8Array(t);return r.getRandomValues(o),o}catch{try{const n=ia();return new Uint8Array([...n.randomBytes(t)])}catch{throw new Error("No secure random number generator found")}}}}Gr.Random=vl;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ripemd160=Yt.Ripemd160=void 0;const wl=Tu,kl=kn;class ja{constructor(t){this.blockSize=512/8,this.impl=wl.ripemd160.create(),t&&this.update(t)}update(t){return this.impl.update((0,kl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Yt.Ripemd160=ja;function _l(e){return new ja(e).digest()}Yt.ripemd160=_l;var Lr={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ExtendedSecp256k1Signature=Mt.Secp256k1Signature=void 0;function Vt(e){let t=0;for(const n of e)if(n===0)t++;else break;return e.slice(t)}const ar=2;class Vn{static fromFixedLength(t){if(t.length!==64)throw new Error(`Got invalid data length: ${t.length}. Expected 2x 32 bytes for the pair (r, s)`);return new Vn(Vt(t.slice(0,32)),Vt(t.slice(32,64)))}static fromDer(t){let n=0;if(t[n++]!==48)throw new Error("Prefix 0x30 expected");const r=t[n++];if(t.length-n!==r)throw new Error("Data length mismatch detected");if(t[n++]!==ar)throw new Error("INTEGER tag expected");const s=t[n++];if(s>=128)throw new Error("Decoding length values above 127 not supported");const i=t.slice(n,n+s);if(n+=s,t[n++]!==ar)throw new Error("INTEGER tag expected");const a=t[n++];if(a>=128)throw new Error("Decoding length values above 127 not supported");const u=t.slice(n,n+a);return n+=a,new Vn(Vt(i),Vt(u))}constructor(t,n){if(t.length>32||t.length===0||t[0]===0)throw new Error("Unsigned integer r must be encoded as unpadded big endian.");if(n.length>32||n.length===0||n[0]===0)throw new Error("Unsigned integer s must be encoded as unpadded big endian.");this.data={r:t,s:n}}r(t){if(t===void 0)return this.data.r;{const n=t-this.data.r.length;if(n<0)throw new Error("Length too small to hold parameter r");const r=new Uint8Array(n);return new Uint8Array([...r,...this.data.r])}}s(t){if(t===void 0)return this.data.s;{const n=t-this.data.s.length;if(n<0)throw new Error("Length too small to hold parameter s");const r=new Uint8Array(n);return new Uint8Array([...r,...this.data.s])}}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32)])}toDer(){const t=this.data.r[0]>=128?new Uint8Array([0,...this.data.r]):this.data.r,n=this.data.s[0]>=128?new Uint8Array([0,...this.data.s]):this.data.s,r=t.length,o=n.length,s=new Uint8Array([ar,r,...t,ar,o,...n]);return new Uint8Array([48,s.length,...s])}}Mt.Secp256k1Signature=Vn;class Ds extends Vn{static fromFixedLength(t){if(t.length!==65)throw new Error(`Got invalid data length ${t.length}. Expected 32 + 32 + 1`);return new Ds(Vt(t.slice(0,32)),Vt(t.slice(32,64)),t[64])}constructor(t,n,r){if(super(t,n),!Number.isInteger(r))throw new Error("The recovery parameter must be an integer.");if(r<0||r>4)throw new Error("The recovery parameter must be one of 0, 1, 2, 3.");this.recovery=r}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32),this.recovery])}}Mt.ExtendedSecp256k1Signature=Ds;var Ba=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Secp256k1=void 0;const cr=N,Ra=Ba(Ur),Sl=Ba(aa()),Pl=Mt,wt=new Sl.default.ec("secp256k1"),Al=new Ra.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex");class Tl{static async makeKeypair(t){if(t.length!==32)throw new Error("input data is not a valid secp256k1 private key");const n=wt.keyFromPrivate(t);if(n.validate().result!==!0)throw new Error("input data is not a valid secp256k1 private key");if(new Ra.default(t).gte(Al))throw new Error("input data is not a valid secp256k1 private key");return{privkey:(0,cr.fromHex)(n.getPrivate("hex")),pubkey:Uint8Array.from(n.getPublic("array"))}}static async createSignature(t,n){if(t.length===0)throw new Error("Message hash must not be empty");if(t.length>32)throw new Error("Message hash length must not exceed 32 bytes");const r=wt.keyFromPrivate(n),{r:o,s,recoveryParam:i}=r.sign(t,{canonical:!0});if(typeof i!="number")throw new Error("Recovery param missing");return new Pl.ExtendedSecp256k1Signature(Uint8Array.from(o.toArray()),Uint8Array.from(s.toArray()),i)}static async verifySignature(t,n,r){if(n.length===0)throw new Error("Message hash must not be empty");if(n.length>32)throw new Error("Message hash length must not exceed 32 bytes");const o=wt.keyFromPublic(r);try{return o.verify(n,t.toDer())}catch{return!1}}static recoverPubkey(t,n){const r={r:(0,cr.toHex)(t.r()),s:(0,cr.toHex)(t.s())},o=wt.recoverPubKey(n,r,t.recovery),s=wt.keyFromPublic(o);return(0,cr.fromHex)(s.getPublic(!1,"hex"))}static compressPubkey(t){switch(t.length){case 33:return t;case 65:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!0,"array"));default:throw new Error("Invalid pubkey length")}}static uncompressPubkey(t){switch(t.length){case 33:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!1,"array"));case 65:return t;default:throw new Error("Invalid pubkey length")}}static trimRecoveryByte(t){switch(t.length){case 64:return t;case 65:return t.slice(0,64);default:throw new Error("Invalid signature length")}}}Lr.Secp256k1=Tl;var Ia={};(function(e){var t=h&&h.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.pathToString=e.Slip10=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=void 0;const n=N,r=ee,o=t(Ur),s=t(aa()),i=zn,c=De;var a;(function(y){y.Secp256k1="Bitcoin seed",y.Ed25519="ed25519 seed"})(a=e.Slip10Curve||(e.Slip10Curve={}));function u(y){switch(y){case a.Ed25519:return a.Ed25519;case a.Secp256k1:return a.Secp256k1;default:throw new Error(`Unknown curve string: '${y}'`)}}e.slip10CurveFromString=u;class d extends r.Uint32{static hardened(p){return new d(p+2**31)}static normal(p){return new d(p)}isHardened(){return this.data>=2**31}}e.Slip10RawIndex=d;const g=new s.default.ec("secp256k1");class M{static derivePath(p,v,U){let D=this.master(p,v);for(const ce of U)D=this.child(p,D.privkey,D.chainCode,ce);return D}static master(p,v){const U=new i.Hmac(c.Sha512,(0,n.toAscii)(p)).update(v).digest(),D=U.slice(0,32),ce=U.slice(32,64);return p!==a.Ed25519&&(this.isZero(D)||this.isGteN(p,D))?this.master(p,U):{chainCode:ce,privkey:D}}static child(p,v,U,D){let ce;if(D.isHardened()){const b=new Uint8Array([0,...v,...D.toBytesBigEndian()]);ce=new i.Hmac(c.Sha512,U).update(b).digest()}else{if(p===a.Ed25519)throw new Error("Normal keys are not allowed with ed25519");{const b=new Uint8Array([...M.serializedPoint(p,new o.default(v)),...D.toBytesBigEndian()]);ce=new i.Hmac(c.Sha512,U).update(b).digest()}}return this.childImpl(p,v,U,D,ce)}static serializedPoint(p,v){switch(p){case a.Secp256k1:return(0,n.fromHex)(g.g.mul(v).encodeCompressed("hex"));default:throw new Error("curve not supported")}}static childImpl(p,v,U,D,ce){const b=ce.slice(0,32),_=ce.slice(32,64),w=_;if(p===a.Ed25519)return{chainCode:w,privkey:b};const x=this.n(p),q=new o.default(b).add(new o.default(v)).mod(x),H=Uint8Array.from(q.toArray("be",32));if(this.isGteN(p,b)||this.isZero(H)){const F=new i.Hmac(c.Sha512,U).update(new Uint8Array([1,..._,...D.toBytesBigEndian()])).digest();return this.childImpl(p,v,U,D,F)}return{chainCode:w,privkey:H}}static isZero(p){return p.every(v=>v===0)}static isGteN(p,v){return new o.default(v).gte(this.n(p))}static n(p){switch(p){case a.Secp256k1:return new o.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);default:throw new Error("curve not supported")}}}e.Slip10=M;function k(y){return y.reduce((p,v)=>{const U=v.isHardened()?`${v.toNumber()-2147483648}'`:v.toString();return p+"/"+U},"m")}e.pathToString=k;function V(y){if(!y.startsWith("m"))throw new Error("Path string must start with 'm'");let p=y.slice(1);const v=new Array;for(;p;){const U=p.match(/^\/([0-9]+)('?)/);if(!U)throw new Error("Syntax error while reading path component");const[D,ce,b]=U,_=r.Uint53.fromString(ce).toNumber();if(_>=2**31)throw new Error("Component value too high. Must not exceed 2**31-1.");b?v.push(d.hardened(_)):v.push(d.normal(_)),p=p.slice(D.length)}return v}e.stringToPath=V})(Ia);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=e.Slip10=e.pathToString=e.sha512=e.Sha512=e.sha256=e.Sha256=e.Secp256k1Signature=e.ExtendedSecp256k1Signature=e.Secp256k1=e.ripemd160=e.Ripemd160=e.Random=e.Xchacha20poly1305Ietf=e.xchacha20NonceLength=e.isArgon2idOptions=e.Ed25519Keypair=e.Ed25519=e.Argon2id=e.keccak256=e.Keccak256=e.Hmac=e.EnglishMnemonic=e.Bip39=void 0;var t=Ge;Object.defineProperty(e,"Bip39",{enumerable:!0,get:function(){return t.Bip39}}),Object.defineProperty(e,"EnglishMnemonic",{enumerable:!0,get:function(){return t.EnglishMnemonic}});var n=zn;Object.defineProperty(e,"Hmac",{enumerable:!0,get:function(){return n.Hmac}});var r=Xt;Object.defineProperty(e,"Keccak256",{enumerable:!0,get:function(){return r.Keccak256}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return r.keccak256}});var o=pe;Object.defineProperty(e,"Argon2id",{enumerable:!0,get:function(){return o.Argon2id}}),Object.defineProperty(e,"Ed25519",{enumerable:!0,get:function(){return o.Ed25519}}),Object.defineProperty(e,"Ed25519Keypair",{enumerable:!0,get:function(){return o.Ed25519Keypair}}),Object.defineProperty(e,"isArgon2idOptions",{enumerable:!0,get:function(){return o.isArgon2idOptions}}),Object.defineProperty(e,"xchacha20NonceLength",{enumerable:!0,get:function(){return o.xchacha20NonceLength}}),Object.defineProperty(e,"Xchacha20poly1305Ietf",{enumerable:!0,get:function(){return o.Xchacha20poly1305Ietf}});var s=Gr;Object.defineProperty(e,"Random",{enumerable:!0,get:function(){return s.Random}});var i=Yt;Object.defineProperty(e,"Ripemd160",{enumerable:!0,get:function(){return i.Ripemd160}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return i.ripemd160}});var c=Lr;Object.defineProperty(e,"Secp256k1",{enumerable:!0,get:function(){return c.Secp256k1}});var a=Mt;Object.defineProperty(e,"ExtendedSecp256k1Signature",{enumerable:!0,get:function(){return a.ExtendedSecp256k1Signature}}),Object.defineProperty(e,"Secp256k1Signature",{enumerable:!0,get:function(){return a.Secp256k1Signature}});var u=De;Object.defineProperty(e,"Sha256",{enumerable:!0,get:function(){return u.Sha256}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return u.sha256}}),Object.defineProperty(e,"Sha512",{enumerable:!0,get:function(){return u.Sha512}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return u.sha512}});var d=Ia;Object.defineProperty(e,"pathToString",{enumerable:!0,get:function(){return d.pathToString}}),Object.defineProperty(e,"Slip10",{enumerable:!0,get:function(){return d.Slip10}}),Object.defineProperty(e,"Slip10Curve",{enumerable:!0,get:function(){return d.Slip10Curve}}),Object.defineProperty(e,"slip10CurveFromString",{enumerable:!0,get:function(){return d.slip10CurveFromString}}),Object.defineProperty(e,"Slip10RawIndex",{enumerable:!0,get:function(){return d.Slip10RawIndex}}),Object.defineProperty(e,"stringToPath",{enumerable:!0,get:function(){return d.stringToPath}})})(ke);var se={},Kn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMultisigThresholdPubkey=e.isSinglePubkey=e.pubkeyType=e.isSecp256k1Pubkey=e.isEd25519Pubkey=void 0;function t(s){return s.type==="tendermint/PubKeyEd25519"}e.isEd25519Pubkey=t;function n(s){return s.type==="tendermint/PubKeySecp256k1"}e.isSecp256k1Pubkey=n,e.pubkeyType={secp256k1:"tendermint/PubKeySecp256k1",ed25519:"tendermint/PubKeyEd25519",sr25519:"tendermint/PubKeySr25519",multisigThreshold:"tendermint/PubKeyMultisigThreshold"};function r(s){return[e.pubkeyType.ed25519,e.pubkeyType.secp256k1,e.pubkeyType.sr25519].includes(s.type)}e.isSinglePubkey=r;function o(s){return s.type==="tendermint/PubKeyMultisigThreshold"}e.isMultisigThresholdPubkey=o})(Kn);Object.defineProperty(se,"__esModule",{value:!0});se.encodeBech32Pubkey=se.encodeAminoPubkey=se.decodeBech32Pubkey=se.decodeAminoPubkey=se.encodeEd25519Pubkey=se.encodeSecp256k1Pubkey=void 0;const ye=N,El=ee,Nn=Z,nt=Kn;function Cl(e){if(e.length!==33||e[0]!==2&&e[0]!==3)throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:nt.pubkeyType.secp256k1,value:(0,ye.toBase64)(e)}}se.encodeSecp256k1Pubkey=Cl;function Ml(e){if(e.length!==32)throw new Error("Ed25519 public key must be 32 bytes long");return{type:nt.pubkeyType.ed25519,value:(0,ye.toBase64)(e)}}se.encodeEd25519Pubkey=Ml;const fs=(0,ye.fromHex)("eb5ae98721"),hs=(0,ye.fromHex)("1624de6420"),Ti=(0,ye.fromHex)("0dfb100520"),Mr=(0,ye.fromHex)("22c1f7e2");function xs(e){if((0,Nn.arrayContentStartsWith)(e,fs)){const t=e.slice(fs.length);if(t.length!==33)throw new Error("Invalid rest data length. Expected 33 bytes (compressed secp256k1 pubkey).");return{type:nt.pubkeyType.secp256k1,value:(0,ye.toBase64)(t)}}else if((0,Nn.arrayContentStartsWith)(e,hs)){const t=e.slice(hs.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Ed25519 pubkey).");return{type:nt.pubkeyType.ed25519,value:(0,ye.toBase64)(t)}}else if((0,Nn.arrayContentStartsWith)(e,Ti)){const t=e.slice(Ti.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Sr25519 pubkey).");return{type:nt.pubkeyType.sr25519,value:(0,ye.toBase64)(t)}}else{if((0,Nn.arrayContentStartsWith)(e,Mr))return jl(e);throw new Error("Unsupported public key type. Amino data starts with: "+(0,ye.toHex)(e.slice(0,5)))}}se.decodeAminoPubkey=xs;function Ol(e){const{data:t}=(0,ye.fromBech32)(e);return xs(t)}se.decodeBech32Pubkey=Ol;function Ei(e){if(e.length<1)throw new Error("Can't decode varint. EOF");if(e[0]>127)throw new Error("Decoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.Varint implementation from the Go standard library and write some tests.");return[e[0],1]}function jl(e){const t=Array.from(e),n=t.splice(0,Mr.length);if(!(0,Nn.arrayContentStartsWith)(n,Mr))throw new Error("Invalid multisig prefix.");if(t.shift()!=8)throw new Error("Invalid multisig data. Expecting 0x08 prefix before threshold.");const[r,o]=Ei(t);t.splice(0,o);const s=[];for(;t.length>0;){if(t.shift()!=18)throw new Error("Invalid multisig data. Expecting 0x12 prefix before participant pubkey length.");const[i,c]=Ei(t);if(t.splice(0,c),t.length<i)throw new Error("Invalid multisig data length.");const a=t.splice(0,i),u=xs(Uint8Array.from(a));s.push(u)}return{type:nt.pubkeyType.multisigThreshold,value:{threshold:r.toString(),pubkeys:s}}}function Ci(e){const t=El.Uint53.fromString(e.toString()).toNumber();if(t>127)throw new Error("Encoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.PutUvarint implementation from the Go standard library and write some tests.");return[t]}function Us(e){if((0,nt.isMultisigThresholdPubkey)(e)){const t=Array.from(Mr);t.push(8),t.push(...Ci(e.value.threshold));for(const n of e.value.pubkeys.map(r=>Us(r)))t.push(18),t.push(...Ci(n.length)),t.push(...n);return new Uint8Array(t)}else{if((0,nt.isEd25519Pubkey)(e))return new Uint8Array([...hs,...(0,ye.fromBase64)(e.value)]);if((0,nt.isSecp256k1Pubkey)(e))return new Uint8Array([...fs,...(0,ye.fromBase64)(e.value)]);throw new Error("Unsupported pubkey type")}}se.encodeAminoPubkey=Us;function Bl(e,t){return(0,ye.toBech32)(t,Us(e))}se.encodeBech32Pubkey=Bl;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.pubkeyToAddress=Pe.pubkeyToRawAddress=Pe.rawSecp256k1PubkeyToRawAddress=Pe.rawEd25519PubkeyToRawAddress=void 0;const Or=ke,ps=N,Rl=se,Yo=Kn;function $a(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Or.sha256)(e).slice(0,20)}Pe.rawEd25519PubkeyToRawAddress=$a;function Na(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Or.ripemd160)((0,Or.sha256)(e))}Pe.rawSecp256k1PubkeyToRawAddress=Na;function Da(e){if((0,Yo.isSecp256k1Pubkey)(e)){const t=(0,ps.fromBase64)(e.value);return Na(t)}else if((0,Yo.isEd25519Pubkey)(e)){const t=(0,ps.fromBase64)(e.value);return $a(t)}else if((0,Yo.isMultisigThresholdPubkey)(e)){const t=(0,Rl.encodeAminoPubkey)(e);return(0,Or.sha256)(t).slice(0,20)}else throw new Error("Unsupported public key type")}Pe.pubkeyToRawAddress=Da;function Il(e,t){return(0,ps.toBech32)(t,Da(e))}Pe.pubkeyToAddress=Il;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.addCoins=Le.parseCoins=Le.coins=Le.coin=void 0;const gs=ee;function xa(e,t){let n;if(typeof e=="number")try{n=new gs.Uint53(e).toString()}catch{throw new Error("Given amount is not a safe integer. Consider using a string instead to overcome the limitations of JS numbers.")}else{if(!e.match(/^[0-9]+$/))throw new Error("Invalid unsigned integer string format");n=e.replace(/^0*/,"")||"0"}return{amount:n,denom:t}}Le.coin=xa;function $l(e,t){return[xa(e,t)]}Le.coins=$l;function Nl(e){return e.replace(/\s/g,"").split(",").filter(Boolean).map(t=>{const n=t.match(/^([0-9]+)([a-zA-Z][a-zA-Z0-9/]{2,127})$/);if(!n)throw new Error("Got an invalid coin string");return{amount:n[1].replace(/^0+/,"")||"0",denom:n[2]}})}Le.parseCoins=Nl;function Dl(e,t){if(e.denom!==t.denom)throw new Error("Trying to add two coins with different denoms");return{amount:gs.Decimal.fromAtomics(e.amount,0).plus(gs.Decimal.fromAtomics(t.amount,0)).atomics,denom:e.denom}}Le.addCoins=Dl;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.createMultisigThresholdPubkey=en.compareArrays=void 0;const Mi=N,xl=ee,Oi=Pe;function Ua(e,t){const n=(0,Mi.toHex)(e),r=(0,Mi.toHex)(t);return n===r?0:n<r?-1:1}en.compareArrays=Ua;function Ul(e,t,n=!1){const r=new xl.Uint53(t);if(r.toNumber()>e.length)throw new Error(`Threshold k = ${r.toNumber()} exceeds number of keys n = ${e.length}`);const o=n?e:Array.from(e).sort((s,i)=>{const c=(0,Oi.pubkeyToRawAddress)(s),a=(0,Oi.pubkeyToRawAddress)(i);return Ua(c,a)});return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:r.toString(),pubkeys:o}}}en.createMultisigThresholdPubkey=Ul;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.omitDefault=void 0;function ql(e){switch(typeof e){case"string":return e===""?void 0:e;case"number":return e===0?void 0:e;case"bigint":return e===BigInt(0)?void 0:e;case"boolean":return e||void 0;default:throw new Error(`Got unsupported type '${typeof e}'`)}}zr.omitDefault=ql;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.makeCosmoshubPath=void 0;const Pn=ke;function Hl(e){return[Pn.Slip10RawIndex.hardened(44),Pn.Slip10RawIndex.hardened(118),Pn.Slip10RawIndex.hardened(0),Pn.Slip10RawIndex.normal(0),Pn.Slip10RawIndex.normal(e)]}Qn.makeCosmoshubPath=Hl;var tn={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.decodeSignature=bt.encodeSecp256k1Signature=void 0;const ys=N,Vl=se,Fl=Kn;function Wl(e,t){if(t.length!==64)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:(0,Vl.encodeSecp256k1Pubkey)(e),signature:(0,ys.toBase64)(t)}}bt.encodeSecp256k1Signature=Wl;function Jl(e){switch(e.pub_key.type){case Fl.pubkeyType.secp256k1:return{pubkey:(0,ys.fromBase64)(e.pub_key.value),signature:(0,ys.fromBase64)(e.signature)};default:throw new Error("Unsupported pubkey type")}}bt.decodeSignature=Jl;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.serializeSignDoc=xe.escapeCharacters=xe.makeSignDoc=xe.sortedJsonStringify=void 0;const Gl=N,ji=ee;function bs(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(bs);const t=Object.keys(e).sort(),n={};return t.forEach(r=>{n[r]=bs(e[r])}),n}function qa(e){return JSON.stringify(bs(e))}xe.sortedJsonStringify=qa;function Ll(e,t,n,r,o,s,i){return{chain_id:n,account_number:ji.Uint53.fromString(o.toString()).toString(),sequence:ji.Uint53.fromString(s.toString()).toString(),fee:t,msgs:e,memo:r||"",...i&&{timeout_height:i.toString()}}}xe.makeSignDoc=Ll;function Ha(e){const t=/&/g,n=/</g,r=/>/g;return e.replace(t,"\\u0026").replace(n,"\\u003c").replace(r,"\\u003e")}xe.escapeCharacters=Ha;function zl(e){const t=Ha(qa(e));return(0,Gl.toUtf8)(t)}xe.serializeSignDoc=zl;var qs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,n=N;e.cosmjsSalt=(0,n.toAscii)("The CosmJS salt.");async function r(i,c){switch(c.algorithm){case"argon2id":{const a=c.params;if(!(0,t.isArgon2idOptions)(a))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(i,e.cosmjsSalt,a)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=r,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(i,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.encrypt=o;async function s(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=i.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(i.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.decrypt=s})(qs);Object.defineProperty(tn,"__esModule",{value:!0});tn.Secp256k1HdWallet=tn.extractKdfConfiguration=void 0;const Te=ke,An=N,Ft=Z,Kl=Pe,Ql=Qn,Zl=bt,Xl=xe,Tn=qs,Tr="secp256k1wallet-v1",Yl={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function em(e){return!(!(0,Ft.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function tm(e){return e.kdf}function nm(e){const t=JSON.parse(e);if(!(0,Ft.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Tr:return tm(t);default:throw new Error("Unsupported serialization type")}}tn.extractKdfConfiguration=nm;const Bi={bip39Password:"",hdPaths:[(0,Ql.makeCosmoshubPath)(0)],prefix:"cosmos"};class Pt{static async fromMnemonic(t,n={}){const r=new Te.EnglishMnemonic(t),o=await Te.Bip39.mnemonicToSeed(r,n.bip39Password);return new Pt(r,{...n,seed:o})}static async generate(t=12,n={}){const r=4*Math.floor(11*t/33),o=Te.Random.getBytes(r),s=Te.Bip39.encode(o);return Pt.fromMnemonic(s.toString(),n)}static async deserialize(t,n){const r=JSON.parse(t);if(!(0,Ft.isNonNullObject)(r))throw new Error("Root document is not an object.");switch(r.type){case Tr:return Pt.deserializeTypeV1(t,n);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,n){const r=JSON.parse(t);if(!(0,Ft.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=r;switch(o.type){case Tr:{const s=await(0,Tn.decrypt)((0,An.fromBase64)(o.data),n,o.encryption),i=JSON.parse((0,An.fromUtf8)(s)),{mnemonic:c,accounts:a}=i;if((0,Ft.assert)(typeof c=="string"),!Array.isArray(a))throw new Error("Property 'accounts' is not an array");if(!a.every(g=>em(g)))throw new Error("Account is not in the correct format.");const u=a[0].prefix;if(!a.every(({prefix:g})=>g===u))throw new Error("Accounts do not all have the same prefix");const d=a.map(({hdPath:g})=>(0,Te.stringToPath)(g));return Pt.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,n){const r=JSON.parse(t);if(!(0,Ft.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=await(0,Tn.executeKdf)(n,r.kdf);return Pt.deserializeWithEncryptionKey(t,o)}constructor(t,n){const r=n.hdPaths??Bi.hdPaths,o=n.prefix??Bi.prefix;this.secret=t,this.seed=n.seed,this.accounts=r.map(s=>({hdPath:s,prefix:o}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:n,pubkey:r,address:o})=>({algo:n,pubkey:r,address:o}))}async signAmino(t,n){const o=(await this.getAccountsWithPrivkeys()).find(({address:d})=>d===t);if(o===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:s,pubkey:i}=o,c=(0,Te.sha256)((0,Xl.serializeSignDoc)(n)),a=await Te.Secp256k1.createSignature(c,s),u=new Uint8Array([...a.r(32),...a.s(32)]);return{signed:n,signature:(0,Zl.encodeSecp256k1Signature)(i,u)}}async serialize(t){const n=Yl,r=await(0,Tn.executeKdf)(t,n);return this.serializeWithEncryptionKey(r,n)}async serializeWithEncryptionKey(t,n){const r={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:a,prefix:u})=>({hdPath:(0,Te.pathToString)(a),prefix:u}))},o=(0,An.toUtf8)(JSON.stringify(r)),s={algorithm:Tn.supportedAlgorithms.xchacha20poly1305Ietf},i=await(0,Tn.encrypt)(o,t,s),c={type:Tr,kdf:n,encryption:s,data:(0,An.toBase64)(i)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:n}=Te.Slip10.derivePath(Te.Slip10Curve.Secp256k1,this.seed,t),{pubkey:r}=await Te.Secp256k1.makeKeypair(n);return{privkey:n,pubkey:Te.Secp256k1.compressPubkey(r)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:n})=>{const{privkey:r,pubkey:o}=await this.getKeyPair(t),s=(0,An.toBech32)(n,(0,Kl.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:r,pubkey:o,address:s}}))}}tn.Secp256k1HdWallet=Pt;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Secp256k1Wallet=void 0;const ur=ke,rm=N,om=Pe,sm=bt,im=xe;class Hs{static async fromKey(t,n="cosmos"){const r=(await ur.Secp256k1.makeKeypair(t)).pubkey;return new Hs(t,ur.Secp256k1.compressPubkey(r),n)}constructor(t,n,r){this.privkey=t,this.pubkey=n,this.prefix=r}get address(){return(0,rm.toBech32)(this.prefix,(0,om.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signAmino(t,n){if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const r=new ur.Sha256((0,im.serializeSignDoc)(n)).digest(),o=await ur.Secp256k1.createSignature(r,this.privkey),s=new Uint8Array([...o.r(32),...o.s(32)]);return{signed:n,signature:(0,sm.encodeSecp256k1Signature)(this.pubkey,s)}}}Kr.Secp256k1Wallet=Hs;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.makeStdTx=nn.isStdTx=void 0;function am(e){const{memo:t,msg:n,fee:r,signatures:o}=e;return typeof t=="string"&&Array.isArray(n)&&typeof r=="object"&&Array.isArray(o)}nn.isStdTx=am;function cm(e,t){return{msg:e.msgs,fee:e.fee,memo:e.memo,signatures:Array.isArray(t)?t:[t]}}nn.makeStdTx=cm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.executeKdf=e.makeStdTx=e.isStdTx=e.serializeSignDoc=e.makeSignDoc=e.encodeSecp256k1Signature=e.decodeSignature=e.Secp256k1Wallet=e.Secp256k1HdWallet=e.extractKdfConfiguration=e.pubkeyType=e.isSinglePubkey=e.isSecp256k1Pubkey=e.isMultisigThresholdPubkey=e.isEd25519Pubkey=e.makeCosmoshubPath=e.omitDefault=e.createMultisigThresholdPubkey=e.encodeSecp256k1Pubkey=e.encodeEd25519Pubkey=e.encodeBech32Pubkey=e.encodeAminoPubkey=e.decodeBech32Pubkey=e.decodeAminoPubkey=e.parseCoins=e.coins=e.coin=e.addCoins=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var t=Pe;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return t.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return t.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawSecp256k1PubkeyToRawAddress}});var n=Le;Object.defineProperty(e,"addCoins",{enumerable:!0,get:function(){return n.addCoins}}),Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return n.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return n.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return n.parseCoins}});var r=se;Object.defineProperty(e,"decodeAminoPubkey",{enumerable:!0,get:function(){return r.decodeAminoPubkey}}),Object.defineProperty(e,"decodeBech32Pubkey",{enumerable:!0,get:function(){return r.decodeBech32Pubkey}}),Object.defineProperty(e,"encodeAminoPubkey",{enumerable:!0,get:function(){return r.encodeAminoPubkey}}),Object.defineProperty(e,"encodeBech32Pubkey",{enumerable:!0,get:function(){return r.encodeBech32Pubkey}}),Object.defineProperty(e,"encodeEd25519Pubkey",{enumerable:!0,get:function(){return r.encodeEd25519Pubkey}}),Object.defineProperty(e,"encodeSecp256k1Pubkey",{enumerable:!0,get:function(){return r.encodeSecp256k1Pubkey}});var o=en;Object.defineProperty(e,"createMultisigThresholdPubkey",{enumerable:!0,get:function(){return o.createMultisigThresholdPubkey}});var s=zr;Object.defineProperty(e,"omitDefault",{enumerable:!0,get:function(){return s.omitDefault}});var i=Qn;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return i.makeCosmoshubPath}});var c=Kn;Object.defineProperty(e,"isEd25519Pubkey",{enumerable:!0,get:function(){return c.isEd25519Pubkey}}),Object.defineProperty(e,"isMultisigThresholdPubkey",{enumerable:!0,get:function(){return c.isMultisigThresholdPubkey}}),Object.defineProperty(e,"isSecp256k1Pubkey",{enumerable:!0,get:function(){return c.isSecp256k1Pubkey}}),Object.defineProperty(e,"isSinglePubkey",{enumerable:!0,get:function(){return c.isSinglePubkey}}),Object.defineProperty(e,"pubkeyType",{enumerable:!0,get:function(){return c.pubkeyType}});var a=tn;Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return a.extractKdfConfiguration}}),Object.defineProperty(e,"Secp256k1HdWallet",{enumerable:!0,get:function(){return a.Secp256k1HdWallet}});var u=Kr;Object.defineProperty(e,"Secp256k1Wallet",{enumerable:!0,get:function(){return u.Secp256k1Wallet}});var d=bt;Object.defineProperty(e,"decodeSignature",{enumerable:!0,get:function(){return d.decodeSignature}}),Object.defineProperty(e,"encodeSecp256k1Signature",{enumerable:!0,get:function(){return d.encodeSecp256k1Signature}});var g=xe;Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return g.makeSignDoc}}),Object.defineProperty(e,"serializeSignDoc",{enumerable:!0,get:function(){return g.serializeSignDoc}});var M=nn;Object.defineProperty(e,"isStdTx",{enumerable:!0,get:function(){return M.isStdTx}}),Object.defineProperty(e,"makeStdTx",{enumerable:!0,get:function(){return M.makeStdTx}});var k=qs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return k.executeKdf}})})(st);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.makeSignBytes=Xe.makeSignDoc=Xe.makeAuthInfoBytes=void 0;const Ri=Z,um=qr,jr=jt;function dm(e,t){return e.map(({pubkey:n,sequence:r})=>({publicKey:n,modeInfo:{single:{mode:t}},sequence:BigInt(r)}))}function lm(e,t,n,r,o,s=um.SignMode.SIGN_MODE_DIRECT){(0,Ri.assert)(r===void 0||typeof r=="string","feeGranter must be undefined or string"),(0,Ri.assert)(o===void 0||typeof o=="string","feePayer must be undefined or string");const i=jr.AuthInfo.fromPartial({signerInfos:dm(e,s),fee:{amount:[...t],gasLimit:BigInt(n),granter:r,payer:o}});return jr.AuthInfo.encode(i).finish()}Xe.makeAuthInfoBytes=lm;function mm(e,t,n,r){return{bodyBytes:e,authInfoBytes:t,chainId:n,accountNumber:BigInt(r)}}Xe.makeSignDoc=mm;function fm({accountNumber:e,authInfoBytes:t,bodyBytes:n,chainId:r}){const o=jr.SignDoc.fromPartial({accountNumber:e,authInfoBytes:t,bodyBytes:n,chainId:r});return jr.SignDoc.encode(o).finish()}Xe.makeSignBytes=fm;var Vs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,n=N;e.cosmjsSalt=(0,n.toAscii)("The CosmJS salt.");async function r(i,c){switch(c.algorithm){case"argon2id":{const a=c.params;if(!(0,t.isArgon2idOptions)(a))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(i,e.cosmjsSalt,a)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=r,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(i,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.encrypt=o;async function s(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=i.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(i.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.decrypt=s})(Vs);Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DirectSecp256k1HdWallet=Jt.extractKdfConfiguration=void 0;const vs=st,Ee=ke,En=N,Wt=Z,hm=Xe,Cn=Vs,Er="directsecp256k1hdwallet-v1",pm={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function gm(e){return!(!(0,Wt.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function ym(e){return e.kdf}function bm(e){const t=JSON.parse(e);if(!(0,Wt.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Er:return ym(t);default:throw new Error("Unsupported serialization type")}}Jt.extractKdfConfiguration=bm;const Ii={bip39Password:"",hdPaths:[(0,vs.makeCosmoshubPath)(0)],prefix:"cosmos"};class At{static async fromMnemonic(t,n={}){const r=new Ee.EnglishMnemonic(t),o=await Ee.Bip39.mnemonicToSeed(r,n.bip39Password);return new At(r,{...n,seed:o})}static async generate(t=12,n={}){const r=4*Math.floor(11*t/33),o=Ee.Random.getBytes(r),s=Ee.Bip39.encode(o);return At.fromMnemonic(s.toString(),n)}static async deserialize(t,n){const r=JSON.parse(t);if(!(0,Wt.isNonNullObject)(r))throw new Error("Root document is not an object.");switch(r.type){case Er:return At.deserializeTypeV1(t,n);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,n){const r=JSON.parse(t);if(!(0,Wt.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=r;switch(o.type){case Er:{const s=await(0,Cn.decrypt)((0,En.fromBase64)(o.data),n,o.encryption),i=JSON.parse((0,En.fromUtf8)(s)),{mnemonic:c,accounts:a}=i;if((0,Wt.assert)(typeof c=="string"),!Array.isArray(a))throw new Error("Property 'accounts' is not an array");if(!a.every(g=>gm(g)))throw new Error("Account is not in the correct format.");const u=a[0].prefix;if(!a.every(({prefix:g})=>g===u))throw new Error("Accounts do not all have the same prefix");const d=a.map(({hdPath:g})=>(0,Ee.stringToPath)(g));return At.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,n){const r=JSON.parse(t);if(!(0,Wt.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=await(0,Cn.executeKdf)(n,r.kdf);return At.deserializeWithEncryptionKey(t,o)}constructor(t,n){const r=n.prefix??Ii.prefix,o=n.hdPaths??Ii.hdPaths;this.secret=t,this.seed=n.seed,this.accounts=o.map(s=>({hdPath:s,prefix:r}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:n,pubkey:r,address:o})=>({algo:n,pubkey:r,address:o}))}async signDirect(t,n){const o=(await this.getAccountsWithPrivkeys()).find(({address:M})=>M===t);if(o===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:s,pubkey:i}=o,c=(0,hm.makeSignBytes)(n),a=(0,Ee.sha256)(c),u=await Ee.Secp256k1.createSignature(a,s),d=new Uint8Array([...u.r(32),...u.s(32)]),g=(0,vs.encodeSecp256k1Signature)(i,d);return{signed:n,signature:g}}async serialize(t){const n=pm,r=await(0,Cn.executeKdf)(t,n);return this.serializeWithEncryptionKey(r,n)}async serializeWithEncryptionKey(t,n){const r={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:a,prefix:u})=>({hdPath:(0,Ee.pathToString)(a),prefix:u}))},o=(0,En.toUtf8)(JSON.stringify(r)),s={algorithm:Cn.supportedAlgorithms.xchacha20poly1305Ietf},i=await(0,Cn.encrypt)(o,t,s),c={type:Er,kdf:n,encryption:s,data:(0,En.toBase64)(i)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:n}=Ee.Slip10.derivePath(Ee.Slip10Curve.Secp256k1,this.seed,t),{pubkey:r}=await Ee.Secp256k1.makeKeypair(n);return{privkey:n,pubkey:Ee.Secp256k1.compressPubkey(r)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:n})=>{const{privkey:r,pubkey:o}=await this.getKeyPair(t),s=(0,En.toBech32)(n,(0,vs.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:r,pubkey:o,address:s}}))}}Jt.DirectSecp256k1HdWallet=At;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DirectSecp256k1Wallet=void 0;const $i=st,dr=ke,vm=N,wm=Xe;class Fs{static async fromKey(t,n="cosmos"){const r=(await dr.Secp256k1.makeKeypair(t)).pubkey;return new Fs(t,dr.Secp256k1.compressPubkey(r),n)}constructor(t,n,r){this.privkey=t,this.pubkey=n,this.prefix=r}get address(){return(0,vm.toBech32)(this.prefix,(0,$i.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signDirect(t,n){const r=(0,wm.makeSignBytes)(n);if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const o=(0,dr.sha256)(r),s=await dr.Secp256k1.createSignature(o,this.privkey),i=new Uint8Array([...s.r(32),...s.s(32)]),c=(0,$i.encodeSecp256k1Signature)(this.pubkey,i);return{signed:n,signature:c}}}Qr.DirectSecp256k1Wallet=Fs;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.makeCosmoshubPath=void 0;const Mn=ke;function km(e){return[Mn.Slip10RawIndex.hardened(44),Mn.Slip10RawIndex.hardened(118),Mn.Slip10RawIndex.hardened(0),Mn.Slip10RawIndex.normal(0),Mn.Slip10RawIndex.normal(e)]}Zr.makeCosmoshubPath=km;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.decodeOptionalPubkey=ze.decodePubkey=ze.anyToSinglePubkey=ze.encodePubkey=void 0;const Un=st,Ni=N,_m=ee,ws=Mu,ks=Ou,_s=ju,es=Rs;function Va(e){if((0,Un.isSecp256k1Pubkey)(e)){const t=_s.PubKey.fromPartial({key:(0,Ni.fromBase64)(e.value)});return es.Any.fromPartial({typeUrl:"/cosmos.crypto.secp256k1.PubKey",value:Uint8Array.from(_s.PubKey.encode(t).finish())})}else if((0,Un.isEd25519Pubkey)(e)){const t=ws.PubKey.fromPartial({key:(0,Ni.fromBase64)(e.value)});return es.Any.fromPartial({typeUrl:"/cosmos.crypto.ed25519.PubKey",value:Uint8Array.from(ws.PubKey.encode(t).finish())})}else if((0,Un.isMultisigThresholdPubkey)(e)){const t=ks.LegacyAminoPubKey.fromPartial({threshold:_m.Uint53.fromString(e.value.threshold).toNumber(),publicKeys:e.value.pubkeys.map(Va)});return es.Any.fromPartial({typeUrl:"/cosmos.crypto.multisig.LegacyAminoPubKey",value:Uint8Array.from(ks.LegacyAminoPubKey.encode(t).finish())})}else throw new Error(`Pubkey type ${e.type} not recognized`)}ze.encodePubkey=Va;function Ss(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":{const{key:t}=_s.PubKey.decode(e.value);return(0,Un.encodeSecp256k1Pubkey)(t)}case"/cosmos.crypto.ed25519.PubKey":{const{key:t}=ws.PubKey.decode(e.value);return(0,Un.encodeEd25519Pubkey)(t)}default:throw new Error(`Pubkey type_url ${e.typeUrl} not recognized as single public key type`)}}ze.anyToSinglePubkey=Ss;function Fa(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":case"/cosmos.crypto.ed25519.PubKey":return Ss(e);case"/cosmos.crypto.multisig.LegacyAminoPubKey":{const{threshold:t,publicKeys:n}=ks.LegacyAminoPubKey.decode(e.value);return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:t.toString(),pubkeys:n.map(Ss)}}}default:throw new Error(`Pubkey type URL '${e.typeUrl}' not recognized`)}}ze.decodePubkey=Fa;function Sm(e){if(!e)return null;if(e.typeUrl){if(e.value.length)return Fa(e);throw new Error(`Pubkey is an Any with type URL '${e.typeUrl}' but an empty value`)}else{if(e.value.length)throw new Error("Pubkey is an Any with an empty type URL but a value set");return null}}ze.decodeOptionalPubkey=Sm;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Registry=Ce.isTxBodyEncodeObject=Ce.isPbjsGeneratedType=Ce.isTsProtoGeneratedType=Ce.isTelescopeGeneratedType=void 0;const Pm=da,Am=ca,ts=jt,Tm=Rs;function Wa(e){const t=e;return typeof t.fromPartial=="function"&&typeof t.typeUrl=="string"}Ce.isTelescopeGeneratedType=Wa;function Ws(e){return typeof e.fromPartial=="function"}Ce.isTsProtoGeneratedType=Ws;function Em(e){return!Ws(e)}Ce.isPbjsGeneratedType=Em;const Di={cosmosCoin:"/cosmos.base.v1beta1.Coin",cosmosMsgSend:"/cosmos.bank.v1beta1.MsgSend",cosmosTxBody:"/cosmos.tx.v1beta1.TxBody",googleAny:"/google.protobuf.Any"};function Ja(e){return e.typeUrl==="/cosmos.tx.v1beta1.TxBody"}Ce.isTxBodyEncodeObject=Ja;class Cm{constructor(t){const{cosmosCoin:n,cosmosMsgSend:r}=Di;this.types=t?new Map([...t]):new Map([[n,Am.Coin],[r,Pm.MsgSend]])}register(t,n){this.types.set(t,n)}lookupType(t){return this.types.get(t)}lookupTypeWithError(t){const n=this.lookupType(t);if(!n)throw new Error(`Unregistered type url: ${t}`);return n}encode(t){const{value:n,typeUrl:r}=t;if(Ja(t))return this.encodeTxBody(n);const o=this.lookupTypeWithError(r),s=Wa(o)||Ws(o)?o.fromPartial(n):o.create(n);return o.encode(s).finish()}encodeAsAny(t){const n=this.encode(t);return Tm.Any.fromPartial({typeUrl:t.typeUrl,value:n})}encodeTxBody(t){var o;const n=t.messages.map(s=>this.encodeAsAny(s)),r=ts.TxBody.fromPartial({...t,timeoutHeight:BigInt(((o=t.timeoutHeight)==null?void 0:o.toString())??"0"),messages:n});return ts.TxBody.encode(r).finish()}decode({typeUrl:t,value:n}){if(t===Di.cosmosTxBody)return this.decodeTxBody(n);const o=this.lookupTypeWithError(t).decode(n);return Object.entries(o).forEach(([s,i])=>{typeof tt.Buffer<"u"&&typeof tt.Buffer.isBuffer<"u"&&tt.Buffer.isBuffer(i)&&(o[s]=Uint8Array.from(i))}),o}decodeTxBody(t){const n=ts.TxBody.decode(t);return{...n,messages:n.messages.map(({typeUrl:r,value:o})=>{if(!r)throw new Error("Missing type_url in Any");if(!o)throw new Error("Missing value in Any");return this.decode({typeUrl:r,value:o})})}}}Ce.Registry=Cm;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.isOfflineDirectSigner=void 0;function Mm(e){return e.signDirect!==void 0}Xr.isOfflineDirectSigner=Mm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCoins=e.coins=e.coin=e.executeKdf=e.makeSignDoc=e.makeSignBytes=e.makeAuthInfoBytes=e.isOfflineDirectSigner=e.Registry=e.isTxBodyEncodeObject=e.isTsProtoGeneratedType=e.isPbjsGeneratedType=e.encodePubkey=e.decodePubkey=e.decodeOptionalPubkey=e.anyToSinglePubkey=e.makeCosmoshubPath=e.DirectSecp256k1Wallet=e.extractKdfConfiguration=e.DirectSecp256k1HdWallet=e.decodeTxRaw=void 0;var t=Fr;Object.defineProperty(e,"decodeTxRaw",{enumerable:!0,get:function(){return t.decodeTxRaw}});var n=Jt;Object.defineProperty(e,"DirectSecp256k1HdWallet",{enumerable:!0,get:function(){return n.DirectSecp256k1HdWallet}}),Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return n.extractKdfConfiguration}});var r=Qr;Object.defineProperty(e,"DirectSecp256k1Wallet",{enumerable:!0,get:function(){return r.DirectSecp256k1Wallet}});var o=Zr;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return o.makeCosmoshubPath}});var s=ze;Object.defineProperty(e,"anyToSinglePubkey",{enumerable:!0,get:function(){return s.anyToSinglePubkey}}),Object.defineProperty(e,"decodeOptionalPubkey",{enumerable:!0,get:function(){return s.decodeOptionalPubkey}}),Object.defineProperty(e,"decodePubkey",{enumerable:!0,get:function(){return s.decodePubkey}}),Object.defineProperty(e,"encodePubkey",{enumerable:!0,get:function(){return s.encodePubkey}});var i=Ce;Object.defineProperty(e,"isPbjsGeneratedType",{enumerable:!0,get:function(){return i.isPbjsGeneratedType}}),Object.defineProperty(e,"isTsProtoGeneratedType",{enumerable:!0,get:function(){return i.isTsProtoGeneratedType}}),Object.defineProperty(e,"isTxBodyEncodeObject",{enumerable:!0,get:function(){return i.isTxBodyEncodeObject}}),Object.defineProperty(e,"Registry",{enumerable:!0,get:function(){return i.Registry}});var c=Xr;Object.defineProperty(e,"isOfflineDirectSigner",{enumerable:!0,get:function(){return c.isOfflineDirectSigner}});var a=Xe;Object.defineProperty(e,"makeAuthInfoBytes",{enumerable:!0,get:function(){return a.makeAuthInfoBytes}}),Object.defineProperty(e,"makeSignBytes",{enumerable:!0,get:function(){return a.makeSignBytes}}),Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return a.makeSignDoc}});var u=Vs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return u.executeKdf}});var d=st;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return d.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return d.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return d.parseCoins}})})(vt);Object.defineProperty(Ln,"__esModule",{value:!0});Ln.accountFromAny=void 0;const Om=ee,jm=vt,On=Z,xi=Bu,lr=Ru;function Ui(e){return Om.Uint64.fromString(e.toString())}function xt(e){const{address:t,pubKey:n,accountNumber:r,sequence:o}=e,s=(0,jm.decodeOptionalPubkey)(n);return{address:t,pubkey:s,accountNumber:Ui(r).toNumber(),sequence:Ui(o).toNumber()}}function Bm(e){var r,o,s,i,c,a,u;const{typeUrl:t,value:n}=e;switch(t){case"/cosmos.auth.v1beta1.BaseAccount":return xt(xi.BaseAccount.decode(n));case"/cosmos.auth.v1beta1.ModuleAccount":{const d=xi.ModuleAccount.decode(n).baseAccount;return(0,On.assert)(d),xt(d)}case"/cosmos.vesting.v1beta1.BaseVestingAccount":{const d=(r=lr.BaseVestingAccount.decode(n))==null?void 0:r.baseAccount;return(0,On.assert)(d),xt(d)}case"/cosmos.vesting.v1beta1.ContinuousVestingAccount":{const d=(s=(o=lr.ContinuousVestingAccount.decode(n))==null?void 0:o.baseVestingAccount)==null?void 0:s.baseAccount;return(0,On.assert)(d),xt(d)}case"/cosmos.vesting.v1beta1.DelayedVestingAccount":{const d=(c=(i=lr.DelayedVestingAccount.decode(n))==null?void 0:i.baseVestingAccount)==null?void 0:c.baseAccount;return(0,On.assert)(d),xt(d)}case"/cosmos.vesting.v1beta1.PeriodicVestingAccount":{const d=(u=(a=lr.PeriodicVestingAccount.decode(n))==null?void 0:a.baseVestingAccount)==null?void 0:u.baseAccount;return(0,On.assert)(d),xt(d)}default:throw new Error(`Unsupported type: '${t}'`)}}Ln.accountFromAny=Bm;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.AminoTypes=void 0;class Rm{constructor(t){this.register=t}toAmino({typeUrl:t,value:n}){const r=this.register[t];if(!r)throw new Error(`Type URL '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);return{type:r.aminoType,value:r.toAmino(n)}}fromAmino({type:t,value:n}){const r=Object.entries(this.register).filter(([o,{aminoType:s}])=>s===t);switch(r.length){case 0:throw new Error(`Amino type identifier '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);case 1:{const[o,s]=r[0];return{typeUrl:o,value:s.fromAmino(n)}}default:throw new Error(`Multiple types are registered with Amino type identifier '${t}': '`+r.map(([o,s])=>o).sort().join("', '")+"'. Thus fromAmino cannot be performed.")}}}Zn.AminoTypes=Rm;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.fromTendermintEvent=void 0;const qi=N;function Im(e){return{type:e.type,attributes:e.attributes.map(t=>({key:typeof t.key=="string"?t.key:(0,qi.fromUtf8)(t.key,!0),value:typeof t.value=="string"?t.value:(0,qi.fromUtf8)(t.value,!0)}))}}Xn.fromTendermintEvent=Im;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.calculateFee=Ot.GasPrice=void 0;const Ga=ee,$m=vt;function Nm(e){if(e.length<3||e.length>128)throw new Error("Denom must be between 3 and 128 characters")}class Yr{constructor(t,n){this.amount=t,this.denom=n}static fromString(t){const n=t.match(/^([0-9.]+)([a-zA-Z][a-zA-Z0-9/:._-]*)$/);if(!n)throw new Error("Invalid gas price string");const[r,o,s]=n;Nm(s);const c=Ga.Decimal.fromUserInput(o,18);return new Yr(c,s)}toString(){return this.amount.toString()+this.denom}}Ot.GasPrice=Yr;function Dm(e,t){const n=typeof t=="string"?Yr.fromString(t):t,{denom:r,amount:o}=n,s=o.multiply(new Ga.Uint53(e)).ceil().toString();return{amount:(0,$m.coins)(s,r),gas:e.toString()}}Ot.calculateFee=Dm;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.findAttribute=ge.parseRawLog=ge.parseLogs=ge.parseLog=ge.parseEvent=ge.parseAttribute=void 0;const Js=Z;function La(e){if(!(0,Js.isNonNullObject)(e))throw new Error("Attribute must be a non-null object");const{key:t,value:n}=e;if(typeof t!="string"||!t)throw new Error("Attribute's key must be a non-empty string");if(typeof n!="string"&&typeof n<"u")throw new Error("Attribute's value must be a string or unset");return{key:t,value:n||""}}ge.parseAttribute=La;function za(e){if(!(0,Js.isNonNullObject)(e))throw new Error("Event must be a non-null object");const{type:t,attributes:n}=e;if(typeof t!="string"||t==="")throw new Error("Event type must be a non-empty string");if(!Array.isArray(n))throw new Error("Event's attributes must be an array");return{type:t,attributes:n.map(La)}}ge.parseEvent=za;function Ka(e){if(!(0,Js.isNonNullObject)(e))throw new Error("Log must be a non-null object");const{msg_index:t,log:n,events:r}=e;if(typeof t!="number")throw new Error("Log's msg_index must be a number");if(typeof n!="string")throw new Error("Log's log must be a string");if(!Array.isArray(r))throw new Error("Log's events must be an array");return{msg_index:t,log:n,events:r.map(za)}}ge.parseLog=Ka;function Qa(e){if(!Array.isArray(e))throw new Error("Logs must be an array");return e.map(Ka)}ge.parseLogs=Qa;function xm(e){if(!e)return[];const t=JSON.parse(e).map(({events:n},r)=>({msg_index:r,events:n,log:""}));return Qa(t)}ge.parseRawLog=xm;function Um(e,t,n){var s;const r=e.find(()=>!0),o=(s=r==null?void 0:r.events.find(i=>i.type===t))==null?void 0:s.attributes.find(i=>i.key===n);if(!o)throw new Error(`Could not find attribute '${n}' in first event of type '${t}' in first log.`);return o}ge.findAttribute=Um;var Fn={},eo={},ae={},to={},Yn={},no={};Object.defineProperty(no,"__esModule",{value:!0});no.concat=void 0;const qm=Bt;function Hm(...e){const t=new Array,n=new Array,r=new Set;let o=0;function s(){for(;t.length>0;)t.shift().unsubscribe();n.length=0,r.clear(),o=0}const i={start:c=>{e.forEach(d=>n.push([]));function a(d){for(;;){const g=n[d].shift();if(g===void 0)return;c.next(g)}}function u(){return o>=e.length}if(u()){c.complete();return}e.forEach((d,g)=>{t.push(d.subscribe({next:M=>{g===o?c.next(M):n[g].push(M)},complete:()=>{for(r.add(g);r.has(o);)a(o),o++;u()?c.complete():a(o)},error:M=>{c.error(M),s()}}))})},stop:()=>{s()}};return qm.Stream.create(i)}no.concat=Hm;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.DefaultValueProducer=void 0;class Vm{get value(){return this.internalValue}constructor(t,n){this.callbacks=n,this.internalValue=t}update(t){this.internalValue=t,this.listener&&this.listener.next(t)}error(t){this.listener&&this.listener.error(t)}start(t){this.listener=t,t.next(this.internalValue),this.callbacks&&this.callbacks.onStarted()}stop(){this.callbacks&&this.callbacks.onStop(),this.listener=void 0}}ro.DefaultValueProducer=Vm;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.dropDuplicates=void 0;function Fm(e){return n=>{const r=new Set;return n.filter(s=>!r.has(e(s))).debug(s=>r.add(e(s)))}}oo.dropDuplicates=Fm;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.firstEvent=ft.toListPromise=ft.fromListPromise=void 0;const Wm=Bt;function Jm(e){const t={start:n=>{e.then(r=>{for(const o of r)n.next(o);n.complete()}).catch(r=>n.error(r))},stop:()=>{}};return Wm.Stream.create(t)}ft.fromListPromise=Jm;async function Za(e,t){return new Promise((n,r)=>{if(t===0){n([]);return}const o=new Array;e.take(t).subscribe({next:s=>{o.push(s),o.length===t&&n(o)},complete:()=>{r(`Stream completed before all events could be collected. Collected ${o.length}, expected ${t}`)},error:s=>r(s)})})}ft.toListPromise=Za;async function Gm(e){return(await Za(e,1))[0]}ft.firstEvent=Gm;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.lastValue=Ke.asArray=Ke.countStream=Ke.Reducer=void 0;class so{constructor(t,n,r){this.stream=t,this.reducer=n,this.state=r,this.completed=new Promise((o,s)=>{const i=this.stream.subscribe({next:c=>{this.state=this.reducer(this.state,c)},complete:()=>{o(),i.unsubscribe()},error:c=>{s(c),i.unsubscribe()}})})}value(){return this.state}async finished(){return this.completed}}Ke.Reducer=so;function Lm(e,t){return e+1}function zm(e){return new so(e,Lm,0)}Ke.countStream=zm;function Km(e,t){return[...e,t]}function Qm(e){return new so(e,Km,[])}Ke.asArray=Qm;function Zm(e,t){return t}function Xm(e){return new so(e,Zm,void 0)}Ke.lastValue=Xm;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.ValueAndUpdates=void 0;const Ym=Bt;class ef{get value(){return this.producer.value}constructor(t){this.producer=t,this.updates=Ym.MemoryStream.createWithMemory(this.producer)}async waitFor(t){const n=typeof t=="function"?t:r=>r===t;return new Promise((r,o)=>{const s=this.updates.subscribe({next:i=>{n(i)&&(r(i),setTimeout(()=>s.unsubscribe(),0))},complete:()=>{s.unsubscribe(),o("Update stream completed without expected value")},error:i=>{o(i)}})})}}io.ValueAndUpdates=ef;(function(e){var t=h&&h.__createBinding||(Object.create?function(a,u,d,g){g===void 0&&(g=d);var M=Object.getOwnPropertyDescriptor(u,d);(!M||("get"in M?!u.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(a,g,M)}:function(a,u,d,g){g===void 0&&(g=d),a[g]=u[d]}),n=h&&h.__exportStar||function(a,u){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,a,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ValueAndUpdates=e.toListPromise=e.fromListPromise=e.firstEvent=e.dropDuplicates=e.DefaultValueProducer=e.concat=void 0;var r=no;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return r.concat}});var o=ro;Object.defineProperty(e,"DefaultValueProducer",{enumerable:!0,get:function(){return o.DefaultValueProducer}});var s=oo;Object.defineProperty(e,"dropDuplicates",{enumerable:!0,get:function(){return s.dropDuplicates}});var i=ft;Object.defineProperty(e,"firstEvent",{enumerable:!0,get:function(){return i.firstEvent}}),Object.defineProperty(e,"fromListPromise",{enumerable:!0,get:function(){return i.fromListPromise}}),Object.defineProperty(e,"toListPromise",{enumerable:!0,get:function(){return i.toListPromise}}),n(Ke,e);var c=io;Object.defineProperty(e,"ValueAndUpdates",{enumerable:!0,get:function(){return c.ValueAndUpdates}})})(Yn);Object.defineProperty(to,"__esModule",{value:!0});to.QueryClient=void 0;const St=Eu,Tt=N,tf=Yn,fe=Z;function mr(e,t,n){if(e.type!==t)throw new Error(`Op expected to be ${t}, got "${e.type}`);if(!(0,fe.arrayContentEquals)(n,e.key))throw new Error(`Proven key different than queried key.
Query: ${(0,Tt.toHex)(n)}
Proven: ${(0,Tt.toHex)(e.key)}`);return St.ics23.CommitmentProof.decode(e.data)}class Gs{static withExtensions(t,...n){const r=new Gs(t),o=n.map(s=>s(r));for(const s of o){(0,fe.assert)((0,fe.isNonNullObject)(s),"Extension must be a non-null object");for(const[i,c]of Object.entries(s)){(0,fe.assert)((0,fe.isNonNullObject)(c),`Module must be a non-null object. Found type ${typeof c} for module "${i}".`);const a=r[i]||{};r[i]={...a,...c}}}return r}constructor(t){this.cometClient=t}async queryStoreVerified(t,n,r){const{height:o,proof:s,key:i,value:c}=await this.queryRawProof(t,n,r),a=mr(s.ops[0],"ics23:iavl",n),u=mr(s.ops[1],"ics23:simple",(0,Tt.toAscii)(t));(0,fe.assert)(u.exist),(0,fe.assert)(u.exist.value),!c||c.length===0?((0,fe.assert)(a.nonexist),(0,St.verifyNonExistence)(a.nonexist,St.iavlSpec,u.exist.value,n)):((0,fe.assert)(a.exist),(0,fe.assert)(a.exist.value),(0,St.verifyExistence)(a.exist,St.iavlSpec,u.exist.value,n,c));const d=await this.getNextHeader(o);return(0,St.verifyExistence)(u.exist,St.tendermintSpec,d.appHash,(0,Tt.toAscii)(t),u.exist.value),{key:i,value:c,height:o}}async queryRawProof(t,n,r){const{key:o,value:s,height:i,proof:c,code:a,log:u}=await this.cometClient.abciQuery({path:`/store/${t}/key`,data:n,prove:!0,height:r});if(a)throw new Error(`Query failed with (${a}): ${u}`);if(!(0,fe.arrayContentEquals)(n,o))throw new Error(`Response key ${(0,Tt.toHex)(o)} doesn't match query key ${(0,Tt.toHex)(n)}`);if(!i)throw new Error("No query height returned");if(!c||c.ops.length!==2)throw new Error(`Expected 2 proof ops, got ${(c==null?void 0:c.ops.length)??0}. Are you using stargate?`);return mr(c.ops[0],"ics23:iavl",o),mr(c.ops[1],"ics23:simple",(0,Tt.toAscii)(t)),{key:o,value:s,height:i,proof:{ops:[...c.ops]}}}async queryAbci(t,n,r){const o=await this.cometClient.abciQuery({path:t,data:n,prove:!1,height:r});if(o.code)throw new Error(`Query failed with (${o.code}): ${o.log}`);if(!o.height)throw new Error("No query height returned");return{value:o.value,height:o.height}}async getNextHeader(t){if((0,fe.assertDefined)(t),t===0)throw new Error("Query returned height 0, cannot prove it");const n=t+1;let r,o;try{o=this.cometClient.subscribeNewBlockHeader()}catch{}if(o){const s=await(0,tf.firstEvent)(o);s.height===n&&(r=s)}for(;!r;){const s=(await this.cometClient.blockchain(t,n)).blockMetas.map(i=>i.header).find(i=>i.height===n);s?r=s:await(0,fe.sleep)(1e3)}return(0,fe.assert)(r.height===n,"Got wrong header. This is a bug in the logic above."),r}}to.QueryClient=Gs;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.decodeCosmosSdkDecFromProto=Me.longify=Me.createProtobufRpcClient=Me.createPagination=Me.toAccAddress=void 0;const Xa=N,Ya=ee,Hi=Iu;function nf(e){return(0,Xa.fromBech32)(e).data}Me.toAccAddress=nf;function rf(e){return e?Hi.PageRequest.fromPartial({key:e}):Hi.PageRequest.fromPartial({})}Me.createPagination=rf;function of(e){return{request:async(t,n,r)=>{const o=`/${t}/${n}`;return(await e.queryAbci(o,r,void 0)).value}}}Me.createProtobufRpcClient=of;function sf(e){const t=Ya.Uint64.fromString(e.toString());return BigInt(t.toString())}Me.longify=sf;function af(e){const t=typeof e=="string"?e:(0,Xa.fromAscii)(e);return Ya.Decimal.fromAtomics(t,18)}Me.decodeCosmosSdkDecFromProto=af;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.longify=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.QueryClient=void 0;var t=to;Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return t.QueryClient}});var n=Me;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return n.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return n.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return n.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"longify",{enumerable:!0,get:function(){return n.longify}})})(ae);Object.defineProperty(eo,"__esModule",{value:!0});eo.setupAuthExtension=void 0;const cf=$u,uf=ae;function df(e){const t=(0,uf.createProtobufRpcClient)(e),n=new cf.QueryClientImpl(t);return{auth:{account:async r=>{const{account:o}=await n.Account({address:r});return o??null}}}}eo.setupAuthExtension=df;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.createAuthzAminoConverters=void 0;function lf(){return{}}ao.createAuthzAminoConverters=lf;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.authzTypes=void 0;const ns=Nu;co.authzTypes=[["/cosmos.authz.v1beta1.MsgExec",ns.MsgExec],["/cosmos.authz.v1beta1.MsgGrant",ns.MsgGrant],["/cosmos.authz.v1beta1.MsgRevoke",ns.MsgRevoke]];var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.setupAuthzExtension=void 0;const mf=Du,fr=ae;function ff(e){const t=(0,fr.createProtobufRpcClient)(e),n=new mf.QueryClientImpl(t);return{authz:{grants:async(r,o,s,i)=>await n.Grants({granter:r,grantee:o,msgTypeUrl:s,pagination:(0,fr.createPagination)(i)}),granteeGrants:async(r,o)=>await n.GranteeGrants({grantee:r,pagination:(0,fr.createPagination)(o)}),granterGrants:async(r,o)=>await n.GranterGrants({granter:r,pagination:(0,fr.createPagination)(o)})}}}uo.setupAuthzExtension=ff;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.createBankAminoConverters=ht.isAminoMsgMultiSend=ht.isAminoMsgSend=void 0;function hf(e){return e.type==="cosmos-sdk/MsgSend"}ht.isAminoMsgSend=hf;function pf(e){return e.type==="cosmos-sdk/MsgMultiSend"}ht.isAminoMsgMultiSend=pf;function gf(){return{"/cosmos.bank.v1beta1.MsgSend":{aminoType:"cosmos-sdk/MsgSend",toAmino:({fromAddress:e,toAddress:t,amount:n})=>({from_address:e,to_address:t,amount:[...n]}),fromAmino:({from_address:e,to_address:t,amount:n})=>({fromAddress:e,toAddress:t,amount:[...n]})},"/cosmos.bank.v1beta1.MsgMultiSend":{aminoType:"cosmos-sdk/MsgMultiSend",toAmino:({inputs:e,outputs:t})=>({inputs:e.map(n=>({address:n.address,coins:[...n.coins]})),outputs:t.map(n=>({address:n.address,coins:[...n.coins]}))}),fromAmino:({inputs:e,outputs:t})=>({inputs:e.map(n=>({address:n.address,coins:[...n.coins]})),outputs:t.map(n=>({address:n.address,coins:[...n.coins]}))})}}}ht.createBankAminoConverters=gf;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.isMsgSendEncodeObject=rn.bankTypes=void 0;const Vi=da;rn.bankTypes=[["/cosmos.bank.v1beta1.MsgMultiSend",Vi.MsgMultiSend],["/cosmos.bank.v1beta1.MsgSend",Vi.MsgSend]];function yf(e){return e.typeUrl==="/cosmos.bank.v1beta1.MsgSend"}rn.isMsgSendEncodeObject=yf;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.setupBankExtension=void 0;const rs=Z,os=xu,Fi=ae;function bf(e){const t=(0,Fi.createProtobufRpcClient)(e),n=new os.QueryClientImpl(t);return{bank:{balance:async(r,o)=>{const{balance:s}=await n.Balance({address:r,denom:o});return(0,rs.assert)(s),s},allBalances:async r=>{const{balances:o}=await n.AllBalances(os.QueryAllBalancesRequest.fromPartial({address:r}));return o},totalSupply:async r=>await n.TotalSupply({pagination:(0,Fi.createPagination)(r)}),supplyOf:async r=>{const{amount:o}=await n.SupplyOf({denom:r});return(0,rs.assert)(o),o},denomMetadata:async r=>{const{metadata:o}=await n.DenomMetadata({denom:r});return(0,rs.assert)(o),o},denomsMetadata:async()=>{const{metadatas:r}=await n.DenomsMetadata(os.QueryDenomsMetadataRequest.fromPartial({pagination:void 0}));return r}}}}lo.setupBankExtension=bf;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.createCrysisAminoConverters=on.isAminoMsgVerifyInvariant=void 0;function vf(e){return e.type==="cosmos-sdk/MsgVerifyInvariant"}on.isAminoMsgVerifyInvariant=vf;function wf(){throw new Error("Not implemented")}on.createCrysisAminoConverters=wf;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createDistributionAminoConverters=Oe.isAminoMsgFundCommunityPool=Oe.isAminoMsgWithdrawValidatorCommission=Oe.isAminoMsgWithdrawDelegatorReward=Oe.isAminoMsgSetWithdrawAddress=void 0;function kf(e){return e.type==="cosmos-sdk/MsgModifyWithdrawAddress"}Oe.isAminoMsgSetWithdrawAddress=kf;function _f(e){return e.type==="cosmos-sdk/MsgWithdrawDelegationReward"}Oe.isAminoMsgWithdrawDelegatorReward=_f;function Sf(e){return e.type==="cosmos-sdk/MsgWithdrawValidatorCommission"}Oe.isAminoMsgWithdrawValidatorCommission=Sf;function Pf(e){return e.type==="cosmos-sdk/MsgFundCommunityPool"}Oe.isAminoMsgFundCommunityPool=Pf;function Af(){return{"/cosmos.distribution.v1beta1.MsgFundCommunityPool":{aminoType:"cosmos-sdk/MsgFundCommunityPool",toAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t}),fromAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t})},"/cosmos.distribution.v1beta1.MsgSetWithdrawAddress":{aminoType:"cosmos-sdk/MsgModifyWithdrawAddress",toAmino:({delegatorAddress:e,withdrawAddress:t})=>({delegator_address:e,withdraw_address:t}),fromAmino:({delegator_address:e,withdraw_address:t})=>({delegatorAddress:e,withdrawAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward":{aminoType:"cosmos-sdk/MsgWithdrawDelegationReward",toAmino:({delegatorAddress:e,validatorAddress:t})=>({delegator_address:e,validator_address:t}),fromAmino:({delegator_address:e,validator_address:t})=>({delegatorAddress:e,validatorAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission":{aminoType:"cosmos-sdk/MsgWithdrawValidatorCommission",toAmino:({validatorAddress:e})=>({validator_address:e}),fromAmino:({validator_address:e})=>({validatorAddress:e})}}}Oe.createDistributionAminoConverters=Af;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.isMsgWithdrawDelegatorRewardEncodeObject=sn.distributionTypes=void 0;const hr=la;sn.distributionTypes=[["/cosmos.distribution.v1beta1.MsgFundCommunityPool",hr.MsgFundCommunityPool],["/cosmos.distribution.v1beta1.MsgSetWithdrawAddress",hr.MsgSetWithdrawAddress],["/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",hr.MsgWithdrawDelegatorReward],["/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission",hr.MsgWithdrawValidatorCommission]];function Tf(e){return e.typeUrl==="/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward"}sn.isMsgWithdrawDelegatorRewardEncodeObject=Tf;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.setupDistributionExtension=void 0;const Ef=Uu,Wi=ae;function Cf(e){const t=(0,Wi.createProtobufRpcClient)(e),n=new Ef.QueryClientImpl(t);return{distribution:{communityPool:async()=>await n.CommunityPool({}),delegationRewards:async(r,o)=>await n.DelegationRewards({delegatorAddress:r,validatorAddress:o}),delegationTotalRewards:async r=>await n.DelegationTotalRewards({delegatorAddress:r}),delegatorValidators:async r=>await n.DelegatorValidators({delegatorAddress:r}),delegatorWithdrawAddress:async r=>await n.DelegatorWithdrawAddress({delegatorAddress:r}),params:async()=>await n.Params({}),validatorCommission:async r=>await n.ValidatorCommission({validatorAddress:r}),validatorOutstandingRewards:async r=>await n.ValidatorOutstandingRewards({validatorAddress:r}),validatorSlashes:async(r,o,s,i)=>await n.ValidatorSlashes({validatorAddress:r,startingHeight:BigInt(o),endingHeight:BigInt(s),pagination:(0,Wi.createPagination)(i)})}}}mo.setupDistributionExtension=Cf;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.createEvidenceAminoConverters=an.isAminoMsgSubmitEvidence=void 0;function Mf(e){return e.type==="cosmos-sdk/MsgSubmitEvidence"}an.isAminoMsgSubmitEvidence=Mf;function Of(){throw new Error("Not implemented")}an.createEvidenceAminoConverters=Of;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.createFeegrantAminoConverters=void 0;function jf(){return{}}fo.createFeegrantAminoConverters=jf;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.feegrantTypes=void 0;const Ji=qu;ho.feegrantTypes=[["/cosmos.feegrant.v1beta1.MsgGrantAllowance",Ji.MsgGrantAllowance],["/cosmos.feegrant.v1beta1.MsgRevokeAllowance",Ji.MsgRevokeAllowance]];var po={};Object.defineProperty(po,"__esModule",{value:!0});po.setupFeegrantExtension=void 0;const Bf=Hu,Gi=ae;function Rf(e){const t=(0,Gi.createProtobufRpcClient)(e),n=new Bf.QueryClientImpl(t);return{feegrant:{allowance:async(r,o)=>await n.Allowance({granter:r,grantee:o}),allowances:async(r,o)=>await n.Allowances({grantee:r,pagination:(0,Gi.createPagination)(o)})}}}po.setupFeegrantExtension=Rf;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.createGovAminoConverters=je.isAminoMsgDeposit=je.isAminoMsgVoteWeighted=je.isAminoMsgVote=je.isAminoMsgSubmitProposal=void 0;const If=ee,jn=Z,Bn=Vu,$f=Rs,Nf=ae;function Df(e){return e.type==="cosmos-sdk/MsgSubmitProposal"}je.isAminoMsgSubmitProposal=Df;function xf(e){return e.type==="cosmos-sdk/MsgVote"}je.isAminoMsgVote=xf;function Uf(e){return e.type==="cosmos-sdk/MsgVoteWeighted"}je.isAminoMsgVoteWeighted=Uf;function qf(e){return e.type==="cosmos-sdk/MsgDeposit"}je.isAminoMsgDeposit=qf;function Hf(){return{"/cosmos.gov.v1beta1.MsgDeposit":{aminoType:"cosmos-sdk/MsgDeposit",toAmino:({amount:e,depositor:t,proposalId:n})=>({amount:e,depositor:t,proposal_id:n.toString()}),fromAmino:({amount:e,depositor:t,proposal_id:n})=>({amount:Array.from(e),depositor:t,proposalId:BigInt(n)})},"/cosmos.gov.v1beta1.MsgVote":{aminoType:"cosmos-sdk/MsgVote",toAmino:({option:e,proposalId:t,voter:n})=>({option:e,proposal_id:t.toString(),voter:n}),fromAmino:({option:e,proposal_id:t,voter:n})=>({option:(0,Bn.voteOptionFromJSON)(e),proposalId:BigInt(t),voter:n})},"/cosmos.gov.v1beta1.MsgVoteWeighted":{aminoType:"cosmos-sdk/MsgVoteWeighted",toAmino:({options:e,proposalId:t,voter:n})=>({options:e.map(r=>({option:r.option,weight:(0,Nf.decodeCosmosSdkDecFromProto)(r.weight).toString().padEnd(20,"0")})),proposal_id:t.toString(),voter:n}),fromAmino:({options:e,proposal_id:t,voter:n})=>({proposalId:BigInt(t),voter:n,options:e.map(r=>({option:(0,Bn.voteOptionFromJSON)(r.option),weight:If.Decimal.fromUserInput(r.weight,18).atomics}))})},"/cosmos.gov.v1beta1.MsgSubmitProposal":{aminoType:"cosmos-sdk/MsgSubmitProposal",toAmino:({initialDeposit:e,proposer:t,content:n})=>{(0,jn.assertDefinedAndNotNull)(n);let r;switch(n.typeUrl){case"/cosmos.gov.v1beta1.TextProposal":{const o=Bn.TextProposal.decode(n.value);r={type:"cosmos-sdk/TextProposal",value:{description:o.description,title:o.title}};break}default:throw new Error(`Unsupported proposal type: '${n.typeUrl}'`)}return{initial_deposit:e,proposer:t,content:r}},fromAmino:({initial_deposit:e,proposer:t,content:n})=>{let r;switch(n.type){case"cosmos-sdk/TextProposal":{const{value:o}=n;(0,jn.assert)((0,jn.isNonNullObject)(o));const{title:s,description:i}=o;(0,jn.assert)(typeof s=="string"),(0,jn.assert)(typeof i=="string"),r=$f.Any.fromPartial({typeUrl:"/cosmos.gov.v1beta1.TextProposal",value:Bn.TextProposal.encode(Bn.TextProposal.fromPartial({title:s,description:i})).finish()});break}default:throw new Error(`Unsupported proposal type: '${n.type}'`)}return{initialDeposit:Array.from(e),proposer:t,content:r}}}}}je.createGovAminoConverters=Hf;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.isMsgVoteWeightedEncodeObject=Be.isMsgVoteEncodeObject=Be.isMsgSubmitProposalEncodeObject=Be.isMsgDepositEncodeObject=Be.govTypes=void 0;const Rn=Fu,pr=Wu;Be.govTypes=[["/cosmos.gov.v1.MsgDeposit",Rn.MsgDeposit],["/cosmos.gov.v1.MsgSubmitProposal",Rn.MsgSubmitProposal],["/cosmos.gov.v1.MsgUpdateParams",Rn.MsgUpdateParams],["/cosmos.gov.v1.MsgVote",Rn.MsgVote],["/cosmos.gov.v1.MsgVoteWeighted",Rn.MsgVoteWeighted],["/cosmos.gov.v1beta1.MsgDeposit",pr.MsgDeposit],["/cosmos.gov.v1beta1.MsgSubmitProposal",pr.MsgSubmitProposal],["/cosmos.gov.v1beta1.MsgVote",pr.MsgVote],["/cosmos.gov.v1beta1.MsgVoteWeighted",pr.MsgVoteWeighted]];function Vf(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgDeposit"}Be.isMsgDepositEncodeObject=Vf;function Ff(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgSubmitProposal"}Be.isMsgSubmitProposalEncodeObject=Ff;function Wf(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVote"}Be.isMsgVoteEncodeObject=Wf;function Jf(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVoteWeighted"}Be.isMsgVoteWeightedEncodeObject=Jf;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.setupGovExtension=void 0;const Gf=Ju,Fe=ae;function Lf(e){const t=(0,Fe.createProtobufRpcClient)(e),n=new Gf.QueryClientImpl(t);return{gov:{params:async r=>await n.Params({paramsType:r}),proposals:async(r,o,s,i)=>await n.Proposals({proposalStatus:r,depositor:o,voter:s,pagination:(0,Fe.createPagination)(i)}),proposal:async r=>await n.Proposal({proposalId:(0,Fe.longify)(r)}),deposits:async(r,o)=>await n.Deposits({proposalId:(0,Fe.longify)(r),pagination:(0,Fe.createPagination)(o)}),deposit:async(r,o)=>await n.Deposit({proposalId:(0,Fe.longify)(r),depositor:o}),tally:async r=>await n.TallyResult({proposalId:(0,Fe.longify)(r)}),votes:async(r,o)=>await n.Votes({proposalId:(0,Fe.longify)(r),pagination:(0,Fe.createPagination)(o)}),vote:async(r,o)=>await n.Vote({proposalId:(0,Fe.longify)(r),voter:o})}}}go.setupGovExtension=Lf;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.createGroupAminoConverters=void 0;function zf(){return{}}yo.createGroupAminoConverters=zf;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.groupTypes=void 0;const ue=Gu;bo.groupTypes=[["/cosmos.group.v1.MsgCreateGroup",ue.MsgCreateGroup],["/cosmos.group.v1.MsgCreateGroupPolicy",ue.MsgCreateGroupPolicy],["/cosmos.group.v1.MsgCreateGroupWithPolicy",ue.MsgCreateGroupWithPolicy],["/cosmos.group.v1.MsgExec",ue.MsgExec],["/cosmos.group.v1.MsgLeaveGroup",ue.MsgLeaveGroup],["/cosmos.group.v1.MsgSubmitProposal",ue.MsgSubmitProposal],["/cosmos.group.v1.MsgUpdateGroupAdmin",ue.MsgUpdateGroupAdmin],["/cosmos.group.v1.MsgUpdateGroupMembers",ue.MsgUpdateGroupMembers],["/cosmos.group.v1.MsgUpdateGroupMetadata",ue.MsgUpdateGroupMetadata],["/cosmos.group.v1.MsgUpdateGroupPolicyAdmin",ue.MsgUpdateGroupPolicyAdmin],["/cosmos.group.v1.MsgUpdateGroupPolicyDecisionPolicy",ue.MsgUpdateGroupPolicyDecisionPolicy],["/cosmos.group.v1.MsgUpdateGroupPolicyMetadata",ue.MsgUpdateGroupPolicyMetadata],["/cosmos.group.v1.MsgVote",ue.MsgVote],["/cosmos.group.v1.MsgWithdrawProposal",ue.MsgWithdrawProposal]];var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.createIbcAminoConverters=cn.isAminoMsgTransfer=void 0;const gr=st,Kf=Hr;function Qf(e){return e.type==="cosmos-sdk/MsgTransfer"}cn.isAminoMsgTransfer=Qf;function Zf(){return{"/ibc.applications.transfer.v1.MsgTransfer":{aminoType:"cosmos-sdk/MsgTransfer",toAmino:({sourcePort:e,sourceChannel:t,token:n,sender:r,receiver:o,timeoutHeight:s,timeoutTimestamp:i,memo:c})=>{var a,u,d;return{source_port:e,source_channel:t,token:n,sender:r,receiver:o,timeout_height:s?{revision_height:(a=(0,gr.omitDefault)(s.revisionHeight))==null?void 0:a.toString(),revision_number:(u=(0,gr.omitDefault)(s.revisionNumber))==null?void 0:u.toString()}:{},timeout_timestamp:(d=(0,gr.omitDefault)(i))==null?void 0:d.toString(),memo:(0,gr.omitDefault)(c)}},fromAmino:({source_port:e,source_channel:t,token:n,sender:r,receiver:o,timeout_height:s,timeout_timestamp:i,memo:c})=>Kf.MsgTransfer.fromPartial({sourcePort:e,sourceChannel:t,token:n,sender:r,receiver:o,timeoutHeight:s?{revisionHeight:BigInt(s.revision_height||"0"),revisionNumber:BigInt(s.revision_number||"0")}:void 0,timeoutTimestamp:BigInt(i||"0"),memo:c??""})}}}cn.createIbcAminoConverters=Zf;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.isMsgTransferEncodeObject=un.ibcTypes=void 0;const Xf=Hr,We=Lu,yr=zu,br=Ku;un.ibcTypes=[["/ibc.applications.transfer.v1.MsgTransfer",Xf.MsgTransfer],["/ibc.core.channel.v1.MsgAcknowledgement",We.MsgAcknowledgement],["/ibc.core.channel.v1.MsgChannelCloseConfirm",We.MsgChannelCloseConfirm],["/ibc.core.channel.v1.MsgChannelCloseInit",We.MsgChannelCloseInit],["/ibc.core.channel.v1.MsgChannelOpenAck",We.MsgChannelOpenAck],["/ibc.core.channel.v1.MsgChannelOpenConfirm",We.MsgChannelOpenConfirm],["/ibc.core.channel.v1.MsgChannelOpenInit",We.MsgChannelOpenInit],["/ibc.core.channel.v1.MsgChannelOpenTry",We.MsgChannelOpenTry],["/ibc.core.channel.v1.MsgRecvPacket",We.MsgRecvPacket],["/ibc.core.channel.v1.MsgTimeout",We.MsgTimeout],["/ibc.core.channel.v1.MsgTimeoutOnClose",We.MsgTimeoutOnClose],["/ibc.core.client.v1.MsgCreateClient",yr.MsgCreateClient],["/ibc.core.client.v1.MsgSubmitMisbehaviour",yr.MsgSubmitMisbehaviour],["/ibc.core.client.v1.MsgUpdateClient",yr.MsgUpdateClient],["/ibc.core.client.v1.MsgUpgradeClient",yr.MsgUpgradeClient],["/ibc.core.connection.v1.MsgConnectionOpenAck",br.MsgConnectionOpenAck],["/ibc.core.connection.v1.MsgConnectionOpenConfirm",br.MsgConnectionOpenConfirm],["/ibc.core.connection.v1.MsgConnectionOpenInit",br.MsgConnectionOpenInit],["/ibc.core.connection.v1.MsgConnectionOpenTry",br.MsgConnectionOpenTry]];function Yf(e){return e.typeUrl==="/ibc.applications.transfer.v1.MsgTransfer"}un.isMsgTransferEncodeObject=Yf;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.setupIbcExtension=void 0;const vr=N,eh=ee,Li=Qu,th=Zu,kt=Xu,In=Yu,ss=ed,ec=td,z=ae;function is(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ClientState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return ec.ClientState.decode(e.value)}function nh(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ConsensusState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return ec.ConsensusState.decode(e.value)}function rh(e){const t=(0,z.createProtobufRpcClient)(e),n=new kt.QueryClientImpl(t),r=new In.QueryClientImpl(t),o=new ss.QueryClientImpl(t),s=new Li.QueryClientImpl(t);return{ibc:{channel:{channel:async(i,c)=>n.Channel({portId:i,channelId:c}),channels:async i=>n.Channels({pagination:(0,z.createPagination)(i)}),allChannels:async()=>{var u;const i=[];let c,a;do c=await n.Channels({pagination:(0,z.createPagination)(a)}),i.push(...c.channels),a=(u=c.pagination)==null?void 0:u.nextKey;while(a&&a.length);return kt.QueryChannelsResponse.fromPartial({channels:i,height:c.height})},connectionChannels:async(i,c)=>n.ConnectionChannels({connection:i,pagination:(0,z.createPagination)(c)}),allConnectionChannels:async i=>{var d;const c=[];let a,u;do a=await n.ConnectionChannels({connection:i,pagination:(0,z.createPagination)(u)}),c.push(...a.channels),u=(d=a.pagination)==null?void 0:d.nextKey;while(u&&u.length);return kt.QueryConnectionChannelsResponse.fromPartial({channels:c,height:a.height})},clientState:async(i,c)=>n.ChannelClientState({portId:i,channelId:c}),consensusState:async(i,c,a,u)=>n.ChannelConsensusState({portId:i,channelId:c,revisionNumber:BigInt(a),revisionHeight:BigInt(u)}),packetCommitment:async(i,c,a)=>n.PacketCommitment({portId:i,channelId:c,sequence:(0,z.longify)(a)}),packetCommitments:async(i,c,a)=>n.PacketCommitments({channelId:c,portId:i,pagination:(0,z.createPagination)(a)}),allPacketCommitments:async(i,c)=>{var g;const a=[];let u,d;do u=await n.PacketCommitments({channelId:c,portId:i,pagination:(0,z.createPagination)(d)}),a.push(...u.commitments),d=(g=u.pagination)==null?void 0:g.nextKey;while(d&&d.length);return kt.QueryPacketCommitmentsResponse.fromPartial({commitments:a,height:u.height})},packetReceipt:async(i,c,a)=>n.PacketReceipt({portId:i,channelId:c,sequence:(0,z.longify)(a)}),packetAcknowledgement:async(i,c,a)=>n.PacketAcknowledgement({portId:i,channelId:c,sequence:(0,z.longify)(a)}),packetAcknowledgements:async(i,c,a)=>{const u=kt.QueryPacketAcknowledgementsRequest.fromPartial({portId:i,channelId:c,pagination:(0,z.createPagination)(a)});return n.PacketAcknowledgements(u)},allPacketAcknowledgements:async(i,c)=>{var g;const a=[];let u,d;do{const M=kt.QueryPacketAcknowledgementsRequest.fromPartial({channelId:c,portId:i,pagination:(0,z.createPagination)(d)});u=await n.PacketAcknowledgements(M),a.push(...u.acknowledgements),d=(g=u.pagination)==null?void 0:g.nextKey}while(d&&d.length);return kt.QueryPacketAcknowledgementsResponse.fromPartial({acknowledgements:a,height:u.height})},unreceivedPackets:async(i,c,a)=>n.UnreceivedPackets({portId:i,channelId:c,packetCommitmentSequences:a.map(u=>BigInt(u))}),unreceivedAcks:async(i,c,a)=>n.UnreceivedAcks({portId:i,channelId:c,packetAckSequences:a.map(u=>BigInt(u))}),nextSequenceReceive:async(i,c)=>n.NextSequenceReceive({portId:i,channelId:c})},client:{state:async i=>r.ClientState({clientId:i}),states:async i=>r.ClientStates({pagination:(0,z.createPagination)(i)}),allStates:async()=>{var u;const i=[];let c,a;do c=await r.ClientStates({pagination:(0,z.createPagination)(a)}),i.push(...c.clientStates),a=(u=c.pagination)==null?void 0:u.nextKey;while(a&&a.length);return In.QueryClientStatesResponse.fromPartial({clientStates:i})},consensusState:async(i,c)=>r.ConsensusState(In.QueryConsensusStateRequest.fromPartial({clientId:i,revisionHeight:c!==void 0?BigInt(c):void 0,latestHeight:c===void 0})),consensusStates:async(i,c)=>r.ConsensusStates({clientId:i,pagination:(0,z.createPagination)(c)}),allConsensusStates:async i=>{var d;const c=[];let a,u;do a=await r.ConsensusStates({clientId:i,pagination:(0,z.createPagination)(u)}),c.push(...a.consensusStates),u=(d=a.pagination)==null?void 0:d.nextKey;while(u&&u.length);return In.QueryConsensusStatesResponse.fromPartial({consensusStates:c})},params:async()=>r.ClientParams({}),stateTm:async i=>{const c=await r.ClientState({clientId:i});return is(c.clientState)},statesTm:async i=>{const{clientStates:c}=await r.ClientStates({pagination:(0,z.createPagination)(i)});return c.map(({clientState:a})=>is(a))},allStatesTm:async()=>{var u;const i=[];let c,a;do c=await r.ClientStates({pagination:(0,z.createPagination)(a)}),i.push(...c.clientStates),a=(u=c.pagination)==null?void 0:u.nextKey;while(a&&a.length);return i.map(({clientState:d})=>is(d))},consensusStateTm:async(i,c)=>{const a=await r.ConsensusState(In.QueryConsensusStateRequest.fromPartial({clientId:i,revisionHeight:c==null?void 0:c.revisionHeight,revisionNumber:c==null?void 0:c.revisionNumber,latestHeight:c===void 0}));return nh(a.consensusState)}},connection:{connection:async i=>o.Connection({connectionId:i}),connections:async i=>o.Connections({pagination:(0,z.createPagination)(i)}),allConnections:async()=>{var u;const i=[];let c,a;do c=await o.Connections({pagination:(0,z.createPagination)(a)}),i.push(...c.connections),a=(u=c.pagination)==null?void 0:u.nextKey;while(a&&a.length);return ss.QueryConnectionsResponse.fromPartial({connections:i,height:c.height})},clientConnections:async i=>o.ClientConnections({clientId:i}),clientState:async i=>o.ConnectionClientState({connectionId:i}),consensusState:async(i,c)=>o.ConnectionConsensusState(ss.QueryConnectionConsensusStateRequest.fromPartial({connectionId:i,revisionHeight:BigInt(c)}))},transfer:{denomTrace:async i=>s.DenomTrace({hash:i}),denomTraces:async i=>s.DenomTraces({pagination:(0,z.createPagination)(i)}),allDenomTraces:async()=>{var u;const i=[];let c,a;do c=await s.DenomTraces({pagination:(0,z.createPagination)(a)}),i.push(...c.denomTraces),a=(u=c.pagination)==null?void 0:u.nextKey;while(a&&a.length);return Li.QueryDenomTracesResponse.fromPartial({denomTraces:i})},params:async()=>s.Params({})},verified:{channel:{channel:async(i,c)=>{const a=(0,vr.toAscii)(`channelEnds/ports/${i}/channels/${c}`),{value:u}=await e.queryStoreVerified("ibc",a);return u.length?th.Channel.decode(u):null},packetCommitment:async(i,c,a)=>{const u=(0,vr.toAscii)(`commitments/ports/${i}/channels/${c}/packets/${a}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},packetAcknowledgement:async(i,c,a)=>{const u=(0,vr.toAscii)(`acks/ports/${i}/channels/${c}/acknowledgements/${a}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},nextSequenceReceive:async(i,c)=>{const a=(0,vr.toAscii)(`seqAcks/ports/${i}/channels/${c}/nextSequenceAck`),{value:u}=await e.queryStoreVerified("ibc",a);return u.length?eh.Uint64.fromBytes(u).toNumber():null}}}}}}vo.setupIbcExtension=rh;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.setupMintExtension=void 0;const oh=Z,sh=nd,_t=ae;function ih(e){const t=(0,_t.createProtobufRpcClient)(e),n=new sh.QueryClientImpl(t);return{mint:{params:async()=>{const{params:r}=await n.Params({});return(0,oh.assert)(r),{blocksPerYear:r.blocksPerYear,goalBonded:(0,_t.decodeCosmosSdkDecFromProto)(r.goalBonded),inflationMin:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationMin),inflationMax:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationMax),inflationRateChange:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationRateChange),mintDenom:r.mintDenom}},inflation:async()=>{const{inflation:r}=await n.Inflation({});return(0,_t.decodeCosmosSdkDecFromProto)(r)},annualProvisions:async()=>{const{annualProvisions:r}=await n.AnnualProvisions({});return(0,_t.decodeCosmosSdkDecFromProto)(r)}}}}wo.setupMintExtension=ih;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.createSlashingAminoConverters=dn.isAminoMsgUnjail=void 0;function ah(e){return e.type==="cosmos-sdk/MsgUnjail"}dn.isAminoMsgUnjail=ah;function ch(){throw new Error("Not implemented")}dn.createSlashingAminoConverters=ch;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.setupSlashingExtension=void 0;const uh=rd,zi=ae;function dh(e){const t=(0,zi.createProtobufRpcClient)(e),n=new uh.QueryClientImpl(t);return{slashing:{signingInfo:async r=>await n.SigningInfo({consAddress:r}),signingInfos:async r=>await n.SigningInfos({pagination:(0,zi.createPagination)(r)}),params:async()=>await n.Params({})}}}ko.setupSlashingExtension=dh;var X={};Object.defineProperty(X,"__esModule",{value:!0});X.createStakingAminoConverters=X.isAminoMsgCancelUnbondingDelegation=X.isAminoMsgUndelegate=X.isAminoMsgBeginRedelegate=X.isAminoMsgDelegate=X.isAminoMsgEditValidator=X.isAminoMsgCreateValidator=X.protoDecimalToJson=void 0;const tc=ee,Ki=vt,et=Z;function Dn(e){const t=tc.Decimal.fromAtomics(e,18),[n,r]=t.toString().split(".");return`${n}.${(r??"").padEnd(18,"0")}`}X.protoDecimalToJson=Dn;function wr(e){return tc.Decimal.fromUserInput(e,18).atomics}function lh(e){return e.type==="cosmos-sdk/MsgCreateValidator"}X.isAminoMsgCreateValidator=lh;function mh(e){return e.type==="cosmos-sdk/MsgEditValidator"}X.isAminoMsgEditValidator=mh;function fh(e){return e.type==="cosmos-sdk/MsgDelegate"}X.isAminoMsgDelegate=fh;function hh(e){return e.type==="cosmos-sdk/MsgBeginRedelegate"}X.isAminoMsgBeginRedelegate=hh;function ph(e){return e.type==="cosmos-sdk/MsgUndelegate"}X.isAminoMsgUndelegate=ph;function gh(e){return e.type==="cosmos-sdk/MsgCancelUnbondingDelegation"}X.isAminoMsgCancelUnbondingDelegation=gh;function yh(){return{"/cosmos.staking.v1beta1.MsgBeginRedelegate":{aminoType:"cosmos-sdk/MsgBeginRedelegate",toAmino:({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:n,amount:r})=>((0,et.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_src_address:t,validator_dst_address:n,amount:r}),fromAmino:({delegator_address:e,validator_src_address:t,validator_dst_address:n,amount:r})=>({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:n,amount:r})},"/cosmos.staking.v1beta1.MsgCreateValidator":{aminoType:"cosmos-sdk/MsgCreateValidator",toAmino:({description:e,commission:t,minSelfDelegation:n,delegatorAddress:r,validatorAddress:o,pubkey:s,value:i})=>((0,et.assertDefinedAndNotNull)(e,"missing description"),(0,et.assertDefinedAndNotNull)(t,"missing commission"),(0,et.assertDefinedAndNotNull)(s,"missing pubkey"),(0,et.assertDefinedAndNotNull)(i,"missing value"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission:{rate:Dn(t.rate),max_rate:Dn(t.maxRate),max_change_rate:Dn(t.maxChangeRate)},min_self_delegation:n,delegator_address:r,validator_address:o,pubkey:(0,Ki.decodePubkey)(s),value:i}),fromAmino:({description:e,commission:t,min_self_delegation:n,delegator_address:r,validator_address:o,pubkey:s,value:i})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commission:{rate:wr(t.rate),maxRate:wr(t.max_rate),maxChangeRate:wr(t.max_change_rate)},minSelfDelegation:n,delegatorAddress:r,validatorAddress:o,pubkey:(0,Ki.encodePubkey)(s),value:i})},"/cosmos.staking.v1beta1.MsgDelegate":{aminoType:"cosmos-sdk/MsgDelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:n})=>((0,et.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_address:t,amount:n}),fromAmino:({delegator_address:e,validator_address:t,amount:n})=>({delegatorAddress:e,validatorAddress:t,amount:n})},"/cosmos.staking.v1beta1.MsgEditValidator":{aminoType:"cosmos-sdk/MsgEditValidator",toAmino:({description:e,commissionRate:t,minSelfDelegation:n,validatorAddress:r})=>((0,et.assertDefinedAndNotNull)(e,"missing description"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission_rate:t?Dn(t):void 0,min_self_delegation:n||void 0,validator_address:r}),fromAmino:({description:e,commission_rate:t,min_self_delegation:n,validator_address:r})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commissionRate:t?wr(t):"",minSelfDelegation:n??"",validatorAddress:r})},"/cosmos.staking.v1beta1.MsgUndelegate":{aminoType:"cosmos-sdk/MsgUndelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:n})=>((0,et.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_address:t,amount:n}),fromAmino:({delegator_address:e,validator_address:t,amount:n})=>({delegatorAddress:e,validatorAddress:t,amount:n})},"/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation":{aminoType:"cosmos-sdk/MsgCancelUnbondingDelegation",toAmino:({delegatorAddress:e,validatorAddress:t,amount:n,creationHeight:r})=>((0,et.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_address:t,amount:n,creation_height:r.toString()}),fromAmino:({delegator_address:e,validator_address:t,amount:n,creation_height:r})=>({delegatorAddress:e,validatorAddress:t,amount:n,creationHeight:BigInt(r)})}}}X.createStakingAminoConverters=yh;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.isMsgCancelUnbondingDelegationEncodeObject=oe.isMsgUndelegateEncodeObject=oe.isMsgEditValidatorEncodeObject=oe.isMsgDelegateEncodeObject=oe.isMsgCreateValidatorEncodeObject=oe.isMsgBeginRedelegateEncodeObject=oe.stakingTypes=void 0;const Ut=ma;oe.stakingTypes=[["/cosmos.staking.v1beta1.MsgBeginRedelegate",Ut.MsgBeginRedelegate],["/cosmos.staking.v1beta1.MsgCreateValidator",Ut.MsgCreateValidator],["/cosmos.staking.v1beta1.MsgDelegate",Ut.MsgDelegate],["/cosmos.staking.v1beta1.MsgEditValidator",Ut.MsgEditValidator],["/cosmos.staking.v1beta1.MsgUndelegate",Ut.MsgUndelegate],["/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation",Ut.MsgCancelUnbondingDelegation]];function bh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgBeginRedelegate"}oe.isMsgBeginRedelegateEncodeObject=bh;function vh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCreateValidator"}oe.isMsgCreateValidatorEncodeObject=vh;function wh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgDelegate"}oe.isMsgDelegateEncodeObject=wh;function kh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgEditValidator"}oe.isMsgEditValidatorEncodeObject=kh;function _h(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgUndelegate"}oe.isMsgUndelegateEncodeObject=_h;function Sh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation"}oe.isMsgCancelUnbondingDelegationEncodeObject=Sh;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.setupStakingExtension=void 0;const Ph=od,ut=ae;function Ah(e){const t=(0,ut.createProtobufRpcClient)(e),n=new Ph.QueryClientImpl(t);return{staking:{delegation:async(r,o)=>await n.Delegation({delegatorAddr:r,validatorAddr:o}),delegatorDelegations:async(r,o)=>await n.DelegatorDelegations({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),delegatorUnbondingDelegations:async(r,o)=>await n.DelegatorUnbondingDelegations({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),delegatorValidator:async(r,o)=>await n.DelegatorValidator({delegatorAddr:r,validatorAddr:o}),delegatorValidators:async(r,o)=>await n.DelegatorValidators({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),historicalInfo:async r=>await n.HistoricalInfo({height:BigInt(r)}),params:async()=>await n.Params({}),pool:async()=>await n.Pool({}),redelegations:async(r,o,s,i)=>await n.Redelegations({delegatorAddr:r,srcValidatorAddr:o,dstValidatorAddr:s,pagination:(0,ut.createPagination)(i)}),unbondingDelegation:async(r,o)=>await n.UnbondingDelegation({delegatorAddr:r,validatorAddr:o}),validator:async r=>await n.Validator({validatorAddr:r}),validatorDelegations:async(r,o)=>await n.ValidatorDelegations({validatorAddr:r,pagination:(0,ut.createPagination)(o)}),validators:async(r,o)=>await n.Validators({status:r,pagination:(0,ut.createPagination)(o)}),validatorUnbondingDelegations:async(r,o)=>await n.ValidatorUnbondingDelegations({validatorAddr:r,pagination:(0,ut.createPagination)(o)})}}}_o.setupStakingExtension=Ah;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.setupTxExtension=void 0;const Th=vt,Eh=qr,Qi=sd,$n=jt,Ch=ae;function Mh(e){const t=(0,Ch.createProtobufRpcClient)(e),n=new Qi.ServiceClientImpl(t);return{tx:{getTx:async r=>{const o={hash:r};return await n.GetTx(o)},simulate:async(r,o,s,i)=>{const c=$n.Tx.fromPartial({authInfo:$n.AuthInfo.fromPartial({fee:$n.Fee.fromPartial({}),signerInfos:[{publicKey:(0,Th.encodePubkey)(s),sequence:BigInt(i),modeInfo:{single:{mode:Eh.SignMode.SIGN_MODE_UNSPECIFIED}}}]}),body:$n.TxBody.fromPartial({messages:Array.from(r),memo:o}),signatures:[new Uint8Array]}),a=Qi.SimulateRequest.fromPartial({txBytes:$n.Tx.encode(c).finish()});return await n.Simulate(a)}}}}So.setupTxExtension=Mh;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.createVestingAminoConverters=ln.isAminoMsgCreateVestingAccount=void 0;function Oh(e){return e.type==="cosmos-sdk/MsgCreateVestingAccount"}ln.isAminoMsgCreateVestingAccount=Oh;function jh(){return{"/cosmos.vesting.v1beta1.MsgCreateVestingAccount":{aminoType:"cosmos-sdk/MsgCreateVestingAccount",toAmino:({fromAddress:e,toAddress:t,amount:n,endTime:r,delayed:o})=>({from_address:e,to_address:t,amount:[...n],end_time:r.toString(),delayed:o}),fromAmino:({from_address:e,to_address:t,amount:n,end_time:r,delayed:o})=>({fromAddress:e,toAddress:t,amount:[...n],endTime:BigInt(r),delayed:o})}}}ln.createVestingAminoConverters=jh;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.vestingTypes=void 0;const Bh=id;Po.vestingTypes=[["/cosmos.vesting.v1beta1.MsgCreateVestingAccount",Bh.MsgCreateVestingAccount]];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createStakingAminoConverters=e.setupSlashingExtension=e.isAminoMsgUnjail=e.createSlashingAminoConverters=e.setupMintExtension=e.setupIbcExtension=e.isMsgTransferEncodeObject=e.ibcTypes=e.isAminoMsgTransfer=e.createIbcAminoConverters=e.groupTypes=e.createGroupAminoConverters=e.setupGovExtension=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgDepositEncodeObject=e.govTypes=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgSubmitProposal=e.isAminoMsgDeposit=e.createGovAminoConverters=e.setupFeegrantExtension=e.feegrantTypes=e.createFeegrantAminoConverters=e.isAminoMsgSubmitEvidence=e.createEvidenceAminoConverters=e.setupDistributionExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=e.distributionTypes=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgFundCommunityPool=e.createDistributionAminoConverters=e.isAminoMsgVerifyInvariant=e.createCrysisAminoConverters=e.setupBankExtension=e.isMsgSendEncodeObject=e.bankTypes=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.createBankAminoConverters=e.setupAuthzExtension=e.authzTypes=e.createAuthzAminoConverters=e.setupAuthExtension=void 0,e.vestingTypes=e.isAminoMsgCreateVestingAccount=e.createVestingAminoConverters=e.setupTxExtension=e.setupStakingExtension=e.stakingTypes=e.isMsgUndelegateEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgCancelUnbondingDelegationEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgUndelegate=e.isAminoMsgEditValidator=e.isAminoMsgDelegate=void 0;var t=eo;Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return t.setupAuthExtension}});var n=ao;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return n.createAuthzAminoConverters}});var r=co;Object.defineProperty(e,"authzTypes",{enumerable:!0,get:function(){return r.authzTypes}});var o=uo;Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return o.setupAuthzExtension}});var s=ht;Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return s.createBankAminoConverters}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return s.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return s.isAminoMsgSend}});var i=rn;Object.defineProperty(e,"bankTypes",{enumerable:!0,get:function(){return i.bankTypes}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return i.isMsgSendEncodeObject}});var c=lo;Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return c.setupBankExtension}});var a=on;Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return a.createCrysisAminoConverters}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return a.isAminoMsgVerifyInvariant}});var u=Oe;Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return u.createDistributionAminoConverters}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return u.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return u.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawValidatorCommission}});var d=sn;Object.defineProperty(e,"distributionTypes",{enumerable:!0,get:function(){return d.distributionTypes}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return d.isMsgWithdrawDelegatorRewardEncodeObject}});var g=mo;Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return g.setupDistributionExtension}});var M=an;Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return M.createEvidenceAminoConverters}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return M.isAminoMsgSubmitEvidence}});var k=fo;Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return k.createFeegrantAminoConverters}});var V=ho;Object.defineProperty(e,"feegrantTypes",{enumerable:!0,get:function(){return V.feegrantTypes}});var y=po;Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return y.setupFeegrantExtension}});var p=je;Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return p.createGovAminoConverters}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return p.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return p.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return p.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return p.isAminoMsgVoteWeighted}});var v=Be;Object.defineProperty(e,"govTypes",{enumerable:!0,get:function(){return v.govTypes}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return v.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return v.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteWeightedEncodeObject}});var U=go;Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return U.setupGovExtension}});var D=yo;Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return D.createGroupAminoConverters}});var ce=bo;Object.defineProperty(e,"groupTypes",{enumerable:!0,get:function(){return ce.groupTypes}});var b=cn;Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return b.createIbcAminoConverters}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return b.isAminoMsgTransfer}});var _=un;Object.defineProperty(e,"ibcTypes",{enumerable:!0,get:function(){return _.ibcTypes}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return _.isMsgTransferEncodeObject}});var w=vo;Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return w.setupIbcExtension}});var x=wo;Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return x.setupMintExtension}});var q=dn;Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return q.createSlashingAminoConverters}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return q.isAminoMsgUnjail}});var H=ko;Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return H.setupSlashingExtension}});var F=X;Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return F.createStakingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return F.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return F.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return F.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return F.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return F.isAminoMsgUndelegate}});var L=oe;Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return L.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCancelUnbondingDelegationEncodeObject",{enumerable:!0,get:function(){return L.isMsgCancelUnbondingDelegationEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return L.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return L.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return L.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return L.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"stakingTypes",{enumerable:!0,get:function(){return L.stakingTypes}});var Q=_o;Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return Q.setupStakingExtension}});var _e=So;Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return _e.setupTxExtension}});var at=ln;Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return at.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return at.isAminoMsgCreateVestingAccount}});var _n=Po;Object.defineProperty(e,"vestingTypes",{enumerable:!0,get:function(){return _n.vestingTypes}})})(Fn);var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.makeMultisignedTxBytes=pt.makeMultisignedTx=pt.makeCompactBitArray=void 0;const Rh=st,Ih=N,$h=vt,Ps=ku,Nh=qr,Zi=jt,nc=jt;function rc(e){const t=Math.ceil(e.length/8),n=e.length-Math.floor(e.length/8)*8,r=new Uint8Array(t);return e.forEach((o,s)=>{const i=Math.floor(s/8),c=s%8;o&&(r[i]|=1<<7-c)}),Ps.CompactBitArray.fromPartial({elems:r,extraBitsStored:n})}pt.makeCompactBitArray=rc;function oc(e,t,n,r,o){const s=Array.from(o.keys()),i=(0,Ih.fromBech32)(s[0]).prefix,c=Array(e.value.pubkeys.length).fill(!1),a=new Array;for(let k=0;k<e.value.pubkeys.length;k++){const V=(0,Rh.pubkeyToAddress)(e.value.pubkeys[k],i),y=o.get(V);y&&(c[k]=!0,a.push(y))}const u={publicKey:(0,$h.encodePubkey)(e),modeInfo:{multi:{bitarray:rc(c),modeInfos:a.map(k=>({single:{mode:Nh.SignMode.SIGN_MODE_LEGACY_AMINO_JSON}}))}},sequence:BigInt(t)},d=Zi.AuthInfo.fromPartial({signerInfos:[u],fee:{amount:[...n.amount],gasLimit:BigInt(n.gas)}}),g=Zi.AuthInfo.encode(d).finish();return nc.TxRaw.fromPartial({bodyBytes:r,authInfoBytes:g,signatures:[Ps.MultiSignature.encode(Ps.MultiSignature.fromPartial({signatures:a})).finish()]})}pt.makeMultisignedTx=oc;function Dh(e,t,n,r,o){const s=oc(e,t,n,r,o);return Uint8Array.from(nc.TxRaw.encode(s).finish())}pt.makeMultisignedTxBytes=Dh;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.isSearchTxQueryArray=void 0;function xh(e){return Array.isArray(e)}er.isSearchTxQueryArray=xh;var sc={},Ls={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.pubkeyToAddress=Qe.pubkeyToRawAddress=Qe.rawSecp256k1PubkeyToRawAddress=Qe.rawEd25519PubkeyToRawAddress=void 0;const As=ke,Uh=N;function ic(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,As.sha256)(e).slice(0,20)}Qe.rawEd25519PubkeyToRawAddress=ic;function ac(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,As.ripemd160)((0,As.sha256)(e))}Qe.rawSecp256k1PubkeyToRawAddress=ac;function cc(e,t){switch(e){case"ed25519":return ic(t);case"secp256k1":return ac(t);default:throw new Error(`Pubkey type ${e} not supported`)}}Qe.pubkeyToRawAddress=cc;function qh(e,t){return(0,Uh.toHex)(cc(e,t)).toUpperCase()}Qe.pubkeyToAddress=qh;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.DateTime=ie.toSeconds=ie.fromSeconds=ie.toRfc3339WithNanoseconds=ie.fromRfc3339WithNanoseconds=void 0;const Hh=N,Vh=ee;function uc(e){const t=(0,Hh.fromRfc3339)(e),n=e.match(/\.(\d+)Z$/),r=n?n[1].slice(3):"";return t.nanoseconds=parseInt(r.padEnd(6,"0"),10),t}ie.fromRfc3339WithNanoseconds=uc;function dc(e){var r;const t=e.toISOString(),n=((r=e.nanoseconds)==null?void 0:r.toString())??"";return`${t.slice(0,-1)}${n.padStart(6,"0")}Z`}ie.toRfc3339WithNanoseconds=dc;function Fh(e,t=0){const n=new Vh.Uint32(t).toNumber();if(n>999999999)throw new Error("Nano seconds must not exceed 999999999");const r=new Date(e*1e3+Math.floor(n/1e6));return r.nanoseconds=n%1e6,r}ie.fromSeconds=Fh;function Wh(e){return{seconds:Math.floor(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6+(e.nanoseconds??0)}}ie.toSeconds=Wh;class Jh{static decode(t){return uc(t)}static encode(t){return dc(t)}}ie.DateTime=Jh;var Br={},Ao={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.createJsonRpcRequest=void 0;const Xi="123456789";function Gh(){return Xi[Math.floor(Math.random()*Xi.length)]}function Lh(){return parseInt(Array.from({length:12}).map(()=>Gh()).join(""),10)}function zh(e,t){const n=t?{...t}:{};return{jsonrpc:"2.0",id:Lh(),method:e,params:n}}it.createJsonRpcRequest=zh;var tr={},To={},Eo={},Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.makeJsonRpcId=void 0;let Kh=1e4;function Qh(){return Kh+=1}Co.makeJsonRpcId=Qh;var Mo={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.jsonRpcCode=rt.isJsonRpcSuccessResponse=rt.isJsonRpcErrorResponse=void 0;function lc(e){return typeof e.error=="object"}rt.isJsonRpcErrorResponse=lc;function Zh(e){return!lc(e)}rt.isJsonRpcSuccessResponse=Zh;rt.jsonRpcCode={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:{default:-32e3}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.JsonRpcClient=void 0;const Xh=Yn,Yh=rt;class ep{constructor(t){this.connection=t}async run(t){const n=this.connection.responseStream.filter(s=>s.id===t.id),r=(0,Xh.firstEvent)(n);this.connection.sendRequest(t);const o=await r;if((0,Yh.isJsonRpcErrorResponse)(o)){const s=o.error;throw new Error(`JSON RPC error: code=${s.code}; message='${s.message}'`)}return o}}Mo.JsonRpcClient=ep;var Re={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.isJsonCompatibleDictionary=gt.isJsonCompatibleArray=gt.isJsonCompatibleValue=void 0;function zs(e){return!!(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||mc(e)||fc(e))}gt.isJsonCompatibleValue=zs;function mc(e){if(!Array.isArray(e))return!1;for(const t of e)if(!zs(t))return!1;return!0}gt.isJsonCompatibleArray=mc;function fc(e){return typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]"?!1:Object.values(e).every(zs)}gt.isJsonCompatibleDictionary=fc;Object.defineProperty(Re,"__esModule",{value:!0});Re.parseJsonRpcResponse=Re.parseJsonRpcSuccessResponse=Re.parseJsonRpcErrorResponse=Re.parseJsonRpcRequest=Re.parseJsonRpcId=void 0;const yt=gt;function hc(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");const t=e.id;return typeof t!="number"&&typeof t!="string"?null:t}Re.parseJsonRpcId=hc;function tp(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${e.jsonrpc}`);const t=hc(e);if(t===null)throw new Error("Invalid id field");const n=e.method;if(typeof n!="string")throw new Error("Invalid method field");if(!(0,yt.isJsonCompatibleArray)(e.params)&&!(0,yt.isJsonCompatibleDictionary)(e.params))throw new Error("Invalid params field");return{jsonrpc:"2.0",id:t,method:n,params:e.params}}Re.parseJsonRpcRequest=tp;function np(e){if(typeof e.code!="number")throw new Error("Error property 'code' is not a number");if(typeof e.message!="string")throw new Error("Error property 'message' is not a string");let t;if(e.data===void 0)t=void 0;else if((0,yt.isJsonCompatibleValue)(e.data))t=e.data;else throw new Error("Error property 'data' is defined but not a JSON compatible value.");return{code:e.code,message:e.message,...t!==void 0?{data:t}:{}}}function pc(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string"&&t!==null)throw new Error("Invalid id field");if(typeof e.error>"u"||!(0,yt.isJsonCompatibleDictionary)(e.error))throw new Error("Invalid error field");return{jsonrpc:"2.0",id:t,error:np(e.error)}}Re.parseJsonRpcErrorResponse=pc;function gc(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string")throw new Error("Invalid id field");if(typeof e.result>"u")throw new Error("Invalid result field");const n=e.result;return{jsonrpc:"2.0",id:t,result:n}}Re.parseJsonRpcSuccessResponse=gc;function rp(e){let t;try{t=pc(e)}catch{t=gc(e)}return t}Re.parseJsonRpcResponse=rp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.jsonRpcCode=e.isJsonRpcSuccessResponse=e.isJsonRpcErrorResponse=e.parseJsonRpcSuccessResponse=e.parseJsonRpcResponse=e.parseJsonRpcRequest=e.parseJsonRpcId=e.parseJsonRpcErrorResponse=e.JsonRpcClient=e.makeJsonRpcId=void 0;var t=Co;Object.defineProperty(e,"makeJsonRpcId",{enumerable:!0,get:function(){return t.makeJsonRpcId}});var n=Mo;Object.defineProperty(e,"JsonRpcClient",{enumerable:!0,get:function(){return n.JsonRpcClient}});var r=Re;Object.defineProperty(e,"parseJsonRpcErrorResponse",{enumerable:!0,get:function(){return r.parseJsonRpcErrorResponse}}),Object.defineProperty(e,"parseJsonRpcId",{enumerable:!0,get:function(){return r.parseJsonRpcId}}),Object.defineProperty(e,"parseJsonRpcRequest",{enumerable:!0,get:function(){return r.parseJsonRpcRequest}}),Object.defineProperty(e,"parseJsonRpcResponse",{enumerable:!0,get:function(){return r.parseJsonRpcResponse}}),Object.defineProperty(e,"parseJsonRpcSuccessResponse",{enumerable:!0,get:function(){return r.parseJsonRpcSuccessResponse}});var o=rt;Object.defineProperty(e,"isJsonRpcErrorResponse",{enumerable:!0,get:function(){return o.isJsonRpcErrorResponse}}),Object.defineProperty(e,"isJsonRpcSuccessResponse",{enumerable:!0,get:function(){return o.isJsonRpcSuccessResponse}}),Object.defineProperty(e,"jsonRpcCode",{enumerable:!0,get:function(){return o.jsonRpcCode}})})(Eo);var nr={},op=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.http=void 0;const sp=op(ad);function ip(e){if(e.status>=400)throw new Error(`Bad status on response: ${e.status}`);return e}function ap(e){return e.toString().includes("emitExperimentalWarning")}async function cp(e,t,n,r){if(typeof fetch=="function"&&!ap(fetch)){const o={method:e,body:r?JSON.stringify(r):void 0,headers:{"Content-Type":"application/json",...n}};return fetch(t,o).then(ip).then(s=>s.json())}else return sp.default.request({url:t,method:e,data:r,headers:n}).then(o=>o.data)}nr.http=cp;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.hasProtocol=ot.instanceOfRpcStreamingClient=void 0;function up(e){return typeof e.listen=="function"}ot.instanceOfRpcStreamingClient=up;function dp(e){return e.search("://")!==-1}ot.hasProtocol=dp;Object.defineProperty(To,"__esModule",{value:!0});To.HttpBatchClient=void 0;const Yi=Eo,lp=nr,mp=ot,ea={dispatchInterval:20,batchSizeLimit:20};class fp{constructor(t,n={}){if(this.queue=[],this.options={batchSizeLimit:n.batchSizeLimit??ea.batchSizeLimit,dispatchInterval:n.dispatchInterval??ea.dispatchInterval},typeof t=="string"){if(!(0,mp.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers;this.timer=setInterval(()=>this.tick(),n.dispatchInterval),this.validate()}disconnect(){this.timer&&clearInterval(this.timer),this.timer=void 0}async execute(t){return new Promise((n,r)=>{this.queue.push({request:t,resolve:n,reject:r}),this.queue.length>=this.options.batchSizeLimit&&this.tick()})}validate(){if(!this.options.batchSizeLimit||!Number.isSafeInteger(this.options.batchSizeLimit)||this.options.batchSizeLimit<1)throw new Error("batchSizeLimit must be a safe integer >= 1")}tick(){const t=this.queue.splice(0,this.options.batchSizeLimit);if(!t.length)return;const n=t.map(o=>o.request),r=n.map(o=>o.id);(0,lp.http)("POST",this.url,this.headers,n).then(o=>{(Array.isArray(o)?o:[o]).forEach(i=>{const c=t.find(g=>g.request.id===i.id);if(!c)return;const{reject:a,resolve:u}=c,d=(0,Yi.parseJsonRpcResponse)(i);(0,Yi.isJsonRpcErrorResponse)(d)?a(new Error(JSON.stringify(d.error))):u(d)})},o=>{for(const s of r){const i=t.find(c=>c.request.id===s);if(!i)return;i.reject(o)}})}}To.HttpBatchClient=fp;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.HttpClient=void 0;const ta=Eo,hp=nr,pp=ot;class gp{constructor(t){if(typeof t=="string"){if(!(0,pp.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers}disconnect(){}async execute(t){const n=(0,ta.parseJsonRpcResponse)(await(0,hp.http)("POST",this.url,this.headers,t));if((0,ta.isJsonRpcErrorResponse)(n))throw new Error(JSON.stringify(n.error));return n}}Oo.HttpClient=gp;var jo={},yc={},Ks={},rr={},or={},yp=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});or.SocketWrapper=void 0;const qt=yp(Cu);function bp(){return typeof tt.process<"u"&&typeof tt.process.versions<"u"&&typeof tt.process.versions.node<"u"}class vp{constructor(t,n,r,o,s,i=1e4){this.closed=!1,this.connected=new Promise((c,a)=>{this.connectedResolver=c,this.connectedRejecter=a}),this.url=t,this.messageHandler=n,this.errorHandler=r,this.openHandler=o,this.closeHandler=s,this.timeout=i}connect(){const t=new qt.default(this.url);t.onerror=r=>{this.clearTimeout(),this.errorHandler&&this.errorHandler(r)},t.onmessage=r=>{this.messageHandler({type:r.type,data:r.data})},t.onopen=r=>{this.clearTimeout(),this.connectedResolver(),this.openHandler&&this.openHandler()},t.onclose=r=>{this.closed=!0,this.closeHandler&&this.closeHandler(r)};const n=Date.now();this.timeoutId=setTimeout(()=>{t.onmessage=()=>0,t.onerror=()=>0,t.onopen=()=>0,t.onclose=()=>0,t.close(),this.socket=void 0;const r=Math.floor(Date.now()-n);this.connectedRejecter(`Connection attempt timed out after ${r} ms`)},this.timeout),this.socket=t}disconnect(){if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");switch(this.clearTimeout(),this.socket.readyState){case qt.default.OPEN:this.socket.close(1e3);break;case qt.default.CLOSED:break;case qt.default.CONNECTING:this.socket.onopen=()=>0,this.socket.onclose=()=>0,this.socket.onerror=()=>0,this.socket.onmessage=()=>0,this.socket=void 0,this.closeHandler&&this.closeHandler({wasClean:!1,code:4001});break;case qt.default.CLOSING:break;default:throw new Error(`Unknown readyState: ${this.socket.readyState}`)}}async send(t){return new Promise((n,r)=>{if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");if(this.closed)throw new Error("Socket was closed, so no data can be sent anymore.");if(this.socket.readyState!==qt.default.OPEN)throw new Error("Websocket is not open");bp()?this.socket.send(t,o=>o?r(o):n()):(this.socket.send(t),n())})}clearTimeout(){if(!this.timeoutId)throw new Error("Timeout ID not set. This should not happen and usually means connect() was not called.");clearTimeout(this.timeoutId)}}or.SocketWrapper=vp;Object.defineProperty(rr,"__esModule",{value:!0});rr.StreamingSocket=void 0;const wp=Bt,kp=or;class _p{constructor(t,n=1e4){this.socket=new kp.SocketWrapper(t,o=>{this.eventProducerListener&&this.eventProducerListener.next(o)},o=>{this.eventProducerListener&&this.eventProducerListener.error(o)},()=>{},o=>{this.eventProducerListener&&(o.wasClean?this.eventProducerListener.complete():this.eventProducerListener.error("Socket was closed unclean"))},n),this.connected=this.socket.connected;const r={start:o=>this.eventProducerListener=o,stop:()=>this.eventProducerListener=void 0};this.events=wp.Stream.create(r)}connect(){this.socket.connect()}disconnect(){this.socket.disconnect()}async send(t){return this.socket.send(t)}}rr.StreamingSocket=_p;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QueueingStreamingSocket=e.ConnectionStatus=void 0;const t=Yn,n=Bt,r=rr;var o;(function(i){i[i.Unconnected=0]="Unconnected",i[i.Connecting=1]="Connecting",i[i.Connected=2]="Connected",i[i.Disconnected=3]="Disconnected"})(o=e.ConnectionStatus||(e.ConnectionStatus={}));class s{constructor(c,a=1e4,u){this.queue=[],this.isProcessingQueue=!1,this.url=c,this.timeout=a,this.reconnectedHandler=u;const d={start:g=>this.eventProducerListener=g,stop:()=>this.eventProducerListener=void 0};this.events=n.Stream.create(d),this.connectionStatusProducer=new t.DefaultValueProducer(o.Unconnected),this.connectionStatus=new t.ValueAndUpdates(this.connectionStatusProducer),this.socket=new r.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:g=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(g)},error:()=>this.connectionStatusProducer.update(o.Disconnected)})}connect(){this.connectionStatusProducer.update(o.Connecting),this.socket.connected.then(async()=>(this.connectionStatusProducer.update(o.Connected),this.processQueue()),()=>this.connectionStatusProducer.update(o.Disconnected)),this.socket.connect()}disconnect(){this.connectionStatusProducer.update(o.Disconnected),this.socket.disconnect()}reconnect(){this.socket=new r.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:c=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(c)},error:()=>this.connectionStatusProducer.update(o.Disconnected)}),this.socket.connected.then(()=>{this.reconnectedHandler&&this.reconnectedHandler()}),this.connect()}getQueueLength(){return this.queue.length}queueRequest(c){this.queue.push(c),this.processQueue()}async processQueue(){if(this.isProcessingQueue||this.connectionStatus.value!==o.Connected)return;this.isProcessingQueue=!0;let c;for(;c=this.queue.shift();)try{await this.socket.send(c),this.isProcessingQueue=!1}catch{this.queue.unshift(c),this.isProcessingQueue=!1;return}}}e.QueueingStreamingSocket=s})(Ks);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.ReconnectingSocket=void 0;const Sp=Bt,as=Ks;class Qs{static calculateTimeout(t){return Math.min(2**t*100,5e3)}constructor(t,n=1e4,r){this.unconnected=!0,this.disconnected=!1,this.timeoutIndex=0,this.reconnectTimeout=null;const o={start:s=>this.eventProducerListener=s,stop:()=>this.eventProducerListener=void 0};this.events=Sp.Stream.create(o),this.socket=new as.QueueingStreamingSocket(t,n,r),this.socket.events.subscribe({next:s=>{this.eventProducerListener&&this.eventProducerListener.next(s)},error:s=>{this.eventProducerListener&&this.eventProducerListener.error(s)}}),this.connectionStatus=this.socket.connectionStatus,this.connectionStatus.updates.subscribe({next:s=>{s===as.ConnectionStatus.Connected&&(this.timeoutIndex=0),s===as.ConnectionStatus.Disconnected&&(this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimeout=setTimeout(()=>this.socket.reconnect(),Qs.calculateTimeout(this.timeoutIndex++)))}})}connect(){if(!this.unconnected)throw new Error("Cannot connect: socket has already connected");this.socket.connect(),this.unconnected=!1}disconnect(){if(this.unconnected)throw new Error("Cannot disconnect: socket has not yet connected");this.socket.disconnect(),this.eventProducerListener&&this.eventProducerListener.complete(),this.disconnected=!0}queueRequest(t){if(this.disconnected)throw new Error("Cannot queue request: socket has disconnected");this.socket.queueRequest(t)}}Bo.ReconnectingSocket=Qs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingSocket=e.SocketWrapper=e.ReconnectingSocket=e.QueueingStreamingSocket=e.ConnectionStatus=void 0;var t=Ks;Object.defineProperty(e,"ConnectionStatus",{enumerable:!0,get:function(){return t.ConnectionStatus}}),Object.defineProperty(e,"QueueingStreamingSocket",{enumerable:!0,get:function(){return t.QueueingStreamingSocket}});var n=Bo;Object.defineProperty(e,"ReconnectingSocket",{enumerable:!0,get:function(){return n.ReconnectingSocket}});var r=or;Object.defineProperty(e,"SocketWrapper",{enumerable:!0,get:function(){return r.SocketWrapper}});var o=rr;Object.defineProperty(e,"StreamingSocket",{enumerable:!0,get:function(){return o.StreamingSocket}})})(yc);Object.defineProperty(jo,"__esModule",{value:!0});jo.WebsocketClient=void 0;const Rr=Eo,na=yc,Pp=Yn,Ap=Bt,Tp=ot;function Ep(e){throw e}function bc(e){if(e.type!=="message")throw new Error(`Unexcepted message type on websocket: ${e.type}`);return(0,Rr.parseJsonRpcResponse)(JSON.parse(e.data))}class Cp{constructor(t,n){this.running=!1,this.subscriptions=[],this.request=t,this.socket=n}start(t){if(this.running)throw Error("Already started. Please stop first before restarting.");this.running=!0,this.connectToClient(t),this.socket.queueRequest(JSON.stringify(this.request))}stop(){this.running=!1;const t={...this.request,method:"unsubscribe"};try{this.socket.queueRequest(JSON.stringify(t))}catch(n){if(!(n instanceof Error&&n.message.match(/socket has disconnected/i)))throw n}}connectToClient(t){const n=this.socket.events.map(bc),r=n.filter(i=>i.id===this.request.id).subscribe({next:i=>{(0,Rr.isJsonRpcErrorResponse)(i)&&(this.closeSubscriptions(),t.error(JSON.stringify(i.error))),r.unsubscribe()}}),o=n.filter(i=>i.id===this.request.id).subscribe({next:i=>{(0,Rr.isJsonRpcErrorResponse)(i)?(this.closeSubscriptions(),t.error(JSON.stringify(i.error))):t.next(i.result)}}),s=n.subscribe({error:i=>{this.closeSubscriptions(),t.error(i)},complete:()=>{this.closeSubscriptions(),t.complete()}});this.subscriptions.push(r,o,s)}closeSubscriptions(){for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=[]}}class Mp{constructor(t,n=Ep){if(this.subscriptionStreams=new Map,!(0,Tp.hasProtocol)(t))throw new Error("Base URL is missing a protocol. Expected 'ws://' or 'wss://'.");const r=t.endsWith("/")?"websocket":"/websocket";this.url=t+r,this.socket=new na.ReconnectingSocket(this.url);const o=this.socket.events.subscribe({error:s=>{n(s),o.unsubscribe()}});this.jsonRpcResponseStream=this.socket.events.map(bc),this.socket.connect()}async execute(t){const n=this.responseForRequestId(t.id);this.socket.queueRequest(JSON.stringify(t));const r=await n;if((0,Rr.isJsonRpcErrorResponse)(r))throw new Error(JSON.stringify(r.error));return r}listen(t){if(t.method!=="subscribe")throw new Error('Request method must be "subscribe" to start event listening');const n=t.params.query;if(typeof n!="string")throw new Error("request.params.query must be a string");if(!this.subscriptionStreams.has(n)){const r=new Cp(t,this.socket),o=Ap.Stream.create(r);this.subscriptionStreams.set(n,o)}return this.subscriptionStreams.get(n).filter(r=>r.query!==void 0)}async connected(){await this.socket.connectionStatus.waitFor(na.ConnectionStatus.Connected)}disconnect(){this.socket.disconnect()}async responseForRequestId(t){return(0,Pp.firstEvent)(this.jsonRpcResponseStream.filter(n=>n.id===t))}}jo.WebsocketClient=Mp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketClient=e.instanceOfRpcStreamingClient=e.HttpClient=e.HttpBatchClient=void 0;var t=To;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return t.HttpBatchClient}});var n=Oo;Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n.HttpClient}});var r=ot;Object.defineProperty(e,"instanceOfRpcStreamingClient",{enumerable:!0,get:function(){return r.instanceOfRpcStreamingClient}});var o=jo;Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return o.WebsocketClient}})})(tr);var vc={},Ro={},Ae={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.encodeBlockId=R.encodeVersion=R.encodeBytes=R.encodeTime=R.encodeUvarint=R.encodeString=R.dictionaryToStringMap=R.may=R.assertNotEmpty=R.assertObject=R.assertArray=R.assertNumber=R.assertString=R.assertBoolean=R.assertSet=void 0;const Op=N;function Rt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}R.assertSet=Rt;function jp(e){if(Rt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}R.assertBoolean=jp;function Bp(e){if(Rt(e),typeof e!="string")throw new Error("Value must be a string");return e}R.assertString=Bp;function Rp(e){if(Rt(e),typeof e!="number")throw new Error("Value must be a number");return e}R.assertNumber=Rp;function Ip(e){if(Rt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}R.assertArray=Ip;function $p(e){if(Rt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}R.assertObject=$p;function Np(e){if(Rt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}R.assertNotEmpty=Np;function Dp(e,t){return t==null?void 0:e(t)}R.may=Dp;function xp(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}R.dictionaryToStringMap=xp;function Up(e){const t=(0,Op.toUtf8)(e);return Uint8Array.from([t.length,...t])}R.encodeString=Up;function mn(e){return e>=128?Uint8Array.from([e&255|128,...mn(e>>7)]):Uint8Array.from([e&255])}R.encodeUvarint=mn;function qp(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...mn(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...mn(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}R.encodeTime=qp;function Hp(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}R.encodeBytes=Hp;function Vp(e){const t=e.block?Uint8Array.from([8,...mn(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...mn(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}R.encodeVersion=Vp;function Fp(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}R.encodeBlockId=Fp;Object.defineProperty(Ae,"__esModule",{value:!0});Ae.smallIntToApi=Ae.apiToBigInt=Ae.apiToSmallInt=void 0;const Ts=ee,Wp=R;function Jp(e){return(typeof e=="number"?new Ts.Int53(e):Ts.Int53.fromString(e)).toNumber()}Ae.apiToSmallInt=Jp;function Gp(e){if((0,Wp.assertString)(e),!e.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return BigInt(e)}Ae.apiToBigInt=Gp;function Lp(e){return new Ts.Int53(e).toString()}Ae.smallIntToApi=Lp;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.encodeBlockId=I.encodeVersion=I.encodeBytes=I.encodeTime=I.encodeUvarint=I.encodeString=I.dictionaryToStringMap=I.may=I.assertNotEmpty=I.assertObject=I.assertArray=I.assertNumber=I.assertString=I.assertBoolean=I.assertSet=void 0;const zp=N;function It(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}I.assertSet=It;function Kp(e){if(It(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}I.assertBoolean=Kp;function Qp(e){if(It(e),typeof e!="string")throw new Error("Value must be a string");return e}I.assertString=Qp;function Zp(e){if(It(e),typeof e!="number")throw new Error("Value must be a number");return e}I.assertNumber=Zp;function Xp(e){if(It(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}I.assertArray=Xp;function Yp(e){if(It(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}I.assertObject=Yp;function eg(e){if(It(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}I.assertNotEmpty=eg;function tg(e,t){return t==null?void 0:e(t)}I.may=tg;function ng(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}I.dictionaryToStringMap=ng;function rg(e){const t=(0,zp.toUtf8)(e);return Uint8Array.from([t.length,...t])}I.encodeString=rg;function fn(e){return e>=128?Uint8Array.from([e&255|128,...fn(e>>7)]):Uint8Array.from([e&255])}I.encodeUvarint=fn;function og(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...fn(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...fn(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}I.encodeTime=og;function sg(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}I.encodeBytes=sg;function ig(e){const t=e.block?Uint8Array.from([8,...fn(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...fn(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}I.encodeVersion=ig;function ag(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}I.encodeBlockId=ag;var Io={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})(Io);var cg=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ug=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dg=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&cg(t,e,n);return ug(t,e),t};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Params=void 0;const Zs=N,qe=Ae,te=it,be=I,lg=dg(Io);function cs(e){return{height:(0,be.may)(qe.smallIntToApi,e.height)}}function mg(e){return{minHeight:(0,be.may)(qe.smallIntToApi,e.minHeight),maxHeight:(0,be.may)(qe.smallIntToApi,e.maxHeight)}}function fg(e){return{query:e.query,page:(0,be.may)(qe.smallIntToApi,e.page),per_page:(0,be.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function hg(e){return{path:(0,be.assertNotEmpty)(e.path),data:(0,Zs.toHex)(e.data),height:(0,be.may)(qe.smallIntToApi,e.height),prove:e.prove}}function pg(e){return{tx:(0,Zs.toBase64)((0,be.assertNotEmpty)(e.tx))}}function gg(e){return{hash:(0,Zs.toBase64)((0,be.assertNotEmpty)(e.hash)),prove:e.prove}}function yg(e){return{query:e.query,prove:e.prove,page:(0,be.may)(qe.smallIntToApi,e.page),per_page:(0,be.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function bg(e){return{height:(0,be.may)(qe.smallIntToApi,e.height),page:(0,be.may)(qe.smallIntToApi,e.page),per_page:(0,be.may)(qe.smallIntToApi,e.per_page)}}let vg=class{static encodeAbciInfo(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,te.createJsonRpcRequest)(t.method,hg(t.params))}static encodeBlock(t){return(0,te.createJsonRpcRequest)(t.method,cs(t.params))}static encodeBlockchain(t){return(0,te.createJsonRpcRequest)(t.method,mg(t.params))}static encodeBlockResults(t){return(0,te.createJsonRpcRequest)(t.method,cs(t.params))}static encodeBlockSearch(t){return(0,te.createJsonRpcRequest)(t.method,fg(t.params))}static encodeBroadcastTx(t){return(0,te.createJsonRpcRequest)(t.method,pg(t.params))}static encodeCommit(t){return(0,te.createJsonRpcRequest)(t.method,cs(t.params))}static encodeGenesis(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=lg.buildQuery({tags:[n],raw:t.query.raw});return(0,te.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,te.createJsonRpcRequest)(t.method,gg(t.params))}static encodeTxSearch(t){return(0,te.createJsonRpcRequest)(t.method,yg(t.params))}static encodeValidators(t){return(0,te.createJsonRpcRequest)(t.method,bg(t.params))}};Ro.Params=vg;var Ie={},sr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=void 0,function(t){t[t.Unknown=0]="Unknown",t[t.Absent=1]="Absent",t[t.Commit=2]="Commit",t[t.Nil=3]="Nil",t[t.Unrecognized=-1]="Unrecognized"}(e.BlockIdFlag||(e.BlockIdFlag={}))})(sr);var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.hashBlock=hn.hashTx=void 0;const Xs=ke,de=I;function wg(e){return(0,Xs.sha256)(e)}hn.hashTx=wg;function kg(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function _g(e){const t=new Xs.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function Sg(e,t){const n=new Xs.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function Es(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return _g(e[0]);default:{const t=kg(e.length),n=Es(e.slice(0,t)),r=Es(e.slice(t));return Sg(n,r)}}}function Pg(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,de.encodeVersion)(e.version),(0,de.encodeString)(e.chainId),(0,de.encodeUvarint)(e.height),(0,de.encodeTime)(e.time),(0,de.encodeBlockId)(e.lastBlockId),(0,de.encodeBytes)(e.lastCommitHash),(0,de.encodeBytes)(e.dataHash),(0,de.encodeBytes)(e.validatorsHash),(0,de.encodeBytes)(e.nextValidatorsHash),(0,de.encodeBytes)(e.consensusHash),(0,de.encodeBytes)(e.appHash),(0,de.encodeBytes)(e.lastResultsHash),(0,de.encodeBytes)(e.evidenceHash),(0,de.encodeBytes)(e.proposerAddress)];return Es(t)}hn.hashBlock=Pg;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Responses=Ie.decodeValidatorInfo=Ie.decodeValidatorGenesis=Ie.decodeValidatorUpdate=Ie.decodeEvent=void 0;const E=N,wc=Z,Wn=ie,P=Ae,Ag=sr,f=I,Tg=hn;function Eg(e){return{data:e.data,lastBlockHeight:(0,f.may)(P.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,f.may)(E.fromBase64,e.last_block_app_hash)}}function Cg(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,E.fromBase64)(t.key),data:(0,E.fromBase64)(t.data)}))}}function Mg(e){return{key:(0,E.fromBase64)((0,f.assertString)(e.key??"")),value:(0,E.fromBase64)((0,f.assertString)(e.value??"")),proof:(0,f.may)(Cg,e.proofOps),height:(0,f.may)(P.apiToSmallInt,e.height),code:(0,f.may)(P.apiToSmallInt,e.code),codespace:(0,f.assertString)(e.codespace??""),index:(0,f.may)(P.apiToSmallInt,e.index),log:e.log,info:(0,f.assertString)(e.info??"")}}function Og(e){return{key:(0,f.assertNotEmpty)(e.key),value:e.value??""}}function jg(e){return(0,f.assertArray)(e).map(Og)}function kc(e){return{type:e.type,attributes:e.attributes?jg(e.attributes):[]}}Ie.decodeEvent=kc;function Cs(e){return(0,f.assertArray)(e).map(kc)}function pn(e){return{code:(0,P.apiToSmallInt)((0,f.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,f.may)(E.fromBase64,e.data),events:e.events?Cs(e.events):[],gasWanted:(0,P.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,P.apiToBigInt)(e.gas_used??"0")}}function Ys(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,wc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,E.fromBase64)((0,f.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,E.fromBase64)((0,f.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,E.fromBase64)((0,f.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Bg(e){return{maxBytes:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.max_bytes)),maxGas:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.max_gas))}}function Rg(e){return{maxAgeNumBlocks:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.max_age_duration))}}function _c(e){return{block:Bg((0,f.assertObject)(e.block)),evidence:Rg((0,f.assertObject)(e.evidence))}}function Sc(e){return{pubkey:Ys((0,f.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)(e.power??"0")}}Ie.decodeValidatorUpdate=Sc;function Ig(e){return{height:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(pn),validatorUpdates:(e.validator_updates||[]).map(Sc),consensusUpdates:(0,f.may)(_c,e.consensus_param_updates),beginBlockEvents:Cs(e.begin_block_events||[]),endBlockEvents:Cs(e.end_block_events||[])}}function $o(e){return{hash:(0,E.fromHex)((0,f.assertNotEmpty)(e.hash)),parts:{total:(0,f.assertNotEmpty)(e.parts.total),hash:(0,E.fromHex)((0,f.assertNotEmpty)(e.parts.hash))}}}function $g(e){return{block:(0,P.apiToSmallInt)(e.block),app:(0,P.apiToSmallInt)(e.app??0)}}function No(e){return{version:$g(e.version),chainId:(0,f.assertNotEmpty)(e.chain_id),height:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),time:(0,Wn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?$o(e.last_block_id):null,lastCommitHash:(0,E.fromHex)((0,f.assertSet)(e.last_commit_hash)),dataHash:(0,E.fromHex)((0,f.assertSet)(e.data_hash)),validatorsHash:(0,E.fromHex)((0,f.assertSet)(e.validators_hash)),nextValidatorsHash:(0,E.fromHex)((0,f.assertSet)(e.next_validators_hash)),consensusHash:(0,E.fromHex)((0,f.assertSet)(e.consensus_hash)),appHash:(0,E.fromHex)((0,f.assertSet)(e.app_hash)),lastResultsHash:(0,E.fromHex)((0,f.assertSet)(e.last_results_hash)),evidenceHash:(0,E.fromHex)((0,f.assertSet)(e.evidence_hash)),proposerAddress:(0,E.fromHex)((0,f.assertNotEmpty)(e.proposer_address))}}function Ng(e){return{blockId:$o(e.block_id),blockSize:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.block_size)),header:No(e.header),numTxs:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.num_txs))}}function Dg(e){return{lastHeight:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.last_height)),blockMetas:(0,f.assertArray)(e.block_metas).map(Ng)}}function xg(e){return{...pn(e),hash:(0,E.fromHex)((0,f.assertNotEmpty)(e.hash))}}function Ug(e){const t=e.tx_result?pn(e.tx_result):void 0;return{height:(0,P.apiToSmallInt)(e.height),hash:(0,E.fromHex)((0,f.assertNotEmpty)(e.hash)),checkTx:pn((0,f.assertObject)(e.check_tx)),deliverTx:t,txResult:t}}function qg(e){return(0,wc.assert)(e in Ag.BlockIdFlag),e}function Hg(e){return{blockIdFlag:qg(e.block_id_flag),validatorAddress:e.validator_address?(0,E.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Wn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,E.fromBase64)(e.signature):void 0}}function Pc(e){return{blockId:$o((0,f.assertObject)(e.block_id)),height:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),round:(0,P.apiToSmallInt)(e.round),signatures:(0,f.assertArray)(e.signatures).map(Hg)}}function Vg(e){return{canonical:(0,f.assertBoolean)(e.canonical),header:No(e.signed_header.header),commit:Pc(e.signed_header.commit)}}function Ac(e){return{address:(0,E.fromHex)((0,f.assertNotEmpty)(e.address)),pubkey:Ys((0,f.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,f.assertNotEmpty)(e.power))}}Ie.decodeValidatorGenesis=Ac;function Fg(e){return{genesisTime:(0,Wn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.genesis_time)),chainId:(0,f.assertNotEmpty)(e.chain_id),consensusParams:_c(e.consensus_params),validators:e.validators?(0,f.assertArray)(e.validators).map(Ac):[],appHash:(0,E.fromHex)((0,f.assertSet)(e.app_hash)),appState:e.app_state}}function ei(e){return{pubkey:Ys((0,f.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,f.assertNotEmpty)(e.voting_power)),address:(0,E.fromHex)((0,f.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,P.apiToSmallInt)(e.proposer_priority):void 0}}Ie.decodeValidatorInfo=ei;function Wg(e){return{id:(0,E.fromHex)((0,f.assertNotEmpty)(e.id)),listenAddr:(0,f.assertNotEmpty)(e.listen_addr),network:(0,f.assertNotEmpty)(e.network),version:(0,f.assertString)(e.version),channels:(0,f.assertString)(e.channels),moniker:(0,f.assertNotEmpty)(e.moniker),other:(0,f.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.app)),block:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.block)),p2p:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.p2p))}}}function Jg(e){const t=e.earliest_block_height?(0,P.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Wn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,E.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,E.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,E.fromHex)((0,f.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,E.fromHex)((0,f.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Wn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,f.assertBoolean)(e.catching_up)}}function Gg(e){return{nodeInfo:Wg(e.node_info),syncInfo:Jg(e.sync_info),validatorInfo:ei(e.validator_info)}}function Lg(e){return{data:(0,E.fromBase64)((0,f.assertNotEmpty)(e.data)),rootHash:(0,E.fromHex)((0,f.assertNotEmpty)(e.root_hash)),proof:{total:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.proof.total)),index:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.proof.index)),leafHash:(0,E.fromBase64)((0,f.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,f.assertArray)(e.proof.aunts).map(E.fromBase64)}}}function Tc(e){return{tx:(0,E.fromBase64)((0,f.assertNotEmpty)(e.tx)),result:pn((0,f.assertObject)(e.tx_result)),height:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),index:(0,P.apiToSmallInt)((0,f.assertNumber)(e.index)),hash:(0,E.fromHex)((0,f.assertNotEmpty)(e.hash)),proof:(0,f.may)(Lg,e.proof)}}function zg(e){return{totalCount:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.total_count)),txs:(0,f.assertArray)(e.txs).map(Tc)}}function Kg(e){const t=(0,E.fromBase64)((0,f.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Tg.hashTx)(t),result:pn(e.result),height:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.height))}}function Qg(e){return{blockHeight:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.block_height)),validators:(0,f.assertArray)(e.validators).map(ei),count:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.count)),total:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.total))}}function Ec(e){var t;return{header:No((0,f.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Pc((0,f.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,f.assertArray)(e.data.txs).map(E.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Cc(e){return{blockId:$o(e.block_id),block:Ec(e.block)}}function Zg(e){return{totalCount:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.total_count)),blocks:(0,f.assertArray)(e.blocks).map(Cc)}}function Xg(e){return{total:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.total)),totalBytes:(0,P.apiToSmallInt)((0,f.assertNotEmpty)(e.total_bytes))}}let Yg=class Mc{static decodeAbciInfo(t){return Eg((0,f.assertObject)(t.result.response))}static decodeAbciQuery(t){return Mg((0,f.assertObject)(t.result.response))}static decodeBlock(t){return Cc(t.result)}static decodeBlockResults(t){return Ig(t.result)}static decodeBlockSearch(t){return Zg(t.result)}static decodeBlockchain(t){return Dg(t.result)}static decodeBroadcastTxSync(t){return xg(t.result)}static decodeBroadcastTxAsync(t){return Mc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Ug(t.result)}static decodeCommit(t){return Vg(t.result)}static decodeGenesis(t){return Fg((0,f.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return Xg(t.result)}static decodeStatus(t){return Gg(t.result)}static decodeNewBlockEvent(t){return Ec(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return No(t.data.value.header)}static decodeTxEvent(t){return Kg(t.data.value.TxResult)}static decodeTx(t){return Tc(t.result)}static decodeTxSearch(t){return zg(t.result)}static decodeValidators(t){return Qg(t.result)}};Ie.Responses=Yg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Ro;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=Ie;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(vc);var ey=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ty=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ny=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ey(t,e,n);return ty(t,e),t};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Comet38Client=void 0;const ry=it,kr=tr,O=vc,W=ny(Io);class Ir{static async connect(t){let n;return typeof t=="object"?n=new kr.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new kr.HttpClient(t):new kr.WebsocketClient(t),await this.detectVersion(n),Ir.create(n)}static async create(t){return new Ir(t)}static async detectVersion(t){const n=(0,ry.createJsonRpcRequest)(W.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:W.Method.AbciInfo};return this.doCall(t,O.Params.encodeAbciInfo,O.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:W.Method.AbciQuery};return this.doCall(n,O.Params.encodeAbciQuery,O.Responses.decodeAbciQuery)}async block(t){const n={method:W.Method.Block,params:{height:t}};return this.doCall(n,O.Params.encodeBlock,O.Responses.decodeBlock)}async blockResults(t){const n={method:W.Method.BlockResults,params:{height:t}};return this.doCall(n,O.Params.encodeBlockResults,O.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:W.Method.BlockSearch},r=await this.doCall(n,O.Params.encodeBlockSearch,O.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:W.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,O.Params.encodeBlockchain,O.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:W.Method.BroadcastTxSync};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:W.Method.BroadcastTxAsync};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:W.Method.BroadcastTxCommit};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:W.Method.Commit,params:{height:t}};return this.doCall(n,O.Params.encodeCommit,O.Responses.decodeCommit)}async genesis(){const t={method:W.Method.Genesis};return this.doCall(t,O.Params.encodeGenesis,O.Responses.decodeGenesis)}async health(){const t={method:W.Method.Health};return this.doCall(t,O.Params.encodeHealth,O.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:W.Method.NumUnconfirmedTxs};return this.doCall(t,O.Params.encodeNumUnconfirmedTxs,O.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:W.Method.Status};return this.doCall(t,O.Params.encodeStatus,O.Responses.decodeStatus)}subscribeNewBlock(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlock}};return this.subscribe(t,O.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,O.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,O.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:W.Method.Tx};return this.doCall(n,O.Params.encodeTx,O.Responses.decodeTx)}async txSearch(t){const n={params:t,method:W.Method.TxSearch};return this.doCall(n,O.Params.encodeTxSearch,O.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:W.Method.Validators,params:t};return this.doCall(n,O.Params.encodeValidators,O.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,kr.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=O.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}Ao.Comet38Client=Ir;var Oc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Oc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=e.Comet38Client=void 0;var t=Ao;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return t.Comet38Client}});var n=Io;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return n.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return n.SubscriptionEventType}});var r=Oc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}})})(Br);var qn={},Do={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})(Do);var jc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(jc);var xo={},Bc={},Uo={},oy=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),sy=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),iy=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&oy(t,e,n);return sy(t,e),t};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Params=void 0;const ti=N,He=Ae,ne=it,ve=R,ay=iy(Do);function us(e){return{height:(0,ve.may)(He.smallIntToApi,e.height)}}function cy(e){return{minHeight:(0,ve.may)(He.smallIntToApi,e.minHeight),maxHeight:(0,ve.may)(He.smallIntToApi,e.maxHeight)}}function uy(e){return{query:e.query,page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page),order_by:e.order_by}}function dy(e){return{path:(0,ve.assertNotEmpty)(e.path),data:(0,ti.toHex)(e.data),height:(0,ve.may)(He.smallIntToApi,e.height),prove:e.prove}}function ly(e){return{tx:(0,ti.toBase64)((0,ve.assertNotEmpty)(e.tx))}}function my(e){return{hash:(0,ti.toBase64)((0,ve.assertNotEmpty)(e.hash)),prove:e.prove}}function fy(e){return{query:e.query,prove:e.prove,page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page),order_by:e.order_by}}function hy(e){return{height:(0,ve.may)(He.smallIntToApi,e.height),page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page)}}let py=class{static encodeAbciInfo(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,ne.createJsonRpcRequest)(t.method,dy(t.params))}static encodeBlock(t){return(0,ne.createJsonRpcRequest)(t.method,us(t.params))}static encodeBlockchain(t){return(0,ne.createJsonRpcRequest)(t.method,cy(t.params))}static encodeBlockResults(t){return(0,ne.createJsonRpcRequest)(t.method,us(t.params))}static encodeBlockSearch(t){return(0,ne.createJsonRpcRequest)(t.method,uy(t.params))}static encodeBroadcastTx(t){return(0,ne.createJsonRpcRequest)(t.method,ly(t.params))}static encodeCommit(t){return(0,ne.createJsonRpcRequest)(t.method,us(t.params))}static encodeGenesis(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=ay.buildQuery({tags:[n],raw:t.query.raw});return(0,ne.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,ne.createJsonRpcRequest)(t.method,my(t.params))}static encodeTxSearch(t){return(0,ne.createJsonRpcRequest)(t.method,fy(t.params))}static encodeValidators(t){return(0,ne.createJsonRpcRequest)(t.method,hy(t.params))}};Uo.Params=py;var $e={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.hashBlock=gn.hashTx=void 0;const ni=ke,le=R;function gy(e){return(0,ni.sha256)(e)}gn.hashTx=gy;function yy(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function by(e){const t=new ni.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function vy(e,t){const n=new ni.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function Ms(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return by(e[0]);default:{const t=yy(e.length),n=Ms(e.slice(0,t)),r=Ms(e.slice(t));return vy(n,r)}}}function wy(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,le.encodeVersion)(e.version),(0,le.encodeString)(e.chainId),(0,le.encodeUvarint)(e.height),(0,le.encodeTime)(e.time),(0,le.encodeBlockId)(e.lastBlockId),(0,le.encodeBytes)(e.lastCommitHash),(0,le.encodeBytes)(e.dataHash),(0,le.encodeBytes)(e.validatorsHash),(0,le.encodeBytes)(e.nextValidatorsHash),(0,le.encodeBytes)(e.consensusHash),(0,le.encodeBytes)(e.appHash),(0,le.encodeBytes)(e.lastResultsHash),(0,le.encodeBytes)(e.evidenceHash),(0,le.encodeBytes)(e.proposerAddress)];return Ms(t)}gn.hashBlock=wy;Object.defineProperty($e,"__esModule",{value:!0});$e.Responses=$e.decodeValidatorInfo=$e.decodeValidatorGenesis=$e.decodeValidatorUpdate=$e.decodeEvent=void 0;const S=N,Rc=Z,Jn=ie,A=Ae,ky=sr,l=R,_y=gn;function Sy(e){return{data:e.data,lastBlockHeight:(0,l.may)(A.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,l.may)(S.fromBase64,e.last_block_app_hash)}}function Py(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,S.fromBase64)(t.key),data:(0,S.fromBase64)(t.data)}))}}function Ay(e){return{key:(0,S.fromBase64)((0,l.assertString)(e.key??"")),value:(0,S.fromBase64)((0,l.assertString)(e.value??"")),proof:(0,l.may)(Py,e.proofOps),height:(0,l.may)(A.apiToSmallInt,e.height),code:(0,l.may)(A.apiToSmallInt,e.code),codespace:(0,l.assertString)(e.codespace??""),index:(0,l.may)(A.apiToSmallInt,e.index),log:e.log,info:(0,l.assertString)(e.info??"")}}function Ty(e){return{key:(0,S.fromBase64)((0,l.assertNotEmpty)(e.key)),value:(0,S.fromBase64)((0,l.assertString)(e.value??""))}}function Ey(e){return(0,l.assertArray)(e).map(Ty)}function Ic(e){return{type:e.type,attributes:e.attributes?Ey(e.attributes):[]}}$e.decodeEvent=Ic;function Os(e){return(0,l.assertArray)(e).map(Ic)}function yn(e){return{code:(0,A.apiToSmallInt)((0,l.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,l.may)(S.fromBase64,e.data),events:e.events?Os(e.events):[],gasWanted:(0,A.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,A.apiToBigInt)(e.gas_used??"0")}}function ri(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,Rc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,S.fromBase64)((0,l.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Cy(e){return{maxBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_bytes)),maxGas:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_gas))}}function My(e){return{maxAgeNumBlocks:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_duration))}}function $c(e){return{block:Cy((0,l.assertObject)(e.block)),evidence:My((0,l.assertObject)(e.evidence))}}function Nc(e){return{pubkey:ri((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)(e.power??"0")}}$e.decodeValidatorUpdate=Nc;function Oy(e){return{height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(yn),validatorUpdates:(e.validator_updates||[]).map(Nc),consensusUpdates:(0,l.may)($c,e.consensus_param_updates),beginBlockEvents:Os(e.begin_block_events||[]),endBlockEvents:Os(e.end_block_events||[])}}function qo(e){return{hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),parts:{total:(0,l.assertNotEmpty)(e.parts.total),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.parts.hash))}}}function jy(e){return{block:(0,A.apiToSmallInt)(e.block),app:(0,A.apiToSmallInt)(e.app??0)}}function Ho(e){return{version:jy(e.version),chainId:(0,l.assertNotEmpty)(e.chain_id),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),time:(0,Jn.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?qo(e.last_block_id):null,lastCommitHash:(0,S.fromHex)((0,l.assertSet)(e.last_commit_hash)),dataHash:(0,S.fromHex)((0,l.assertSet)(e.data_hash)),validatorsHash:(0,S.fromHex)((0,l.assertSet)(e.validators_hash)),nextValidatorsHash:(0,S.fromHex)((0,l.assertSet)(e.next_validators_hash)),consensusHash:(0,S.fromHex)((0,l.assertSet)(e.consensus_hash)),appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),lastResultsHash:(0,S.fromHex)((0,l.assertSet)(e.last_results_hash)),evidenceHash:(0,S.fromHex)((0,l.assertSet)(e.evidence_hash)),proposerAddress:(0,S.fromHex)((0,l.assertNotEmpty)(e.proposer_address))}}function By(e){return{blockId:qo(e.block_id),blockSize:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_size)),header:Ho(e.header),numTxs:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.num_txs))}}function Ry(e){return{lastHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.last_height)),blockMetas:(0,l.assertArray)(e.block_metas).map(By)}}function Iy(e){return{...yn(e),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash))}}function $y(e){return{height:(0,A.apiToSmallInt)(e.height),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),checkTx:yn((0,l.assertObject)(e.check_tx)),deliverTx:(0,l.may)(yn,e.deliver_tx)}}function Ny(e){return(0,Rc.assert)(e in ky.BlockIdFlag),e}function Dy(e){return{blockIdFlag:Ny(e.block_id_flag),validatorAddress:e.validator_address?(0,S.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Jn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,S.fromBase64)(e.signature):void 0}}function Dc(e){return{blockId:qo((0,l.assertObject)(e.block_id)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),round:(0,A.apiToSmallInt)(e.round),signatures:(0,l.assertArray)(e.signatures).map(Dy)}}function xy(e){return{canonical:(0,l.assertBoolean)(e.canonical),header:Ho(e.signed_header.header),commit:Dc(e.signed_header.commit)}}function xc(e){return{address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),pubkey:ri((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.power))}}$e.decodeValidatorGenesis=xc;function Uy(e){return{genesisTime:(0,Jn.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.genesis_time)),chainId:(0,l.assertNotEmpty)(e.chain_id),consensusParams:$c(e.consensus_params),validators:e.validators?(0,l.assertArray)(e.validators).map(xc):[],appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),appState:e.app_state}}function oi(e){return{pubkey:ri((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.voting_power)),address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,A.apiToSmallInt)(e.proposer_priority):void 0}}$e.decodeValidatorInfo=oi;function qy(e){return{id:(0,S.fromHex)((0,l.assertNotEmpty)(e.id)),listenAddr:(0,l.assertNotEmpty)(e.listen_addr),network:(0,l.assertNotEmpty)(e.network),version:(0,l.assertString)(e.version),channels:(0,l.assertNotEmpty)(e.channels),moniker:(0,l.assertNotEmpty)(e.moniker),other:(0,l.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.app)),block:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.block)),p2p:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.p2p))}}}function Hy(e){const t=e.earliest_block_height?(0,A.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Jn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,S.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,S.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Jn.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,l.assertBoolean)(e.catching_up)}}function Vy(e){return{nodeInfo:qy(e.node_info),syncInfo:Hy(e.sync_info),validatorInfo:oi(e.validator_info)}}function Fy(e){return{data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.data)),rootHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.root_hash)),proof:{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.total)),index:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.index)),leafHash:(0,S.fromBase64)((0,l.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,l.assertArray)(e.proof.aunts).map(S.fromBase64)}}}function Uc(e){return{tx:(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx)),result:yn((0,l.assertObject)(e.tx_result)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),index:(0,A.apiToSmallInt)((0,l.assertNumber)(e.index)),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),proof:(0,l.may)(Fy,e.proof)}}function Wy(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),txs:(0,l.assertArray)(e.txs).map(Uc)}}function Jy(e){const t=(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx));return{tx:t,hash:(0,_y.hashTx)(t),result:yn(e.result),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height))}}function Gy(e){return{blockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_height)),validators:(0,l.assertArray)(e.validators).map(oi),count:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.count)),total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total))}}function qc(e){var t;return{header:Ho((0,l.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Dc((0,l.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,l.assertArray)(e.data.txs).map(S.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Hc(e){return{blockId:qo(e.block_id),block:qc(e.block)}}function Ly(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),blocks:(0,l.assertArray)(e.blocks).map(Hc)}}function zy(e){return{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total)),totalBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_bytes))}}let Ky=class Vc{static decodeAbciInfo(t){return Sy((0,l.assertObject)(t.result.response))}static decodeAbciQuery(t){return Ay((0,l.assertObject)(t.result.response))}static decodeBlock(t){return Hc(t.result)}static decodeBlockResults(t){return Oy(t.result)}static decodeBlockSearch(t){return Ly(t.result)}static decodeBlockchain(t){return Ry(t.result)}static decodeBroadcastTxSync(t){return Iy(t.result)}static decodeBroadcastTxAsync(t){return Vc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return $y(t.result)}static decodeCommit(t){return xy(t.result)}static decodeGenesis(t){return Uy((0,l.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return zy(t.result)}static decodeStatus(t){return Vy(t.result)}static decodeNewBlockEvent(t){return qc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Ho(t.data.value.header)}static decodeTxEvent(t){return Jy(t.data.value.TxResult)}static decodeTx(t){return Uc(t.result)}static decodeTxSearch(t){return Wy(t.result)}static decodeValidators(t){return Gy(t.result)}};$e.Responses=Ky;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Uo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=$e;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(Bc);var Qy=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Zy=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xy=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Qy(t,e,n);return Zy(t,e),t};Object.defineProperty(xo,"__esModule",{value:!0});xo.Tendermint34Client=void 0;const Yy=it,_r=tr,j=Bc,J=Xy(Do);class $r{static async connect(t){let n;return typeof t=="object"?n=new _r.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new _r.HttpClient(t):new _r.WebsocketClient(t),await this.detectVersion(n),$r.create(n)}static async create(t){return new $r(t)}static async detectVersion(t){const n=(0,Yy.createJsonRpcRequest)(J.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:J.Method.AbciInfo};return this.doCall(t,j.Params.encodeAbciInfo,j.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:J.Method.AbciQuery};return this.doCall(n,j.Params.encodeAbciQuery,j.Responses.decodeAbciQuery)}async block(t){const n={method:J.Method.Block,params:{height:t}};return this.doCall(n,j.Params.encodeBlock,j.Responses.decodeBlock)}async blockResults(t){const n={method:J.Method.BlockResults,params:{height:t}};return this.doCall(n,j.Params.encodeBlockResults,j.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:J.Method.BlockSearch},r=await this.doCall(n,j.Params.encodeBlockSearch,j.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:J.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,j.Params.encodeBlockchain,j.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:J.Method.BroadcastTxSync};return this.doCall(n,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:J.Method.BroadcastTxAsync};return this.doCall(n,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:J.Method.BroadcastTxCommit};return this.doCall(n,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:J.Method.Commit,params:{height:t}};return this.doCall(n,j.Params.encodeCommit,j.Responses.decodeCommit)}async genesis(){const t={method:J.Method.Genesis};return this.doCall(t,j.Params.encodeGenesis,j.Responses.decodeGenesis)}async health(){const t={method:J.Method.Health};return this.doCall(t,j.Params.encodeHealth,j.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:J.Method.NumUnconfirmedTxs};return this.doCall(t,j.Params.encodeNumUnconfirmedTxs,j.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:J.Method.Status};return this.doCall(t,j.Params.encodeStatus,j.Responses.decodeStatus)}subscribeNewBlock(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlock}};return this.subscribe(t,j.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,j.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,j.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:J.Method.Tx};return this.doCall(n,j.Params.encodeTx,j.Responses.decodeTx)}async txSearch(t){const n={params:t,method:J.Method.TxSearch};return this.doCall(n,j.Params.encodeTxSearch,j.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:J.Method.Validators,params:t};return this.doCall(n,j.Params.encodeValidators,j.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,_r.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=j.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}xo.Tendermint34Client=$r;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint34Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=Do;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var n=jc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}});var r=xo;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return r.Tendermint34Client}})})(qn);var Nr={},Vo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})(Vo);var Fc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Fc);var Fo={},Wc={},Wo={},$={};Object.defineProperty($,"__esModule",{value:!0});$.encodeBlockId=$.encodeVersion=$.encodeBytes=$.encodeTime=$.encodeUvarint=$.encodeString=$.dictionaryToStringMap=$.may=$.assertNotEmpty=$.assertObject=$.assertArray=$.assertNumber=$.assertString=$.assertBoolean=$.assertSet=void 0;const eb=N;function $t(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}$.assertSet=$t;function tb(e){if($t(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}$.assertBoolean=tb;function nb(e){if($t(e),typeof e!="string")throw new Error("Value must be a string");return e}$.assertString=nb;function rb(e){if($t(e),typeof e!="number")throw new Error("Value must be a number");return e}$.assertNumber=rb;function ob(e){if($t(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}$.assertArray=ob;function sb(e){if($t(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}$.assertObject=sb;function ib(e){if($t(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}$.assertNotEmpty=ib;function ab(e,t){return t==null?void 0:e(t)}$.may=ab;function cb(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}$.dictionaryToStringMap=cb;function ub(e){const t=(0,eb.toUtf8)(e);return Uint8Array.from([t.length,...t])}$.encodeString=ub;function bn(e){return e>=128?Uint8Array.from([e&255|128,...bn(e>>7)]):Uint8Array.from([e&255])}$.encodeUvarint=bn;function db(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...bn(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...bn(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}$.encodeTime=db;function lb(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}$.encodeBytes=lb;function mb(e){const t=e.block?Uint8Array.from([8,...bn(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...bn(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}$.encodeVersion=mb;function fb(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}$.encodeBlockId=fb;var hb=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),pb=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gb=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hb(t,e,n);return pb(t,e),t};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Params=void 0;const si=N,Ve=Ae,re=it,we=$,yb=gb(Vo);function ds(e){return{height:(0,we.may)(Ve.smallIntToApi,e.height)}}function bb(e){return{minHeight:(0,we.may)(Ve.smallIntToApi,e.minHeight),maxHeight:(0,we.may)(Ve.smallIntToApi,e.maxHeight)}}function vb(e){return{query:e.query,page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function wb(e){return{path:(0,we.assertNotEmpty)(e.path),data:(0,si.toHex)(e.data),height:(0,we.may)(Ve.smallIntToApi,e.height),prove:e.prove}}function kb(e){return{tx:(0,si.toBase64)((0,we.assertNotEmpty)(e.tx))}}function _b(e){return{hash:(0,si.toBase64)((0,we.assertNotEmpty)(e.hash)),prove:e.prove}}function Sb(e){return{query:e.query,prove:e.prove,page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function Pb(e){return{height:(0,we.may)(Ve.smallIntToApi,e.height),page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page)}}class Ab{static encodeAbciInfo(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,re.createJsonRpcRequest)(t.method,wb(t.params))}static encodeBlock(t){return(0,re.createJsonRpcRequest)(t.method,ds(t.params))}static encodeBlockchain(t){return(0,re.createJsonRpcRequest)(t.method,bb(t.params))}static encodeBlockResults(t){return(0,re.createJsonRpcRequest)(t.method,ds(t.params))}static encodeBlockSearch(t){return(0,re.createJsonRpcRequest)(t.method,vb(t.params))}static encodeBroadcastTx(t){return(0,re.createJsonRpcRequest)(t.method,kb(t.params))}static encodeCommit(t){return(0,re.createJsonRpcRequest)(t.method,ds(t.params))}static encodeGenesis(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=yb.buildQuery({tags:[n],raw:t.query.raw});return(0,re.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,re.createJsonRpcRequest)(t.method,_b(t.params))}static encodeTxSearch(t){return(0,re.createJsonRpcRequest)(t.method,Sb(t.params))}static encodeValidators(t){return(0,re.createJsonRpcRequest)(t.method,Pb(t.params))}}Wo.Params=Ab;var Ne={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.hashBlock=vn.hashTx=void 0;const ii=ke,me=$;function Tb(e){return(0,ii.sha256)(e)}vn.hashTx=Tb;function Eb(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function Cb(e){const t=new ii.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function Mb(e,t){const n=new ii.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function js(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return Cb(e[0]);default:{const t=Eb(e.length),n=js(e.slice(0,t)),r=js(e.slice(t));return Mb(n,r)}}}function Ob(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,me.encodeVersion)(e.version),(0,me.encodeString)(e.chainId),(0,me.encodeUvarint)(e.height),(0,me.encodeTime)(e.time),(0,me.encodeBlockId)(e.lastBlockId),(0,me.encodeBytes)(e.lastCommitHash),(0,me.encodeBytes)(e.dataHash),(0,me.encodeBytes)(e.validatorsHash),(0,me.encodeBytes)(e.nextValidatorsHash),(0,me.encodeBytes)(e.consensusHash),(0,me.encodeBytes)(e.appHash),(0,me.encodeBytes)(e.lastResultsHash),(0,me.encodeBytes)(e.evidenceHash),(0,me.encodeBytes)(e.proposerAddress)];return js(t)}vn.hashBlock=Ob;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Responses=Ne.decodeValidatorInfo=Ne.decodeValidatorGenesis=Ne.decodeValidatorUpdate=Ne.decodeEvent=void 0;const C=N,Jc=Z,Gn=ie,T=Ae,jb=sr,m=$,Bb=vn;function Rb(e){return{data:e.data,lastBlockHeight:(0,m.may)(T.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,m.may)(C.fromBase64,e.last_block_app_hash)}}function Ib(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,C.fromBase64)(t.key),data:(0,C.fromBase64)(t.data)}))}}function $b(e){return{key:(0,C.fromBase64)((0,m.assertString)(e.key??"")),value:(0,C.fromBase64)((0,m.assertString)(e.value??"")),proof:(0,m.may)(Ib,e.proofOps),height:(0,m.may)(T.apiToSmallInt,e.height),code:(0,m.may)(T.apiToSmallInt,e.code),codespace:(0,m.assertString)(e.codespace??""),index:(0,m.may)(T.apiToSmallInt,e.index),log:e.log,info:(0,m.assertString)(e.info??"")}}function Nb(e){return{key:(0,m.assertNotEmpty)(e.key),value:e.value??""}}function Db(e){return(0,m.assertArray)(e).map(Nb)}function Gc(e){return{type:e.type,attributes:e.attributes?Db(e.attributes):[]}}Ne.decodeEvent=Gc;function Bs(e){return(0,m.assertArray)(e).map(Gc)}function wn(e){return{code:(0,T.apiToSmallInt)((0,m.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,m.may)(C.fromBase64,e.data),events:e.events?Bs(e.events):[],gasWanted:(0,T.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,T.apiToBigInt)(e.gas_used??"0")}}function ai(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,Jc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,C.fromBase64)((0,m.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,C.fromBase64)((0,m.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,C.fromBase64)((0,m.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function xb(e){return{maxBytes:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.max_bytes)),maxGas:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.max_gas))}}function Ub(e){return{maxAgeNumBlocks:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_duration))}}function Lc(e){return{block:xb((0,m.assertObject)(e.block)),evidence:Ub((0,m.assertObject)(e.evidence))}}function zc(e){return{pubkey:ai((0,m.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)(e.power??"0")}}Ne.decodeValidatorUpdate=zc;function qb(e){return{height:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(wn),validatorUpdates:(e.validator_updates||[]).map(zc),consensusUpdates:(0,m.may)(Lc,e.consensus_param_updates),beginBlockEvents:Bs(e.begin_block_events||[]),endBlockEvents:Bs(e.end_block_events||[])}}function Jo(e){return{hash:(0,C.fromHex)((0,m.assertNotEmpty)(e.hash)),parts:{total:(0,m.assertNotEmpty)(e.parts.total),hash:(0,C.fromHex)((0,m.assertNotEmpty)(e.parts.hash))}}}function Hb(e){return{block:(0,T.apiToSmallInt)(e.block),app:(0,T.apiToSmallInt)(e.app??0)}}function Go(e){return{version:Hb(e.version),chainId:(0,m.assertNotEmpty)(e.chain_id),height:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),time:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Jo(e.last_block_id):null,lastCommitHash:(0,C.fromHex)((0,m.assertSet)(e.last_commit_hash)),dataHash:(0,C.fromHex)((0,m.assertSet)(e.data_hash)),validatorsHash:(0,C.fromHex)((0,m.assertSet)(e.validators_hash)),nextValidatorsHash:(0,C.fromHex)((0,m.assertSet)(e.next_validators_hash)),consensusHash:(0,C.fromHex)((0,m.assertSet)(e.consensus_hash)),appHash:(0,C.fromHex)((0,m.assertSet)(e.app_hash)),lastResultsHash:(0,C.fromHex)((0,m.assertSet)(e.last_results_hash)),evidenceHash:(0,C.fromHex)((0,m.assertSet)(e.evidence_hash)),proposerAddress:(0,C.fromHex)((0,m.assertNotEmpty)(e.proposer_address))}}function Vb(e){return{blockId:Jo(e.block_id),blockSize:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.block_size)),header:Go(e.header),numTxs:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.num_txs))}}function Fb(e){return{lastHeight:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.last_height)),blockMetas:(0,m.assertArray)(e.block_metas).map(Vb)}}function Wb(e){return{...wn(e),hash:(0,C.fromHex)((0,m.assertNotEmpty)(e.hash))}}function Jb(e){return{height:(0,T.apiToSmallInt)(e.height),hash:(0,C.fromHex)((0,m.assertNotEmpty)(e.hash)),checkTx:wn((0,m.assertObject)(e.check_tx)),deliverTx:(0,m.may)(wn,e.deliver_tx)}}function Gb(e){return(0,Jc.assert)(e in jb.BlockIdFlag),e}function Lb(e){return{blockIdFlag:Gb(e.block_id_flag),validatorAddress:e.validator_address?(0,C.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Gn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,C.fromBase64)(e.signature):void 0}}function Kc(e){return{blockId:Jo((0,m.assertObject)(e.block_id)),height:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),round:(0,T.apiToSmallInt)(e.round),signatures:(0,m.assertArray)(e.signatures).map(Lb)}}function zb(e){return{canonical:(0,m.assertBoolean)(e.canonical),header:Go(e.signed_header.header),commit:Kc(e.signed_header.commit)}}function Qc(e){return{address:(0,C.fromHex)((0,m.assertNotEmpty)(e.address)),pubkey:ai((0,m.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,m.assertNotEmpty)(e.power))}}Ne.decodeValidatorGenesis=Qc;function Kb(e){return{genesisTime:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.genesis_time)),chainId:(0,m.assertNotEmpty)(e.chain_id),consensusParams:Lc(e.consensus_params),validators:e.validators?(0,m.assertArray)(e.validators).map(Qc):[],appHash:(0,C.fromHex)((0,m.assertSet)(e.app_hash)),appState:e.app_state}}function ci(e){return{pubkey:ai((0,m.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,m.assertNotEmpty)(e.voting_power)),address:(0,C.fromHex)((0,m.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,T.apiToSmallInt)(e.proposer_priority):void 0}}Ne.decodeValidatorInfo=ci;function Qb(e){return{id:(0,C.fromHex)((0,m.assertNotEmpty)(e.id)),listenAddr:(0,m.assertNotEmpty)(e.listen_addr),network:(0,m.assertNotEmpty)(e.network),version:(0,m.assertString)(e.version),channels:(0,m.assertString)(e.channels),moniker:(0,m.assertNotEmpty)(e.moniker),other:(0,m.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.app)),block:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.block)),p2p:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.p2p))}}}function Zb(e){const t=e.earliest_block_height?(0,T.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Gn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,C.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,C.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,C.fromHex)((0,m.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,C.fromHex)((0,m.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,m.assertBoolean)(e.catching_up)}}function Xb(e){return{nodeInfo:Qb(e.node_info),syncInfo:Zb(e.sync_info),validatorInfo:ci(e.validator_info)}}function Yb(e){return{data:(0,C.fromBase64)((0,m.assertNotEmpty)(e.data)),rootHash:(0,C.fromHex)((0,m.assertNotEmpty)(e.root_hash)),proof:{total:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.total)),index:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.index)),leafHash:(0,C.fromBase64)((0,m.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,m.assertArray)(e.proof.aunts).map(C.fromBase64)}}}function Zc(e){return{tx:(0,C.fromBase64)((0,m.assertNotEmpty)(e.tx)),result:wn((0,m.assertObject)(e.tx_result)),height:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),index:(0,T.apiToSmallInt)((0,m.assertNumber)(e.index)),hash:(0,C.fromHex)((0,m.assertNotEmpty)(e.hash)),proof:(0,m.may)(Yb,e.proof)}}function ev(e){return{totalCount:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),txs:(0,m.assertArray)(e.txs).map(Zc)}}function tv(e){const t=(0,C.fromBase64)((0,m.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Bb.hashTx)(t),result:wn(e.result),height:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.height))}}function nv(e){return{blockHeight:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.block_height)),validators:(0,m.assertArray)(e.validators).map(ci),count:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.count)),total:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.total))}}function Xc(e){var t;return{header:Go((0,m.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Kc((0,m.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,m.assertArray)(e.data.txs).map(C.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Yc(e){return{blockId:Jo(e.block_id),block:Xc(e.block)}}function rv(e){return{totalCount:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),blocks:(0,m.assertArray)(e.blocks).map(Yc)}}function ov(e){return{total:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.total)),totalBytes:(0,T.apiToSmallInt)((0,m.assertNotEmpty)(e.total_bytes))}}class ui{static decodeAbciInfo(t){return Rb((0,m.assertObject)(t.result.response))}static decodeAbciQuery(t){return $b((0,m.assertObject)(t.result.response))}static decodeBlock(t){return Yc(t.result)}static decodeBlockResults(t){return qb(t.result)}static decodeBlockSearch(t){return rv(t.result)}static decodeBlockchain(t){return Fb(t.result)}static decodeBroadcastTxSync(t){return Wb(t.result)}static decodeBroadcastTxAsync(t){return ui.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Jb(t.result)}static decodeCommit(t){return zb(t.result)}static decodeGenesis(t){return Kb((0,m.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return ov(t.result)}static decodeStatus(t){return Xb(t.result)}static decodeNewBlockEvent(t){return Xc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Go(t.data.value.header)}static decodeTxEvent(t){return tv(t.data.value.TxResult)}static decodeTx(t){return Zc(t.result)}static decodeTxSearch(t){return ev(t.result)}static decodeValidators(t){return nv(t.result)}}Ne.Responses=ui;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Wo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=Ne;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(Wc);var sv=h&&h.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),iv=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),av=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&sv(t,e,n);return iv(t,e),t};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Tendermint37Client=void 0;const cv=it,Sr=tr,B=Wc,G=av(Vo);class Dr{static async connect(t){let n;return typeof t=="object"?n=new Sr.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new Sr.HttpClient(t):new Sr.WebsocketClient(t),await this.detectVersion(n),Dr.create(n)}static async create(t){return new Dr(t)}static async detectVersion(t){const n=(0,cv.createJsonRpcRequest)(G.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:G.Method.AbciInfo};return this.doCall(t,B.Params.encodeAbciInfo,B.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:G.Method.AbciQuery};return this.doCall(n,B.Params.encodeAbciQuery,B.Responses.decodeAbciQuery)}async block(t){const n={method:G.Method.Block,params:{height:t}};return this.doCall(n,B.Params.encodeBlock,B.Responses.decodeBlock)}async blockResults(t){const n={method:G.Method.BlockResults,params:{height:t}};return this.doCall(n,B.Params.encodeBlockResults,B.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:G.Method.BlockSearch},r=await this.doCall(n,B.Params.encodeBlockSearch,B.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:G.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,B.Params.encodeBlockchain,B.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:G.Method.BroadcastTxSync};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:G.Method.BroadcastTxAsync};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:G.Method.BroadcastTxCommit};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:G.Method.Commit,params:{height:t}};return this.doCall(n,B.Params.encodeCommit,B.Responses.decodeCommit)}async genesis(){const t={method:G.Method.Genesis};return this.doCall(t,B.Params.encodeGenesis,B.Responses.decodeGenesis)}async health(){const t={method:G.Method.Health};return this.doCall(t,B.Params.encodeHealth,B.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:G.Method.NumUnconfirmedTxs};return this.doCall(t,B.Params.encodeNumUnconfirmedTxs,B.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:G.Method.Status};return this.doCall(t,B.Params.encodeStatus,B.Responses.decodeStatus)}subscribeNewBlock(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlock}};return this.subscribe(t,B.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,B.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,B.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:G.Method.Tx};return this.doCall(n,B.Params.encodeTx,B.Responses.decodeTx)}async txSearch(t){const n={params:t,method:G.Method.TxSearch};return this.doCall(n,B.Params.encodeTxSearch,B.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:G.Method.Validators,params:t};return this.doCall(n,B.Params.encodeValidators,B.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,Sr.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=B.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}Fo.Tendermint37Client=Dr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint37Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=Vo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var n=Fc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}});var r=Fo;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return r.Tendermint37Client}})})(Nr);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.connectComet=Ze.isComet38Client=Ze.isTendermint37Client=Ze.isTendermint34Client=void 0;const eu=Br,tu=qn,nu=Nr;function uv(e){return e instanceof tu.Tendermint34Client}Ze.isTendermint34Client=uv;function dv(e){return e instanceof nu.Tendermint37Client}Ze.isTendermint37Client=dv;function lv(e){return e instanceof eu.Comet38Client}Ze.isComet38Client=lv;async function mv(e){let t;const n=await nu.Tendermint37Client.connect(e),r=(await n.status()).nodeInfo.version;return r.startsWith("0.37.")?t=n:r.startsWith("0.38.")?(n.disconnect(),t=await eu.Comet38Client.connect(e)):(n.disconnect(),t=await tu.Tendermint34Client.connect(e)),t}Ze.connectComet=mv;(function(e){var t=h&&h.__createBinding||(Object.create?function(k,V,y,p){p===void 0&&(p=y);var v=Object.getOwnPropertyDescriptor(V,y);(!v||("get"in v?!V.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return V[y]}}),Object.defineProperty(k,p,v)}:function(k,V,y,p){p===void 0&&(p=y),k[p]=V[y]}),n=h&&h.__setModuleDefault||(Object.create?function(k,V){Object.defineProperty(k,"default",{enumerable:!0,value:V})}:function(k,V){k.default=V}),r=h&&h.__importStar||function(k){if(k&&k.__esModule)return k;var V={};if(k!=null)for(var y in k)y!=="default"&&Object.prototype.hasOwnProperty.call(k,y)&&t(V,k,y);return n(V,k),V};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=e.isTendermint37Client=e.isTendermint34Client=e.isComet38Client=e.connectComet=e.Tendermint37Client=e.tendermint37=e.Tendermint34Client=e.tendermint34=e.VoteType=e.SubscriptionEventType=e.Method=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.WebsocketClient=e.HttpClient=e.HttpBatchClient=e.Comet38Client=e.comet38=e.toSeconds=e.toRfc3339WithNanoseconds=e.fromSeconds=e.fromRfc3339WithNanoseconds=e.DateTime=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var o=Qe;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return o.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return o.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawSecp256k1PubkeyToRawAddress}});var s=ie;Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"fromRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.fromRfc3339WithNanoseconds}}),Object.defineProperty(e,"fromSeconds",{enumerable:!0,get:function(){return s.fromSeconds}}),Object.defineProperty(e,"toRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.toRfc3339WithNanoseconds}}),Object.defineProperty(e,"toSeconds",{enumerable:!0,get:function(){return s.toSeconds}}),e.comet38=r(Br);var i=Br;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return i.Comet38Client}});var c=tr;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return c.HttpBatchClient}}),Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return c.HttpClient}}),Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return c.WebsocketClient}});var a=qn;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return a.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return a.broadcastTxSyncSuccess}}),Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return a.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return a.SubscriptionEventType}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return a.VoteType}}),e.tendermint34=r(qn);var u=qn;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return u.Tendermint34Client}}),e.tendermint37=r(Nr);var d=Nr;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return d.Tendermint37Client}});var g=Ze;Object.defineProperty(e,"connectComet",{enumerable:!0,get:function(){return g.connectComet}}),Object.defineProperty(e,"isComet38Client",{enumerable:!0,get:function(){return g.isComet38Client}}),Object.defineProperty(e,"isTendermint34Client",{enumerable:!0,get:function(){return g.isTendermint34Client}}),Object.defineProperty(e,"isTendermint37Client",{enumerable:!0,get:function(){return g.isTendermint37Client}});var M=sr;Object.defineProperty(e,"BlockIdFlag",{enumerable:!0,get:function(){return M.BlockIdFlag}})})(Ls);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.StargateClient=Y.BroadcastTxError=Y.assertIsDeliverTxFailure=Y.assertIsDeliverTxSuccess=Y.isDeliverTxSuccess=Y.isDeliverTxFailure=Y.TimeoutError=void 0;const fv=st,ls=N,ra=ee,oa=Ls,sa=Z,hv=cd,pv=Ln,gv=Xn,Pr=Fn,yv=ae,bv=er;class ru extends Error{constructor(t,n){super(t),this.txId=n}}Y.TimeoutError=ru;function di(e){return!!e.code}Y.isDeliverTxFailure=di;function ou(e){return!di(e)}Y.isDeliverTxSuccess=ou;function vv(e){if(di(e))throw new Error(`Error when broadcasting tx ${e.transactionHash} at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxSuccess=vv;function wv(e){if(ou(e))throw new Error(`Transaction ${e.transactionHash} did not fail at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxFailure=wv;class su extends Error{constructor(t,n,r){super(`Broadcasting transaction failed with code ${t} (codespace: ${n}). Log: ${r}`),this.code=t,this.codespace=n,this.log=r}}Y.BroadcastTxError=su;class xr{static async connect(t,n={}){const r=await(0,oa.connectComet)(t);return xr.create(r,n)}static async create(t,n={}){return new xr(t,n)}constructor(t,n){t&&(this.cometClient=t,this.queryClient=yv.QueryClient.withExtensions(t,Pr.setupAuthExtension,Pr.setupBankExtension,Pr.setupStakingExtension,Pr.setupTxExtension));const{accountParser:r=pv.accountFromAny}=n;this.accountParser=r}getCometClient(){return this.cometClient}forceGetCometClient(){if(!this.cometClient)throw new Error("Comet client not available. You cannot use online functionality in offline mode.");return this.cometClient}getQueryClient(){return this.queryClient}forceGetQueryClient(){if(!this.queryClient)throw new Error("Query client not available. You cannot use online functionality in offline mode.");return this.queryClient}async getChainId(){if(!this.chainId){const n=(await this.forceGetCometClient().status()).nodeInfo.network;if(!n)throw new Error("Chain ID must not be empty");this.chainId=n}return this.chainId}async getHeight(){return(await this.forceGetCometClient().status()).syncInfo.latestBlockHeight}async getAccount(t){try{const n=await this.forceGetQueryClient().auth.account(t);return n?this.accountParser(n):null}catch(n){if(/rpc error: code = NotFound/i.test(n.toString()))return null;throw n}}async getSequence(t){const n=await this.getAccount(t);if(!n)throw new Error(`Account '${t}' does not exist on chain. Send some tokens there before trying to query sequence.`);return{accountNumber:n.accountNumber,sequence:n.sequence}}async getBlock(t){const n=await this.forceGetCometClient().block(t);return{id:(0,ls.toHex)(n.blockId.hash).toUpperCase(),header:{version:{block:new ra.Uint53(n.block.header.version.block).toString(),app:new ra.Uint53(n.block.header.version.app).toString()},height:n.block.header.height,chainId:n.block.header.chainId,time:(0,oa.toRfc3339WithNanoseconds)(n.block.header.time)},txs:n.block.txs}}async getBalance(t,n){return this.forceGetQueryClient().bank.balance(t,n)}async getAllBalances(t){return this.forceGetQueryClient().bank.allBalances(t)}async getBalanceStaked(t){const n=[];let r;do{const{delegationResponses:s,pagination:i}=await this.forceGetQueryClient().staking.delegatorDelegations(t,r),c=s||[];n.push(...c),r=i==null?void 0:i.nextKey}while(r!==void 0&&r.length!==0);return n.reduce((s,i)=>((0,sa.assert)(i.balance),s!==null?(0,fv.addCoins)(s,i.balance):i.balance),null)}async getDelegation(t,n){var o;let r;try{r=(o=(await this.forceGetQueryClient().staking.delegation(t,n)).delegationResponse)==null?void 0:o.balance}catch(s){if(!s.toString().includes("key not found"))throw s}return r||null}async getTx(t){return(await this.txsQuery(`tx.hash='${t}'`))[0]??null}async searchTx(t){let n;if(typeof t=="string")n=t;else if((0,bv.isSearchTxQueryArray)(t))n=t.map(r=>typeof r.value=="string"?`${r.key}='${r.value}'`:`${r.key}=${r.value}`).join(" AND ");else throw new Error("Got unsupported query type. See CosmJS 0.31 CHANGELOG for API breaking changes here.");return this.txsQuery(n)}disconnect(){this.cometClient&&this.cometClient.disconnect()}async broadcastTx(t,n=6e4,r=3e3){let o=!1;const s=setTimeout(()=>{o=!0},n),i=async a=>{if(o)throw new ru(`Transaction with ID ${a} was submitted but was not yet found on the chain. You might want to check later. There was a wait of ${n/1e3} seconds.`,a);await(0,sa.sleep)(r);const u=await this.getTx(a);return u?{code:u.code,height:u.height,txIndex:u.txIndex,events:u.events,rawLog:u.rawLog,transactionHash:a,msgResponses:u.msgResponses,gasUsed:u.gasUsed,gasWanted:u.gasWanted}:i(a)},c=await this.broadcastTxSync(t);return new Promise((a,u)=>i(c).then(d=>{clearTimeout(s),a(d)},d=>{clearTimeout(s),u(d)}))}async broadcastTxSync(t){const n=await this.forceGetCometClient().broadcastTxSync({tx:t});return n.code?Promise.reject(new su(n.code,n.codespace??"",n.log)):(0,ls.toHex)(n.hash).toUpperCase()}async txsQuery(t){return(await this.forceGetCometClient().txSearchAll({query:t})).txs.map(r=>{const o=hv.TxMsgData.decode(r.result.data??new Uint8Array);return{height:r.height,txIndex:r.index,hash:(0,ls.toHex)(r.hash).toUpperCase(),code:r.result.code,events:r.result.events.map(gv.fromTendermintEvent),rawLog:r.result.log||"",tx:r.tx,msgResponses:o.msgResponses,gasUsed:r.result.gasUsed,gasWanted:r.result.gasWanted}})}}Y.StargateClient=xr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SigningStargateClient=e.createDefaultAminoConverters=e.defaultRegistryTypes=void 0;const t=st,n=N,r=ee,o=vt,s=Ls,i=Z,c=ca,a=la,u=ma,d=qr,g=jt,M=Hr,k=Zn,V=Ot,y=Fn,p=Fn,v=Y;e.defaultRegistryTypes=[["/cosmos.base.v1beta1.Coin",c.Coin],...y.authzTypes,...y.bankTypes,...y.distributionTypes,...y.feegrantTypes,...y.govTypes,...y.groupTypes,...y.stakingTypes,...y.ibcTypes,...y.vestingTypes];function U(){return{...(0,p.createAuthzAminoConverters)(),...(0,p.createBankAminoConverters)(),...(0,p.createDistributionAminoConverters)(),...(0,p.createGovAminoConverters)(),...(0,p.createStakingAminoConverters)(),...(0,p.createIbcAminoConverters)(),...(0,p.createFeegrantAminoConverters)(),...(0,p.createVestingAminoConverters)()}}e.createDefaultAminoConverters=U;class D extends v.StargateClient{static async connectWithSigner(b,_,w={}){const x=await(0,s.connectComet)(b);return D.createWithSigner(x,_,w)}static async createWithSigner(b,_,w={}){return new D(b,_,w)}static async offline(b,_={}){return new D(void 0,b,_)}constructor(b,_,w){super(b,w),this.defaultGasMultiplier=1.4;const{registry:x=new o.Registry(e.defaultRegistryTypes),aminoTypes:q=new k.AminoTypes(U())}=w;this.registry=x,this.aminoTypes=q,this.signer=_,this.broadcastTimeoutMs=w.broadcastTimeoutMs,this.broadcastPollIntervalMs=w.broadcastPollIntervalMs,this.gasPrice=w.gasPrice}async simulate(b,_,w){const x=_.map(Q=>this.registry.encodeAsAny(Q)),q=(await this.signer.getAccounts()).find(Q=>Q.address===b);if(!q)throw new Error("Failed to retrieve account from signer");const H=(0,t.encodeSecp256k1Pubkey)(q.pubkey),{sequence:F}=await this.getSequence(b),{gasInfo:L}=await this.forceGetQueryClient().tx.simulate(x,w,H,F);return(0,i.assertDefined)(L),r.Uint53.fromString(L.gasUsed.toString()).toNumber()}async sendTokens(b,_,w,x,q=""){const H={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:b,toAddress:_,amount:[...w]}};return this.signAndBroadcast(b,[H],x,q)}async delegateTokens(b,_,w,x,q=""){const H={typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:u.MsgDelegate.fromPartial({delegatorAddress:b,validatorAddress:_,amount:w})};return this.signAndBroadcast(b,[H],x,q)}async undelegateTokens(b,_,w,x,q=""){const H={typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:u.MsgUndelegate.fromPartial({delegatorAddress:b,validatorAddress:_,amount:w})};return this.signAndBroadcast(b,[H],x,q)}async withdrawRewards(b,_,w,x=""){const q={typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:a.MsgWithdrawDelegatorReward.fromPartial({delegatorAddress:b,validatorAddress:_})};return this.signAndBroadcast(b,[q],w,x)}async sendIbcTokens(b,_,w,x,q,H,F,L,Q=""){const _e=F?BigInt(F)*BigInt(1e9):void 0,at={typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:M.MsgTransfer.fromPartial({sourcePort:x,sourceChannel:q,sender:b,receiver:_,token:w,timeoutHeight:H,timeoutTimestamp:_e})};return this.signAndBroadcast(b,[at],L,Q)}async signAndBroadcast(b,_,w,x="",q){let H;if(w=="auto"||typeof w=="number"){(0,i.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const Q=await this.simulate(b,_,x),_e=typeof w=="number"?w:this.defaultGasMultiplier;H=(0,V.calculateFee)(Math.round(Q*_e),this.gasPrice)}else H=w;const F=await this.sign(b,_,H,x,void 0,q),L=g.TxRaw.encode(F).finish();return this.broadcastTx(L,this.broadcastTimeoutMs,this.broadcastPollIntervalMs)}async signAndBroadcastSync(b,_,w,x="",q){let H;if(w=="auto"||typeof w=="number"){(0,i.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const Q=await this.simulate(b,_,x),_e=typeof w=="number"?w:this.defaultGasMultiplier;H=(0,V.calculateFee)(Math.round(Q*_e),this.gasPrice)}else H=w;const F=await this.sign(b,_,H,x,void 0,q),L=g.TxRaw.encode(F).finish();return this.broadcastTxSync(L)}async sign(b,_,w,x,q,H){let F;if(q)F=q;else{const{accountNumber:L,sequence:Q}=await this.getSequence(b),_e=await this.getChainId();F={accountNumber:L,sequence:Q,chainId:_e}}return(0,o.isOfflineDirectSigner)(this.signer)?this.signDirect(b,_,w,x,F,H):this.signAmino(b,_,w,x,F,H)}async signAmino(b,_,w,x,{accountNumber:q,sequence:H,chainId:F},L){(0,i.assert)(!(0,o.isOfflineDirectSigner)(this.signer));const Q=(await this.signer.getAccounts()).find(Sn=>Sn.address===b);if(!Q)throw new Error("Failed to retrieve account from signer");const _e=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(Q.pubkey)),at=d.SignMode.SIGN_MODE_LEGACY_AMINO_JSON,_n=_.map(Sn=>this.aminoTypes.toAmino(Sn)),Lo=(0,t.makeSignDoc)(_n,w,F,x,q,H,L),{signature:zo,signed:Ye}=await this.signer.signAmino(b,Lo),ir={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:Ye.msgs.map(Sn=>this.aminoTypes.fromAmino(Sn)),memo:Ye.memo,timeoutHeight:L}},Ko=this.registry.encode(ir),iu=r.Int53.fromString(Ye.fee.gas).toNumber(),au=r.Int53.fromString(Ye.sequence).toNumber(),cu=(0,o.makeAuthInfoBytes)([{pubkey:_e,sequence:au}],Ye.fee.amount,iu,Ye.fee.granter,Ye.fee.payer,at);return g.TxRaw.fromPartial({bodyBytes:Ko,authInfoBytes:cu,signatures:[(0,n.fromBase64)(zo.signature)]})}async signDirect(b,_,w,x,{accountNumber:q,sequence:H,chainId:F},L){(0,i.assert)((0,o.isOfflineDirectSigner)(this.signer));const Q=(await this.signer.getAccounts()).find(Ko=>Ko.address===b);if(!Q)throw new Error("Failed to retrieve account from signer");const _e=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(Q.pubkey)),at={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:_,memo:x,timeoutHeight:L}},_n=this.registry.encode(at),Lo=r.Int53.fromString(w.gas).toNumber(),zo=(0,o.makeAuthInfoBytes)([{pubkey:_e,sequence:H}],w.amount,Lo,w.granter,w.payer),Ye=(0,o.makeSignDoc)(_n,zo,F,q),{signature:mi,signed:ir}=await this.signer.signDirect(b,Ye);return g.TxRaw.fromPartial({bodyBytes:ir.bodyBytes,authInfoBytes:ir.authInfoBytes,signatures:[(0,n.fromBase64)(mi.signature)]})}}e.SigningStargateClient=D})(sc);(function(e){var t=h&&h.__createBinding||(Object.create?function(y,p,v,U){U===void 0&&(U=v);var D=Object.getOwnPropertyDescriptor(p,v);(!D||("get"in D?!p.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(y,U,D)}:function(y,p,v,U){U===void 0&&(U=v),y[U]=p[v]}),n=h&&h.__setModuleDefault||(Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p}),r=h&&h.__importStar||function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(p,y,v);return n(p,y),p};Object.defineProperty(e,"__esModule",{value:!0}),e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgUndelegateEncodeObject=e.isMsgTransferEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgSendEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDepositEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgCancelUnbondingDelegationEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgVerifyInvariant=e.isAminoMsgUnjail=e.isAminoMsgUndelegate=e.isAminoMsgTransfer=e.isAminoMsgSubmitProposal=e.isAminoMsgSubmitEvidence=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.isAminoMsgFundCommunityPool=e.isAminoMsgEditValidator=e.isAminoMsgDeposit=e.isAminoMsgDelegate=e.isAminoMsgCreateVestingAccount=e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createVestingAminoConverters=e.createStakingAminoConverters=e.createSlashingAminoConverters=e.createIbcAminoConverters=e.createGroupAminoConverters=e.createGovAminoConverters=e.createFeegrantAminoConverters=e.createEvidenceAminoConverters=e.createDistributionAminoConverters=e.createCrysisAminoConverters=e.createBankAminoConverters=e.createAuthzAminoConverters=e.logs=e.GasPrice=e.calculateFee=e.fromTendermintEvent=e.AminoTypes=e.accountFromAny=void 0,e.parseCoins=e.makeCosmoshubPath=e.coins=e.coin=e.TimeoutError=e.StargateClient=e.isDeliverTxSuccess=e.isDeliverTxFailure=e.BroadcastTxError=e.assertIsDeliverTxSuccess=e.assertIsDeliverTxFailure=e.SigningStargateClient=e.defaultRegistryTypes=e.createDefaultAminoConverters=e.isSearchTxQueryArray=e.QueryClient=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.makeMultisignedTxBytes=e.makeMultisignedTx=e.setupTxExtension=e.setupStakingExtension=e.setupSlashingExtension=e.setupMintExtension=e.setupIbcExtension=e.setupGovExtension=e.setupFeegrantExtension=e.setupDistributionExtension=e.setupBankExtension=e.setupAuthzExtension=e.setupAuthExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=void 0;var o=Ln;Object.defineProperty(e,"accountFromAny",{enumerable:!0,get:function(){return o.accountFromAny}});var s=Zn;Object.defineProperty(e,"AminoTypes",{enumerable:!0,get:function(){return s.AminoTypes}});var i=Xn;Object.defineProperty(e,"fromTendermintEvent",{enumerable:!0,get:function(){return i.fromTendermintEvent}});var c=Ot;Object.defineProperty(e,"calculateFee",{enumerable:!0,get:function(){return c.calculateFee}}),Object.defineProperty(e,"GasPrice",{enumerable:!0,get:function(){return c.GasPrice}}),e.logs=r(ge);var a=Fn;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return a.createAuthzAminoConverters}}),Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return a.createBankAminoConverters}}),Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return a.createCrysisAminoConverters}}),Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return a.createDistributionAminoConverters}}),Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return a.createEvidenceAminoConverters}}),Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return a.createFeegrantAminoConverters}}),Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return a.createGovAminoConverters}}),Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return a.createGroupAminoConverters}}),Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return a.createIbcAminoConverters}}),Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return a.createSlashingAminoConverters}}),Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return a.createStakingAminoConverters}}),Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return a.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return a.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return a.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return a.isAminoMsgCreateVestingAccount}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return a.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return a.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return a.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return a.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return a.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return a.isAminoMsgSend}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return a.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return a.isAminoMsgSubmitEvidence}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return a.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return a.isAminoMsgTransfer}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return a.isAminoMsgUndelegate}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return a.isAminoMsgUnjail}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return a.isAminoMsgVerifyInvariant}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return a.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return a.isAminoMsgVoteWeighted}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return a.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return a.isAminoMsgWithdrawValidatorCommission}}),Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCancelUnbondingDelegationEncodeObject",{enumerable:!0,get:function(){return a.isMsgCancelUnbondingDelegationEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return a.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return a.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return a.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return a.isMsgSendEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return a.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return a.isMsgTransferEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return a.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return a.isMsgVoteWeightedEncodeObject}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return a.isMsgWithdrawDelegatorRewardEncodeObject}}),Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return a.setupAuthExtension}}),Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return a.setupAuthzExtension}}),Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return a.setupBankExtension}}),Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return a.setupDistributionExtension}}),Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return a.setupFeegrantExtension}}),Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return a.setupGovExtension}}),Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return a.setupIbcExtension}}),Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return a.setupMintExtension}}),Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return a.setupSlashingExtension}}),Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return a.setupStakingExtension}}),Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return a.setupTxExtension}});var u=pt;Object.defineProperty(e,"makeMultisignedTx",{enumerable:!0,get:function(){return u.makeMultisignedTx}}),Object.defineProperty(e,"makeMultisignedTxBytes",{enumerable:!0,get:function(){return u.makeMultisignedTxBytes}});var d=ae;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return d.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return d.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return d.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return d.QueryClient}});var g=er;Object.defineProperty(e,"isSearchTxQueryArray",{enumerable:!0,get:function(){return g.isSearchTxQueryArray}});var M=sc;Object.defineProperty(e,"createDefaultAminoConverters",{enumerable:!0,get:function(){return M.createDefaultAminoConverters}}),Object.defineProperty(e,"defaultRegistryTypes",{enumerable:!0,get:function(){return M.defaultRegistryTypes}}),Object.defineProperty(e,"SigningStargateClient",{enumerable:!0,get:function(){return M.SigningStargateClient}});var k=Y;Object.defineProperty(e,"assertIsDeliverTxFailure",{enumerable:!0,get:function(){return k.assertIsDeliverTxFailure}}),Object.defineProperty(e,"assertIsDeliverTxSuccess",{enumerable:!0,get:function(){return k.assertIsDeliverTxSuccess}}),Object.defineProperty(e,"BroadcastTxError",{enumerable:!0,get:function(){return k.BroadcastTxError}}),Object.defineProperty(e,"isDeliverTxFailure",{enumerable:!0,get:function(){return k.isDeliverTxFailure}}),Object.defineProperty(e,"isDeliverTxSuccess",{enumerable:!0,get:function(){return k.isDeliverTxSuccess}}),Object.defineProperty(e,"StargateClient",{enumerable:!0,get:function(){return k.StargateClient}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return k.TimeoutError}});var V=vt;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return V.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return V.coins}}),Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return V.makeCosmoshubPath}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return V.parseCoins}})})(fa);const kv=e=>e*1e6;class li{constructor(t,n,r,o){ct(this,"network");ct(this,"chain");ct(this,"rpc");ct(this,"contracts");ct(this,"gatewayAddress");ct(this,"channelToChain",new Map);ct(this,"chainToChannel",new Map);if(this.network=t,this.chain=n,this.rpc=r,this.contracts=o,!fi.has(t,n))throw new Error("Unsupported IBC Chain, no channels available: "+n);this.gatewayAddress=Nt.gatewayAddress(t);const s=fi.get(t,n)??{};for(const[i,c]of Object.entries(s))this.channelToChain.set(c,i),this.chainToChannel.set(i,c)}static async fromRpc(t,n){const[r,o]=await Zo.chainFromRpc(t),s=n[o];if(s.network!==r)throw new Error("Network mismatch: "+s.network+" != "+r);return new li(r,o,t,s.contracts)}getTransferChannel(t){return this.chainToChannel.get(t)??null}async*transfer(t,n,r,o){const s=new hi(t).toString(),i=Math.round(Math.random()*1e4),a={gateway_ibc_token_bridge_payload:{gateway_transfer:{recipient:pi.encode(mu(n.chain)==="Cosmwasm"?n.address.toString():n.address.toUniversalAddress().toUint8Array()),chain:gi(n.chain),nonce:i,fee:"0"}}},u=BigInt(kv(Date.now()+yu)),d=JSON.stringify(a),g=fu(r)?Zo.getNativeDenom(this.network,this.chain):Nt.deriveIbcDenom(this.network,this.chain,new hi(r).toString()),M=fa.coin(o.toString(),g.toString()),k={typeUrl:hu,value:Hr.MsgTransfer.fromPartial({sourcePort:yi,sourceChannel:this.chainToChannel.get(Nt.chain),sender:s,receiver:this.gatewayAddress,token:M,timeoutTimestamp:u,memo:d})};yield this.createUnsignedTx({msgs:[k],fee:dd(this.network,this.chain),memo:"Wormhole.TransferToGateway"},"IBC.transfer")}async lookupTransferFromTx(t){const n=await this.rpc.getTx(t);if(!n)throw new Error(`No IBC transfer found on ${this.chain} with txid: ${t}`);if(n.code!==0)throw new Error(`Transaction failed: ${n.rawLog}`);const r=await this.fetchTransferInfo(n);if(r.length===0)throw new Error(`No IBC transfers found on ${this.chain} with txid: ${t}`);return r}async lookupMessageFromIbcMsgId(t){const n=await this.lookupTxFromIbcMsgId(t);return n?ud.parseWormholeMessageId(Nt.chain,Nt.coreAddress(this.network),n):null}async lookupTxFromIbcMsgId(t){const n=this.chain===t.chain?Qo:bi,{srcChannel:r,dstChannel:o,sequence:s,srcPort:i,dstPort:c}=t,a=await this.rpc.searchTx([{key:`${n}.${vi}`,value:o},{key:`${n}.${wi}`,value:r},{key:`${n}.${ki}`,value:i},{key:`${n}.${_i}`,value:c},{key:`${n}.${Si}`,value:s.toString()}]);if(a.length===0)return null;a.length>1&&console.error(`Expected 1 transaction, got ${a.length} found for IbcMsgid: ${t}`);const[u]=a;return u}async lookupTransferFromIbcMsgId(t){const n=await this.lookupTxFromIbcMsgId(t);if(!n)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);const r=await this.fetchTransferInfo(n);if(r.length===0)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);return r}async lookupTransferFromMsg(t){const n=pi.encode(JSON.stringify(t)),r=await this.rpc.searchTx([{key:"wasm.transfer_payload",value:n}]);if(r.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(n));r.length!==1&&console.error("Expected 1 tx, got: ",r.length);const[o]=r,s=await this.fetchTransferInfo(o);if(s.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(n));return s}async fetchTransferInfo(t){const n=this.parseIbcTransferInfo(t),r=[];for(const o of n){const s=Zo.getQueryClient(this.rpc);try{await s.ibc.channel.packetCommitment(yi,o.id.srcChannel,o.id.sequence),o.pending=!0}catch(i){if(!i.message.includes("packet commitment hash not found: key not found"))throw i}r.push(o)}return r}parseIbcTransferInfo(t){const n=t.events.filter(o=>o.type===Qo||o.type===bi);if(n.length===0)throw new Error(`No IBC Transfers on ${this.chain} found in: ${t.hash}`);const r=new Set;for(const o of n){const s={pending:!1},i={};for(const c of o.attributes)c.key===wi&&(i.srcChannel=c.value),c.key===vi&&(i.dstChannel=c.value),c.key===Si&&(i.sequence=Number(c.value)),c.key===ki&&(i.srcPort=c.value),c.key===_i&&(i.dstPort=c.value),c.key===pu&&(s.data=JSON.parse(c.value));if(i.chain=o.type===Qo?this.chain:this.channelToChain.get(i.dstChannel),gu(i))s.id=i;else throw new Error("Invalid IbcMessageId: "+JSON.stringify(i));if(md(s))r.add(s);else throw new Error("Invalid IbcTransferInfo: "+JSON.stringify(s))}return Array.from(r)}async fetchTransferChannel(t){if(this.chain!==Nt.chain)throw new Error("Cannot query the transfer channels from a non-gateway chain");const{channel:n}=await this.rpc.queryContractSmart(this.gatewayAddress,{ibc_channel:{chain_id:gi(t)}});return n}createUnsignedTx(t,n,r=!1){return new ld(t,this.network,this.chain,n,r)}}bu(vu,"IbcBridge",li);export{li as CosmwasmIbcBridge};
